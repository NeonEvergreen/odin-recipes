var ZCUser=function(a){var b=a.userDetails;return{loginEmail:a.loginEmail,loginUserName:void 0!=b?b.loginUserName:"",scopeName:a.scopeName,userImageURL:a.userProfile,getPlanDetails:function(){return{getPlanNo:function(){return b.planNo},getPlanName:function(){return b.planName},isC5PaymentEnabled:function(){return b.isC5PaymentEnabled},isSchedulesAllowed:function(){return b.isSchedulesAllowed},isZCloudFunctionEnabled:function(){return b.isZCloudFunctionEnabled}}}}}(variable);function ZCURL(a,b){this.context="appbuilder";this.componentType=b;this.linkName=a.compLinkName;this.serverPrefix=a.serverPrefix;this.sharedByDisp=a.scopeName;this.appLinkName=a.appLinkName;this.variables=a;this.productionAppLinkName=a.productionAppLinkName;this.getEditUrl=function(){return this.variables.APP.getURL()+"/edit"};this.getDeleteUrl=function(){};this.getDuplicateUrl=function(){};this.getLiveUrl=function(){};this.getPublicUrl=function(){};this.getLivePermaUrl=function(){};this.getLiveEmbedUrl=
function(){}}
function ZCFormURL(a){ZCURL.call(this,a,Constants.FORM);this.getEditUrl=function(){return this.variables.FORM.getBaseURL()+"/edit"};this.getDeleteUrl=function(){return this.variables.FORM.getBaseURL()+"/delete"};this.getDuplicateUrl=function(){return this.variables.FORM.getBaseURL()+"/duplicate"};this.getConnectionsUrl=function(){return this.variables.FORM.getBaseURL()+"/connection/references"};this.getLiveUrl=function(){return this.variables.FORM.getLiveURL()};this.getPublicUrl=function(a){a=a?"embed":
"perma";return this.variables.publicServerPrefix+"/"+this.variables.APP.getAppUrlFragment()+"/form-"+a+"/"+this.linkName};this.getLiveIframeUrl=function(){return"\x3ciframe height\x3d'500px' width\x3d'100%' frameborder\x3d'0' allowTransparency\x3d'true' scrolling\x3d'auto' src\x3d'"+this.getLiveEmbedUrl()+"'\x3e\x3c/iframe\x3e"};this.getLivePermaUrl=function(){return this.variables.APP.getLiveURL()+"form-perma/"+this.linkName};this.getLiveEmbedUrl=function(){return this.variables.APP.getLiveURL()+
"form-embed/"+this.linkName};this.getWorkflowUrl=function(){return this.variables.FORM.getBaseURL()+"/workflow/edit"};this.getFormSettingUrl=function(a){return isNull(a)?this.variables.FORM.getBaseURL()+"/settings/edit":this.variables.FORM.getBaseURL()+"/settings/edit#"+a};this.getNewFormUrl=function(){return this.serverPrefix+"/"+this.context+"/"+this.sharedByDisp+"/form/new"};this.getNewRuleUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/newRule"};this.addFieldUrl=function(){return this.variables.FORM.getBaseURL()+
"/edit/addField"};this.addThirdPartyFieldUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/addThirdPartyField"};this.deleteThirdPartyFieldUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/deleteThirdPartyField"};this.addSubformUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/addSubform"};this.getFieldUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/getField"};this.getButtonUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/getButton"};this.updateFieldUrl=
function(){return this.variables.FORM.getBaseURL()+"/edit/updateField"};this.fieldPosUpdateUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/updateFieldPosition"};this.fieldHeightUpdateUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/updateFieldHeight"};this.fieldWidthUpdateUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/updateFieldWidth"};this.isDataPresentOnDeleteUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/isDataPresentOnDelete"};this.updateReportColumnNameUrl=
function(){return this.variables.FORM.getBaseURL()+"/edit/updateReportColumnName"};this.fieldOnUserInputUrl=function(a,c,d){scriptaction=d==Constants.SUB_FORM_GRID?"#OnAddRow":"#OnUserInput";c=isNull(c)?"":c+"/";return this.variables.FORM.getBaseURL()+"/"+c+a+"/workflow/edit"+scriptaction};this.buttonWorkflowUrl=function(a){return this.variables.FORM.getBaseURL()+"/"+a+"/workflow/edit#OnAddOnSuccss"};this.deleteButtonUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/deleteButton"};this.addTaskURL=
function(){return this.variables.FORM.getBaseURL()+"/settings/edit/addTask"};this.editTaskURL=function(){return this.variables.FORM.getBaseURL()+"/settings/edit/editTask"};this.updateTaskURL=function(){return this.variables.FORM.getBaseURL()+"/settings/edit/updateTask"};this.getRefFormFieldsURL=function(){return this.variables.FORM.getBaseURL()+"/edit/getRefFormFields"};this.adjustSubformWidthURL=function(){return this.variables.FORM.getBaseURL()+"/edit/adjustSubformWidth"};this.addLookupURL=function(){return this.variables.FORM.getBaseURL()+
"/edit/getLookupConf"};this.buttonReorderURL=function(){return this.variables.FORM.getBaseURL()+"/edit/reorderButton"};this.fieldReorderURL=function(){return this.variables.FORM.getBaseURL()+"/edit/reorderField"};this.layoutChangeURL=function(){return this.variables.FORM.getBaseURL()+"/edit/changeFieldLayout"};this.getUsersURL=function(){return this.variables.FORM.getBaseURL()+"/edit/getUsersInfo"};this.deleteFieldURL=function(){return this.variables.FORM.getBaseURL()+"/edit/deleteField"};this.retrainModelURL=
function(){return this.variables.FORM.getBaseURL()+"/edit/retrainModel"};this.closeModelMessage=function(){return this.variables.FORM.getBaseURL()+"/edit/closeModelMessage"};this.predictionCriteriaURL=function(){return this.variables.FORM.getBaseURL()+"/edit/getPredictionCriteriaBuilder"};this.setCriteriaURL=function(){return this.variables.FORM.getBaseURL()+"/edit/setCriteria"};this.fieldTypeChangeURL=function(){return this.variables.FORM.getBaseURL()+"/edit/typeChange"};this.getIntegrationServiceUrl=
function(){return"/userhome/"+this.sharedByDisp+"/integrationService"};this.getEmailTemplateUrl=function(){return this.variables.FORM.getBaseURL()+"/getEmailTemplate"};this.getEmailDataUpdateUrl=function(){return this.variables.FORM.getBaseURL()+"/updateEmailData"};this.getSourceTrackingUrl=function(){return this.variables.FORM.getBaseURL()+"/sourcetracking"};this.getEncryptionUpdateUrl=function(){return this.variables.FORM.getBaseURL()+"/edit/updateEncryptionProp"};this.getEncryptionReferenceCheckUrl=
function(){return this.variables.FORM.getBaseURL()+"/edit/checkEncryptionReference"};this.getARSets=function(){return this.variables.FORM.getBaseURL()+"/edit/getARSets"};this.getSelectFieldChoices=function(){return this.variables.FORM.getBaseURL()+"/edit/getSelectFieldChoices"};this.getVerifyEmailUrl=function(){return this.variables.APP.getURL()+"/form/edit/addVerifyEmailAddress"};this.getVerifiedEmailLimitCheckUrl=function(){return this.variables.APP.getURL()+"/checkVerifiedEmailLimit"}}
ZCFormURL.prototype=Object.create(ZCURL.prototype);ZCFormURL.prototype.constructor=ZCFormURL;
function ZCReportURL(a,b){ZCURL.call(this,a,Constants.REPORT);this.isZohoReport=b;this.getEditUrl=function(){return this.variables.REPORT.getBaseURL()+"/edit"};this.getDeleteUrl=function(){return this.variables.REPORT.getBaseURL()+"/delete"};this.getDuplicateUrl=function(){return this.variables.REPORT.getBaseURL()+"/duplicate"};this.getLiveUrl=function(){return this.variables.REPORT.getLiveURL()};this.getPublicUrl=function(a){a=a?"embed":"perma";return this.isZohoReport?this.variables.publicServerPrefix+
"/"+this.variables.APP.getAppUrlFragment()+"/report-"+a+"/"+this.linkName:this.variables.publicServerPrefix+"/"+this.variables.APP.getAppUrlFragment()+"/view-"+a+"/"+this.linkName};this.getLivePermaUrl=function(){return this.isZohoReport?this.variables.APP.getLiveURL()+"report-perma/"+this.linkName:this.variables.APP.getLiveURL()+"view-perma/"+this.linkName};this.getLiveEmbedUrl=function(){return this.isZohoReport?this.variables.APP.getLiveURL()+"report-embed/"+this.linkName:this.variables.APP.getLiveURL()+
"view-embed/"+this.linkName};this.getWorkflowUrl=function(){return this.variables.REPORT.getBaseURL()+"/workflow/edit"}}ZCReportURL.prototype=Object.create(ZCURL.prototype);ZCReportURL.prototype.constructor=ZCReportURL;
function ZCPageURL(a){ZCURL.call(this,a,Constants.PAGE);this.getEditUrl=function(){return this.variables.PAGE.getBaseURL()+"/edit"};this.getDeleteUrl=function(){return this.variables.PAGE.getBaseURL()+"/delete"};this.getDuplicateUrl=function(){return this.variables.PAGE.getBaseURL()+"/duplicate"};this.getLiveUrl=function(){return this.variables.PAGE.getLiveURL()};this.getPublicUrl=function(a){a=a?"embed":"perma";return this.variables.publicServerPrefix+"/"+this.variables.APP.getAppUrlFragment()+"/view-"+
a+"/"+this.linkName};this.getLivePermaUrl=function(){return this.variables.APP.getLiveURL()+"view-perma/"+this.linkName};this.getLiveEmbedUrl=function(){return this.variables.APP.getLiveURL()+"view-embed/"+this.linkName}}ZCPageURL.prototype=Object.create(ZCURL.prototype);ZCPageURL.prototype.constructor=ZCPageURL;
function ZCSettingsURL(a){ZCURL.call(this,a);this.getAppURL=function(){return"/"+this.context+"/"+this.variables.APP.getAppUrlFragment()};this.getAppSettingURL=function(a){return this.getAppURL()+"/"+a+"/edit"};this.getFormSettingsURL=function(a,c){return this.getAppURL()+"/form/"+a+"/settings/edit/"+c};this.getRecordAuditURL=function(a){return this.getAppURL()+"/recordAudit/"+a};this.getSandboxUrl=function(){return this.getAppURL()+"/sandbox/edit"};this.getBackupUrl=function(){return this.getAppURL()+
"/backup/"};this.getProductionPatchUrl=function(){return"/"+this.context+"/"+this.sharedByDisp+"/"+this.appLinkName+"/patch"};this.getVersionUrl=function(){return"/"+this.context+"/sandbox/"+this.sharedByDisp+"/"+this.productionAppLinkName+"/version"};this.getSettingsUrl=function(){return this.getAppURL()+"/settings/edit"};this.getCustomizeUrl=function(){return this.getAppURL()+"/customize/edit"};this.getSectionsUrl=function(){return this.getAppURL()+"/sections/edit"};this.getUsersUrl=function(){return this.getAppURL()+
"/users/edit"};this.getPortalUrl=function(){return this.getAppURL()+"/customerportal/edit"};this.getTranslateUrl=function(){return this.getAppURL()+"/localization/edit"};this.getChatUrl=function(){return this.getAppURL()+"/chat/edit"};this.getCustomThemesURL=function(){return this.getAppURL()+"/customthemes/edit"};this.getCustomAppearenceUrl=function(){return this.getAppURL()+"/publish/customappearence"};this.getUsagelogUrl=function(){return this.getAppURL()+"/usagelog/edit"};this.getDataTableAjaxUrl=
function(){return this.getAppURL()+"/usagelog/edit/loadDatatableAjax"};this.getPublishUrl=function(a){return this.getAppURL()+"/publish/"+a.urlMethod};this.getPublicUrl=function(a){return(ZCGlobal.isOnPremiseVersion?this.variables.liveServerPrefix:this.variables.publicServerPrefix)+"/"+appbuilder.component.APP.getAppUrlFragment()+"/"+a.compType+"-"+a.typeMod+"/"+a.compLinkName+"/"+a.privateLink};this.getPublishPreviewUrl=function(a){return(ZCGlobal.isOnPremiseVersion?this.variables.liveServerPrefix:
this.variables.newLivePublicServerPrefix)+"/preview/"+appbuilder.component.APP.getAppUrlFragment()+"/"+a.compType+"-"+a.typeMod+"/"+a.compLinkName+"/"+a.privateLink};this.getContextualMessagesUrl=function(){return this.getAppURL()+"/contextualMessages/"}}ZCSettingsURL.prototype=Object.create(ZCURL.prototype);ZCSettingsURL.prototype.constructor=ZCSettingsURL;
function ZCRecordAuditURL(a){ZCSettingsURL.call(this,a);this.getAuditListing=function(a){return this.getAppURL()+"/audittrail/"+a+"/edit"};this.getDetailedAudit=function(a){return this.getAppURL()+"/auditdetail/"+a+"/edit"};this.getAuditSetting=function(){return this.getAppURL()+"/settings/edit/saveAuditTrailSettings"};this.getAuditExport=function(a){return this.getAppURL()+"/audittrail/"+a+"/export"}}ZCRecordAuditURL.prototype=Object.create(ZCSettingsURL.prototype);
ZCRecordAuditURL.prototype.constructor=ZCRecordAuditURL;function zcDebounce(a,b){b||(b=250);var c;return function(){var d=this,e=arguments;clearTimeout(c);c=setTimeout(function(){c=null;a.apply(d,e)},b)}}function zcThrottle(a,b){b||(b=250);var c=0;return function(){var d=arguments,e=+new Date;e>=c+b&&(c=e,a.apply(this,d))}}function ZCWebStorage(){}ZCWebStorage.localStore={};ZCWebStorage.fallback=!1;
ZCWebStorage.setItem=function(a,b){if("undefined"!==typeof Storage)try{localStorage.setItem(a,b)}catch(c){ZCWebStorage.fallback=!0}else ZCWebStorage.fallback=!0;ZCWebStorage.fallback&&(ZCWebStorage.localStore[a]=b)};ZCWebStorage.getItem=function(a){if(ZCWebStorage.fallback||"undefined"===typeof Storage)var b=!0;else try{return localStorage.getItem(a)}catch(c){b=!0}if(b)return ZCWebStorage.localStore[a]};
ZCWebStorage.hasItem=function(a,b){a=ZCWebStorage.getItem(a);return void 0!=a&&void 0==b||void 0!=a&&void 0!=b&&a==b};ZCWebStorage.remove=function(a){var b=!1;if(ZCWebStorage.fallback||"undefined"===typeof Storage)b=!0;else try{localStorage.removeItem(a)}catch(c){b=!0}b&&delete ZCWebStorage.localStore[a]};var IP_LOCATE={};
function iplocate(a,b,c){if("dev"==ZCGlobal.buildSetup||"local"==ZCGlobal.buildSetup)IP_LOCATE={OLSON_TIME_ZONE:"ASIA/KOLKATA",CITY:"CHENNAI",ZIPCODE:"600009",LONGITUDE:"80.278470",ISP_NAME:"TATA COMMUNICATIONS LIMITED",COUNTRY_NAME:"INDIA",TIMEZONE:"+05:30",NETSPEED:"DSL",DOMAIN_NAME:"TATACOMMUNICATIONS.COM",LATITUDE:"13.087840",REGION:"TAMIL NADU",COUNTRY_CODE:"IN"},a(IP_LOCATE);else if(0==Object.keys(IP_LOCATE).length){var d=Constants.IP_INFO_URL,e={};isNull(c)||(e.privatelink=c);e[ZCGlobal.csrfTokenName]=
getCSRF();$.post(d,e).done(function(b){IP_LOCATE=b;a(b)}).fail(b)}else a(IP_LOCATE)}function setKeyParam(a,b){return a.replace(/\{(\d+)\}/g,function(a,d){return b[d]})}
function insertContent(a,b){var c=$(a).val(),d=$(a).prop("selectionStart");if(document.selection)$(a).trigger("focus"),document.selection.createRange().text=$(this).val(),$(a).trigger("focus");else if(d||"0"==d){var e=$(a).prop("selectionEnd");c=c.substring(0,d)+b+c.substring(e,c.length);$(a).val(c);$(a).trigger("focus");$(a).prop("selectionStart",d+b.length);$(a).prop("selectionEnd",d+b.length)}else c+=b,$(a).trigger("focus"),$(a).val(c)}
$.fn.dtPicker=function(a){var b=$(this),c=function(b){function c(a,b){for(var c=[],d=[],e=0;e<a.length;e++)c[a[e]]=!0;for(e=0;e<b.length;e++)c[b[e]]?delete c[b[e]]:c[b[e]]=!0;for(var f in c)d.push(f);return d}var d=a.initParent?$(b).parent():b;if(void 0!=$(d).data("dtpicker"))return $(d).data("dtpicker");var e=function(a){delete $.fn.datetimepicker.defaults.keyBinds.t;var e=a.value?a.value:$(b).val(),f=/^(?:\$\{zoho\.(currenttime|currentdate)\}+$)/,g="zc-dem-date-picker-icon "+(void 0==a.iconClass?
"zc-em zc-common-calendar":a.iconClass),h=!0,k=[0,1,2,3,4,5,6],l=void 0==a.format?"DD-MMM-YYYY":a.format,n=void 0==a.onShowCallback?function(){}:a.onShowCallback,L=void 0==a.onChangeCallback?function(){}:a.onChangeCallback,F=void 0==a.onHideCallback?function(){}:a.onHideCallback,M=-1==l.indexOf(":")?!0:void 0==a.defaultConfig?!1:a.defaultConfig,P=-1!=l.indexOf("A")?!1:!0;if(a.showClearValue){var O=$(b).parent(),Q=""!=e?"":"hide";void 0!=a.clearIconCallbk?(a.clearIconCallbk(Q),O=$(b)):(Q="\x3cspan class\x3d'zc-dem-date-picker-clear-icon "+
Q+"'\x3e\x3ci class\x3d'zc-db-em zc-dbemcommon-close'\x3e\x3c/i\x3e\x3c/span\x3e",$(O).find(".zc-dem-date-picker-clear-icon").length||($(O).css("position","relative"),$(O).append(Q)));var R=$(O).find(".zc-dem-date-picker-clear-icon");$(R).off("click").on("click",function(b){m(a.clearCallback)})}a.showIcon&&($(b).siblings("#zc-dtpicker-icon").length||$("\x3ci\x3e\x3c/i\x3e").attr("id","zc-dtpicker-icon").addClass(g).insertAfter($(b)),$(b).siblings("#zc-dtpicker-icon").off("click").on("click",function(){$(b).trigger("focus")}));
isNull(e)&&(h=!1,e=moment());$("body").find("#active-DatePicker-Cont").length||$("body").append('\x3cdiv id\x3d"active-DatePicker"\x3e\x3cdiv style\x3d"position:relative" id\x3d"active-DatePicker-Cont" class\x3d"zc-dem-datepicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"" class\x3d"zc-scroll-mask" style\x3d"display: none;"\x3e\x3c/div\x3e');e={locale:"en-US",useCurrent:void 0==a.useCurrent?!1:a.useCurrent,keepInvalid:void 0==a.keepInvalid?!1:a.keepInvalid,format:l,defaultDate:void 0==a.defaultDate?
e:a.defaultDate,debug:!1,allowInputToggle:!0,minDate:void 0==a.minDate?!1:a.minDate,maxDate:void 0==a.maxDate?!1:a.maxDate,sideBySide:void 0==a.sideBySide?!0:a.sideBySide,showTodayButton:void 0==a.showTodayButton?!1:a.showTodayButton,showClear:void 0==a.showClear?!1:a.showClear,showClose:void 0==a.showClose?!1:a.showClose,useStrict:!0,daysOfWeekDisabled:void 0==a.allowedDays?!1:c(k,a.allowedDays.split(",")),enabledHours:void 0==a.allowedHours?!1:a.allowedHours,disabledHours:void 0==a.notallowedHours?
!1:a.notallowedHours,widgetPositioning:void 0==a.widgetPointer?{horizontal:"auto",vertical:"auto"}:a.widgetPointer,widgetParent:$("#active-DatePicker-Cont"),parseInputDate:void 0==a.parseInputDate?function(b){if(1==a.isSysVar&&f.test(b))b=moment("");else{moment.locale("en-US",{weekdaysMin:"Sun Mon Tue Wed Thu Fri Sat".split(" ")});if(moment.isMoment(b)||b instanceof Date)b=moment(b);else if(b=moment(b,l),2==(l.match(/Y/g)||[]).length){var c=Math.floor(b.year()%100),d=new Date,e=Math.floor(d.getFullYear()/
100);d=(d.getFullYear()-80)%100;Math.abs(c>d)&&--e;b.set("year",100*e+c)}b.isValid()||(b=moment())}return b}:a.parseInputDate,ignoreReadonly:void 0==a.ignoreReadonly?!1:a.ignoreReadonly,focusOnShow:void 0==a.focusOnShow?!0:a.focusOnShow,keepOpen:void 0==a.keepOpen?!1:a.keepOpen,stepping:void 0==a.timeInterval?1:a.timeInterval};void 0!=a.icons&&(e.icons=a.icons);void 0!=a.zcLocale&&(e.zcLocale=a.zcLocale);void 0!=a.toolbarPlacement&&(e.toolbarPlacement=a.toolbarPlacement);a.customInput&&delete e.parseInputDate;
$(d).datetimepicker(e);h||(void 0!=a.defaultValueCallbk?a.defaultValueCallbk():a.initParent?$(d).children(":input").val(""):$(d).val(""));$(d).on("dp.show",function(b){$(d).addClass("zc-date-picker-enabled");var c=ifreeze({container:"body",type:ZCFreezeConstants.MASK_ONLY_TYPE});$(c).after($("body").find("#active-DatePicker"));var e=void 0!=a.dtPickerLocateElem?a.dtPickerLocateElem:$(b.target);c=$(e).offset();var f=c.top+$(e).height()+($(e).outerHeight(!0)-$(e).height())/2,g=c.left+($(e).outerWidth(!0)-
$(e).width())/2,h=g+$(".bootstrap-datetimepicker-widget").outerWidth(!0);$(".bootstrap-datetimepicker-widget").outerHeight(!0);h-51>$(window).width()&&(g-=$(".bootstrap-datetimepicker-widget").outerWidth(!0)-$(e).width());e="top";h=$(window).height()-f;var k=c.top-$(".bootstrap-datetimepicker-widget").outerHeight(!0);0==$(window).scrollTop()&&(c.top>$(".bootstrap-datetimepicker-widget").height()?h<$(".bootstrap-datetimepicker-widget").outerHeight(!0)?f=k:e="bottom":h<c.top?f=k:h>f&&(e="bottom"));
0!=$(window).scrollTop()&&(f-=$(window).scrollTop(),f+$(".bootstrap-datetimepicker-widget").outerWidth(!0)>$(window).height()&&(f-=$(".bootstrap-datetimepicker-widget").outerHeight(!0)+$(b.target).height(),e="bottom"));"top"==e?$(".bootstrap-datetimepicker-widget").removeClass("bottom").addClass("top"):$(".bootstrap-datetimepicker-widget").removeClass("top").addClass("bottom");$(".bootstrap-datetimepicker-widget").css({top:f+"px",left:g+"px",bottom:"auto",right:"auto",position:"fixed"});$(".bootstrap-datetimepicker-widget").css("z-index",
"9991");2==(a.format.match(/Y/g)||[]).length&&(b=(new Date).getFullYear()-79,c=(new Date).getFullYear()+20,$(d).data("dtpicker").minDate(moment("01 01 "+b,"MM DD YYYY")),$(d).data("dtpicker").maxDate(moment("12 31 "+c,"MM DD YYYY")));M||showTimePickerCustomConfig(P);n()});$(d).on("dp.hide",function(c){$(d).removeClass("zc-date-picker-enabled");$(".zc-scroll-mask").hide();unfreeze({container:"body",type:ZCFreezeConstants.MASK_ONLY_TYPE});""!=$(b).val()&&a.showClearValue&&$(R).removeClass("hide");F();
$(b).trigger("blur")});$(d).off("dp.change").on("dp.change",function(b){L(b);a.showClearValue&&$(R).removeClass("hide");M||P||changeTimeMeridiem()})};try{if(getConfig().useCompression&&void 0!=Modules.DATETIMEPICKER){var k=new Requires(Modules.DATETIMEPICKER);require(k.get(),k.getPromise(function(){e(a);if($(d).data("DateTimePicker")){var c=$(b).attr("initialValue");if(""!=c){var f=/^(?:\$\{zoho\.(currenttime|currentdate)\}+$)/;1==a.isSysVar&&f.test(c)&&($(b).val(c),$(d).find(".zc-dem-date-picker-clear-icon").hasClass("hide")&&
$(d).find(".zc-dem-date-picker-clear-icon").removeClass("hide"))}$(b).parent("#systemValueClose").show()}}))}else if(e(a),$(d).data("DateTimePicker")){var l=$(b).attr("initialValue");""!=l&&(k=/^(?:\$\{zoho\.(currenttime|currentdate)\}+$)/,1==a.isSysVar&&k.test(l)&&($(b).val(l),$(d).find(".zc-dem-date-picker-clear-icon").hasClass("hide")&&$(d).find(".zc-dem-date-picker-clear-icon").removeClass("hide")));$(b).parent("#systemValueClose").show()}}catch(n){window.console.log(n)}l={destroy:function(){$(b).parent().find(".zc-dem-date-picker-clear-icon").remove();
$(b).siblings("#zc-dtpicker-icon").remove();$(d).removeData("dtpicker");return $(d).data("DateTimePicker").destroy()},clear:function(a){m(a)},disable:function(){if(a.initParent){var b=$(d).find(".zc-dem-date-picker-clear-icon");$(d).find("input[type\x3dtext]").attr("disabled",!0)}else b=$(d).parent().find(".zc-dem-date-picker-clear-icon"),$(d).attr("disabled",!0);$(b).length&&$(b).removeClass("hide").addClass("hide");return $(d)},enable:function(){if(a.initParent){var b=$(d).find(".zc-dem-date-picker-clear-icon");
$(d).find("input[type\x3dtext]").prop("disabled",!1)}else b=$(d).parent().find(".zc-dem-date-picker-clear-icon"),$(d).prop("disabled",!1);$(b).length&&$(b).removeClass("hide");return $(d)},date:function(){return $(d).data("DateTimePicker").date()},format:function(a){return $(d).data("DateTimePicker").format(a)},minDate:function(a){return $(d).data("DateTimePicker").minDate(a)},maxDate:function(a){return $(d).data("DateTimePicker").maxDate(a)},show:function(){return $(d).data("DateTimePicker").show()}};
var m=function(b){var c=d;a.initParent?(clearIcon=$(d).find(".zc-dem-date-picker-clear-icon"),c=$(d).find("input[type\x3dtext]")):clearIcon=$(d).parent().find(".zc-dem-date-picker-clear-icon");$(clearIcon).removeClass("hide").addClass("hide");$(c).val("");b&&(b(),$(clearIcon).removeClass("hide").addClass("hide"))};$(d).data("dtpicker",l);return l};if(1<$(b).length){var d=[];$(b).each(function(a){d.push(c(this))});return d}return c(b)};
function getTimeFormat(a,b){void 0==b&&(b=variable.is24HrFormat);return b?a?"HH:mm:ss":"HH:mm":a?"hh:mm:ss A":"hh:mm A"}
function showTimePickerCustomConfig(a){var b=$("#active-DatePicker-Cont .timepicker"),c=$(b).find(".timepicker-picker");$(b).find(".time-meridiem").length||(a?$(c).removeClass("show-meridiem"):($(c).addClass("show-meridiem"),a=$(b).find("tr td .btn-primary").text(),$(c).append("\x3cdiv class\x3d'time-meridiem'\x3e\x3cbutton class\x3d'meridiem' id\x3d'ante-meridiem' onclick\x3d'changeMeridiem(this)'\x3eAM\x3c/button\x3e\x3cbutton class\x3d'meridiem' id\x3d'post-meridiem' onclick\x3d'changeMeridiem(this)'\x3ePM\x3c/button\x3e\x3c/div\x3e"),"AM"==
a?$(c).find("#ante-meridiem").addClass("active"):$(c).find("#post-meridiem").addClass("active")));$(b).find(".zc-timepicker-backbutton").length||(b=$(b).find("\x3e div:not(:first-child)"),$(b).prepend("\x3ca class \x3d 'zc-timepicker-backbutton' id \x3d'pickerBack' onclick\x3d'backToPickerHome(this)'\x3e\x3ci class\x3d'zc-li-outline arrows-1-minimal-left'\x3e\x3c/i\x3e \x3cspan\x3e"+i18n["zc.common.back"]+"\x3c/span\x3e\x3c/a\x3e"))}
function changeMeridiem(a){var b=$("#active-DatePicker-Cont .timepicker").find("tr td .btn-primary");a=a.textContent;var c=$(b).text();a!=c&&$(b).click()}function backToPickerHome(a){$(a).parent().css("display","none");$("#active-DatePicker-Cont .timepicker .timepicker-picker").css("display","block")}
function changeTimeMeridiem(){var a=$("#active-DatePicker-Cont .timepicker"),b=$(a).find(".timepicker-picker");a=$(a).find("tr td .btn-primary").text();var c=$(b).find("#ante-meridiem");b=$(b).find("#post-meridiem");"AM"==a&&$(b).hasClass("active")?($(c).addClass("active"),$(b).removeClass("active")):"PM"==a&&$(c).hasClass("active")&&($(b).addClass("active"),$(c).removeClass("active"))}var ZCModalConstants={MODAL_SUBMIT:1,MODAL_CANCEL:2,MODAL_BUTTON:3,AJAX_MODAL:1,JIT_MODAL:2,CUSTOM_MODEL:3};
$zcmodal={_modalStack:[],_theme:"default",getTopPopup:function(){if(void 0!=this._modalStack[this._modalStack.length-1])return this._modalStack[this._modalStack.length-1].value},hasInstance:function(){return 0<this._modalStack.length},getModal:function(a){var b;for(b in this._modalStack){var c=this._modalStack[b];if(c.key==a)var d=c.value}return d}};
function ZCModal(a,b){this.target=a;var c=$.extend({},this.defaults,b);this._data=c;this.getOptions=function(){return c};this.isCloseOnEsc=function(){return c.closeOnEsc};this.getBeforeClose=function(){return c.beforeClose};this.getAfterClose=function(){return c.afterClose};this.open()}
ZCModal.prototype.defaults={zcmodalId:"",title:null,bodyClass:null,wrapperClass:"",showClose:!0,closeOnEsc:!0,closeOnAnyClick:!1,hideHeader:!1,hideFooter:!1,showInFullScreen:!1,showInSlideScreen:!1,skipFreeze:!1,type:ZCModalConstants.JIT_MODAL,modalBody:null,ajaxuri:null,showPreloader:!1,buildDOM:function(){return""},buttons:[],overrideActions:!1,beforeShow:function(a){},beforeClose:function(a){return!0},afterClose:function(){},afterOpen:function(a){}};
ZCModal.prototype.setModalBody=function(){var a=this.getOptions(),b=this;switch(a.type){case ZCModalConstants.AJAX_MODAL:b.$modalBody="";$.ajax({beforeSend:function(){a.showPreloader&&(LIB._startLoading(),this.async=!0)},url:a.ajaxuri,type:"GET",async:!1,success:function(c,d,e){b.$modalBody=c;a.showPreloader&&(b.setBody(c),LIB._stopLoading())}});break;case ZCModalConstants.JIT_MODAL:case ZCModalConstants.CUSTOM_MODEL:b.$modalBody=a.buildDOM()}};
ZCModal.prototype.setBody=function(a){this.$overlay.find(this.getOptions().containerClass).fadeIn("slow",function(){$(this).html(a)})};ZCModal.prototype.getBody=function(){return this.$overlay.find(this.getOptions().containerClass)};
ZCModal.prototype.addShortcut=function(){var a=this,b=a.getOptions(),c=Shortcut.pushContext(b.shortcutContext);isNull(b.shortcutContext)||(isNull(b.submitOnEnterKey)||1!=b.submitOnEnterKey||c.assign(Keys.ENTER.code,function(){a.$container.find("[name\x3d'ok']").click()}),b.shortcutContext==KeyContexts.POPUP.ALERT?c.assign(Keys.ESCAPE.code,function(){a.$container.find("[name\x3d'ok']").click()}):c.assign(Keys.ESCAPE.code,function(){a.$container.find("[name\x3d'cancel']").click()}));b.showClose&&c.assign(Keys.ESCAPE.code,
function(){a.close()})};
ZCModal.prototype.open=function(){var a=this;options=a.getOptions();this._optionCache={};a.buildDOM();a.buildModal();options.zcmodalId=isNull(options.zcmodalId)?a.$container.prop("id"):options.zcmodalId;options.overrideActions?options.bindActions(a):a.addEventListeners();ZCGlobal.isMobileLayout&&$(".zc-mobile-back-button").hide();a._optionCache.type=options.type;a.$overlay.show().data(a);isNull(options.zcmodalId)?a.$key=$zcmodal._modalStack.length:a.$key=options.zcmodalId;ZCGlobal.isMobileLayout&&
!isNull(options.wrapperClass)&&"zc-mob-fullscreen"===options.wrapperClass&&(a.$body.find(".zc-mobile-layout").addClass("zc-container-hide"),$.each($zcmodal._modalStack.slice(0,a.index),function(){$(this.$overlay).addClass("zc-container-hide")}));setTimeout(function(){a.$body.addClass("zcmodal_active")},$zcmodal.hasInstance()?0:50);isNull(options.shortcutContext)||a.addShortcut();options.beforeShow(a.getBody());a.index=$zcmodal._modalStack.push({key:a.$key,value:a})-1;a.$overlay.show();options.afterOpen(a.getBody());
options.select2Focus&&setTimeout(function(){select2FocusField(a.$overlay.find(".zc-dem-field-group:first"))},100)};
ZCModal.prototype.close=function(){var a=this,b=a.getOptions();0!=a.getBeforeClose()(a.$container)&&(void 0!=a.index&&$zcmodal._modalStack.splice($zcmodal._modalStack.length-1,1),b.skipFreeze||unfreeze(),isNull(b.popupType)?$zcmodal.hasInstance()||$(document.body).removeClass("zcmodal_active"):Shortcut.popContext(),ZCGlobal.isMobileLayout&&!$zcmodal.hasInstance()&&$(".zc-mobile-back-button").show(),ZCGlobal.isMobileLayout&&!isNull(b.wrapperClass)&&"zc-mob-fullscreen"===b.wrapperClass&&($zcmodal._modalStack.length?
$($zcmodal._modalStack[$zcmodal._modalStack.length-1].$overlay).removeClass("zc-container-hide"):a.$body.find(".zc-mobile-layout").removeClass("zc-container-hide")),b.skipFreeze||a.$container.removeClass("zc-dem-freeze-content"),a.$overlay.hide(),"iSlide"==b.popupType&&b.showInSlideScreen?a.$container.deActive(function(){a.$container.removeClass("zc-dem-slider");$("body").removeClass("zc-dem-slider-loaded")}):a.$overlay.remove(),a.getAfterClose()())};
function validateModal(){for(var a=this.getOptions(),b=a.buttons,c=0,d=b.length;c<d;c++){var e=b[c];if(isNull(e.name)||isNull(e.type)||isNull(e.action))throw new MissingProperty("for button "+e+"\n Button Usage: \n{ \n\t name : //Name and value of button (STRING),\n\t type : //Type of button \x3cChoices :ZCModalConstants.MODAL_SUBMIT, ZCModalConstants.MODAL_BUTTON, ZCModalConstants.MODAL_CANCEL\x3e (INTEGER),\n\t action : //action execute on click of this button (FUNCTION)\n}");if(isNaN(e.type))throw new InvalidProperty("Button.type for button : "+
e+"\n Button Usage: \n{ \n\t name : //Name and value of button (STRING),\n\t type : //Type of button \x3cChoices :ZCModalConstants.MODAL_SUBMIT, ZCModalConstants.MODAL_BUTTON, ZCModalConstants.MODAL_CANCEL\x3e (INTEGER),\n\t action : //action execute on click of this button (FUNCTION)\n}");if($.isFunction(e.action))throw new InvalidProperty("Button.action for button : "+e+"\n Button Usage: \n{ \n\t name : //Name and value of button (STRING),\n\t type : //Type of button \x3cChoices :ZCModalConstants.MODAL_SUBMIT, ZCModalConstants.MODAL_BUTTON, ZCModalConstants.MODAL_CANCEL\x3e (INTEGER),\n\t action : //action execute on click of this button (FUNCTION)\n}");
}b=["width","height","offsetTop","type"];c=0;for(d=b.length;c<d;c++)if(isNaN(a[b[c]]))throw new InvalidProperty(b[c]);b="showClose closeOnEsc closeOnAnyClick draggable hideHeader hideFooter showOnfocus".split(" ");c=0;for(d=b.length;c<d;c++)if(a[b[c]].constructor!=Boolean)throw new InvalidProperty(b[c]);b=["beforeShow","beforeClose","afterClose"];c=0;for(d=b.length;c<d;c++)if($.isFunction(a[b[c]]))throw new InvalidProperty(b[c]);}
function getScrollbarWidth(){if($(document.body).height()<=$(window).height())return 0;var a=document.createElement("div"),b=document.createElement("div");a.style.visibility="hidden";a.style.width="100px";document.body.appendChild(a);var c=a.offsetWidth;a.style.overflow="scroll";b.style.width="100%";a.appendChild(b);b=b.offsetWidth;a.parentNode.removeChild(a);return c-b}$.fn.zcmodal=function(a){a=new ZCModal(this,a);$(this).data("zcmodal",a.index);return a};
$.zcmodal=function(a){return new ZCModal(void 0,a)};function MissingProperty(a){this.message+="Cannot find property "+(a||"")}MissingProperty.prototype=Error();function InvalidProperty(a){this.message+="Invalid property "+(a||"")}InvalidProperty.prototype=Error();var freezeStack=[],ZCFreezeConstants={DEFAULT_TYPE:1,MASK_ONLY_TYPE:2,FREEZER_FOR_MOBILE:3};
function ZCFreeze(a){this.defaults={container:$("#zc-dem-container"),clickCallBack:function(){return""},type:ZCFreezeConstants.DEFAULT_TYPE};$.extend(defaults,a);var b=function(a,b){if(defaults.type==ZCFreezeConstants.FREEZER_FOR_MOBILE&&!ZCGlobal.isMobileLayout)return $(a).hide();b||typeHandling(defaults.type,a);$(a).off("click").on("click",function(){defaults.clickCallBack()});return defaults.animation&&"fade"==defaults.animation?$(a).fadeIn():$(a).show()},c=function(a){return defaults.animation&&
"fade"==defaults.animation?$(a).fadeOut():$(a).hide()};return{show:function(){if(1==freezeStack.length&&!$(freezeStack[freezeStack.length-1]).is(":visible"))return b(freezeStack[freezeStack.length-1]);(defaults.type!=ZCFreezeConstants.MASK_ONLY_TYPE||ZCGlobal.isMobileLayout)&&freezeStack.length&&c(freezeStack[freezeStack.length-1]);var a=getFreezeHtml();$(defaults.container).append(a);freezeStack.push(a);return b(a)},hide:function(){c(freezeStack[freezeStack.length-1]);freezeStack.length&&$(freezeStack.pop()).remove();
if(freezeStack.length)return b(freezeStack[freezeStack.length-1],!0);$("body").removeClass("zc-freeze-scroll-mask")}}}function ifreeze(a){return ZCFreeze(a).show()}function unfreeze(a){return ZCFreeze(a).hide()}function getFreezeHtml(){return $('\x3cdiv class\x3d"zc-freezer '+(document.body.classList.contains("zc-expanded-subform-active")?" zc-popup-freezer-with-expanded-subform":"")+'"\x3e\x3c/div\x3e')}
function typeHandling(a,b){switch(a){case ZCFreezeConstants.DEFAULT_TYPE:$("body").addClass("zc-freeze-scroll-mask");$(b).addClass("zc-freezer-layer");break;case ZCFreezeConstants.FREEZER_FOR_MOBILE:ZCGlobal.isMobileLayout&&($("body").addClass("zc-freeze-scroll-mask"),$(b).addClass("zc-freezer-layer"));break;case ZCFreezeConstants.MASK_ONLY_TYPE:$("body").addClass("zc-freeze-scroll-mask"),ZCGlobal.isMobileLayout?$(b).addClass("zc-freezer-layer"):$(b).removeClass("zc-freezer-layer")}}$ZCPopover={_popoverStack:[]};
var ZCPopoverType={ZC_ACTION_SHEET:1,ZC_CALLOUT:2,ZC_ACCORDION:3};$.fn.zcPopover=function(a){var b={content:this,isFreeze:!0,isSlider:!1,popoverType:ZCPopoverType.ZC_ACTION_SHEET,containerClass:"",hideCallBack:function(){return""}};$.extend(b,a);a=$(b.content).data("zcpo");if(void 0!=a)return a;a=ZCPopover(b);$(b.content).data("zcpo",a);return a};
function ZCPopover(a){var b,c=function(a){$(a.content).removeData("zcpo");a=$(a.popOverContainer)[0];$(a).remove()},d=function(a){if(void 0!=a.scrollElm){var b=$(a.popOverContainer).find(a.scrollElm),c="undefined"!=typeof ZCGlobal.appDirectionMeta&&ZCGlobal.appDirectionMeta.isRTL?ZCGlobal.appDirectionMeta.scrollerPosition:"right";void 0!=$(b).data("zcsp")?$(b).data("zcsp").scrollToPosition(0,!1,0):$(b).zcScrollPane({VerticalBarWidth:4,scrollPosition:c})}ZCGlobal.isMobileLayout&&$(a.popOverContainer).css({"z-index":"998"})},
e=function(a){if(ZCGlobal.isMobileLayout&&a.isFreeze&&a.toShow){var b=ifreeze({container:"body",clickCallBack:function(){$(a.content).data("zcpo").hide()}});$(b).after(a.popOverContainer)}ZCGlobal.isMobileLayout&&a.isFreeze&&!a.toShow&&unfreeze({container:"body"})};(function(a){a.popOverContent=$(a.content).clone(!0);if(void 0!=a.popOverContent){b=$("\x3cdiv elemname\x3d'zc-popover-container' class\x3d'zc-popover-container'\x3e\x3c/div\x3e");b.append(a.popOverContent);$(a.popOverContent).css("display",
"block");b.addClass(a.containerClass);var c="";switch(a.popoverType){case ZCPopoverType.ZC_ACTION_SHEET:c="zc-action-sheet-popover";break;case ZCPopoverType.ZC_CALLOUT:c="zc-callout-popover";break;case ZCPopoverType.ZC_ACCORDION:c="zc-accordion-popover"}ZCGlobal.isMobileLayout?($("body").append(b),$(a.popOverContent).addClass(c)):void 0!=a.elemTarget?$(a.elemTarget).append(b):$(a.content).after(b)}a.popOverContainer=$(b)})(a);return{getPopoverContainer:function(){return $(a.popOverContainer)},isSlider:function(){return a.isSlider},
show:function(){var b=$ZCPopover._popoverStack[0];void 0!=b&&b.hide();a.toShow=!0;e(a);a.isSlider?$(a.popOverContainer).slideDown(function(){d(a)}):$(a.popOverContainer).show();!a.isSlider&&d(a);$ZCPopover._popoverStack.push(this)},hide:function(){a.toShow=!1;e(a);a.isSlider?$(a.popOverContainer).slideUp(function(){c(a)}):$(a.popOverContainer).hide();!a.isSlider&&c(a);$ZCPopover._popoverStack.pop();a.hideCallBack()},toggle:function(){var b=$(a.popOverContainer).is(":visible");a.toShow=b?!1:!0;b?(a.isSlider?
$(a.popOverContainer).slideToggle(function(){c(a)}):($(a.popOverContainer).hide(),c(a)),$ZCPopover._popoverStack.pop(),a.toShow=!1,e(a)):(b=$ZCPopover._popoverStack[0],void 0!=b&&b.hide(),a.isSlider?$(a.popOverContainer).slideToggle(function(){d(a)}):($(a.popOverContainer).show(),d(a)),a.toShow=!0,e(a),$ZCPopover._popoverStack.push(this))}}}function hidePopover(){var a=$ZCPopover._popoverStack[0];void 0!=a&&a.hide()}
function replaceParams(a,b){if(-1<a.indexOf("[")||-1<a.indexOf("\x26#x5b;")){if(a=a.replace("\x26#x5b;","["),a=a.replace("\x26#x5d;","]"),"undefined"!=typeof b&&0<b.length)for(i=0;i<b.length;i++)a=replace(a,"["+i+"]",b[i])}else if(a=a.replace("\x26#x7b;","{"),a=a.replace("\x26#x7d;","}"),"undefined"!=typeof b&&0<b.length)for(i=0;i<b.length;i++)a=replace(a,"{"+i+"}",b[i]);return a}
function replace(a,b,c){var d=a.length,e=b.length;if(0==d||0==e)return a;var f=a.indexOf(b);if(!f&&b!=a.substring(0,e)||-1==f)return a;var g=a.substring(0,f)+c;f+e<d&&(g+=replace(a.substring(f+e,d),b,c));return g}var i18=function(){var a=arguments,b=a.length;if(0!==b)return 1===b?i18n[a[0]]?i18n[a[0]]:a[0]:i18n[a[0]].replace(/\{[0-9]*\}/g,function(b){b=b.replace(/[\{\}]/g,"");return a[parseInt(b)+1]})};
function oldDashboardTracking(a){url="/userhome/"+a+"/oldDashboardTacking";$.ajax({url,success:function(a,c,d){}})}function getLicenseTemplate(){var a=ZCGlobal.licenseTemplate,b="";"undefined"!=typeof a.licenseMessage&&(b="undefined"!=typeof a.expiryDaysLeft?replaceParams(i18n[a.licenseMessage],[a.expiryDaysLeft]):i18n[a.licenseMessage]);return b+"\x3ca class \x3d ' "+a.licButtonStyle+"'id\x3d 'licenseInfo'\x3e"+i18n[a.licenseButtonKey]+"\x3c/a\x3e"}
function getLicenseContent(){var a="/userhome/"+sharedBy+"/getLicense",b={};b[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;$.ajax({url:a,type:"POST",data:b,success:function(a){0<$("#licenseContent").length&&$("#licenseContent").remove();$(a).iSlide({closeOnEsc:!0,afterOpen:function(){useCompression?licenceJS.init():setTimeout(function(){licenceJS.init()},5E3)},afterClose:function(a){$(a.slider).remove()},focusFirstField:!0})}})}
function isZiaShortcutEnabled(){"undefined"==typeof zossearch&&initZiaShortcut();return!zossearch.getGSShortCutKey()}function ziaEnableShortcut(){"undefined"==typeof zossearch&&initZiaShortcut();zossearch.toggleZSShortcutKey(!1)}function ziaDisableShortcut(){"undefined"==typeof zossearch&&initZiaShortcut();zossearch.toggleZSShortcutKey(!0)}
function initZiaShortcut(){$(window).on("keydown",function(a){a.keyCode==Constants.KEYPAD_FORWARDSLASH&&(a.ctrlKey||a.metaKey)&&isZiaShortcutEnabled()&&$("#select2-drop-mask").click()});var a=function(a){a=window.zossearch||{};a.shortCutKey=a.shortCutKey||!1;a.toggleZSShortcutKey=function(b){a.shortCutKey=b};a.getGSShortCutKey=function(){return a.shortCutKey};return a}(a);window.zossearch=a}
$.fn.smoothShow=function(a,b,c){c=void 0==c?"up":c;a=void 0==a?0:a;this.css({opacity:"0"});this.show("blind",{direction:c},a,function(){$(this).addClass("zc-shown");$(this).animate({opacity:1},a,function(){void 0!=b&&b()})});return this};$.fn.smoothHide=function(a,b){a=void 0==a?0:a;this.animate({opacity:0},a,function(){$(this).hide("blind",a,function(){void 0!=b&&b()})});return this};
$.fn.smoothRemove=function(a,b,c){c=void 0==c?"up":c;a=void 0==a?0:a;this.animate({opacity:0},a,function(){$(this).hide("blind",{direction:c},a,function(){$(this).remove();void 0!=b&&b()})})};$.fn.zcTooltip=function(a){var b=this,c={displayType:"callout",position:"auto"},d={show:function(){return $(b).data("ztooltip").show()},hide:function(){return $(b).data("ztooltip").hide()}};$.extend(c,a);$(b).ztooltip(c);$(b).data("zctt",d);return d};
$.fn.customRadio=function(){var a=$(this).parent().find("label[for\x3d"+this.attr("id")+"]");0==a.length&&(a=$("\x3clabel for\x3d"+this.attr("id")+"\x3e\x3c/label\x3e"));$(a).prepend("\x3cspan class\x3d'custom_radiobtn'\x3e\x3c/span\x3e").css("float","static");$(this).wrap('\x3cdiv class\x3d"custom_radio"\x3e\x3c/div\x3e');$(this).parent().append(a)};
$.fn.zcDropDown=function(a){if(void 0!=this&&this.length){var b=function(b){if(void 0!=$(b).data("zcdd"))return $(b).data("zcdd");var c=void 0!=$(b).attr("multiple"),d={containerCssClass:"zc-dem-custom-selectbox ",dropdownCssClass:"zc-dem-custom-selectbox-menu ",dropdownAutoWidth:!1,allowClear:!1,expandMenu:!1,showTitle:!1};"SELECT"==b.nodeName&&$(b).attr("tabindex","1");var g=void 0!=$(b).attr("placeholder")||void 0!=a&&void 0!=a.placeholder,h="SELECT"==b.nodeName;if(h){d.showTitle=d.showTitle||
void 0!=$(b).attr("showTitle");var k=$(b).find("option[selected]").length;g&&$(b).prepend($('\x3coption class\x3d"zc-dd-dummy-opt"/\x3e'))}var l=function(){if(void 0!=a){if(void 0!=a.showSearch)return a.showSearch;if(void 0!=a.data){var c=0;$.each(a.data,function(){this.children?c+=this.children.length:c++});return 7<c}}if("SELECT"==b.nodeName)return 7<$(b).find("option:not(.zc-dd-dummy-opt)").length},m=function(a){$(b).off("change.zcddCallback").on("change.zcddCallback",function(b){a(b)})},n=function(a){$(b).off("select2-loaded").on("select2-loaded",
function(b){a(b)})},q=function(a){$(b).off("select2-opening.zcddBeforeOpen").on("select2-opening.zcddBeforeOpen",function(b){a(b)})},w=function(a){$(b).off("select2-open").on("select2-open",function(b){a(b)})},r=function(a){$(b).off("select2-close").on("select2-close",function(b){a(b)})},I=function(a){$(b).off("select2-selecting").on("select2-selecting",function(b){a(b)})},J=function(a,c){if(void 0!=c)$(b).off("select2-focus."+c).on("select2-focus."+c,function(b){a&&a(b)});else $(b).off("select2-focus").on("select2-focus",
function(b){a&&a(b)})},E=function(a){$(b).off("select2-blur").on("select2-blur",function(b){a(b)})},K=function(a,c){if(void 0!=c)$(b).off("select2-highlight."+c).on("select2-highlight."+c,function(b){a(b)});else $(b).off("select2-highlight").on("select2-highlight",function(b){a(b)})};void 0!=a&&(void 0==a.ajax&&"INPUT"==b.nodeName&&void 0==a.data&&$.error("config.data is mandatory for initiating zcDropdown with `input` element\nUsage::config.data\x3d[{id:'key',text:'value'}]"),c=c||a.multiple,void 0!=
a.containerCssClass&&(a.containerCssClass=d.containerCssClass+a.containerCssClass),a.callout&&(d.dropdownCssClass+="zc-custom-callout-menu "),void 0!=a.dropdownCssClass&&(a.dropdownCssClass=d.dropdownCssClass+a.dropdownCssClass),void 0!=a.dropdownListAfterOpen&&w(a.dropdownListAfterOpen),void 0!=a.dropdownListAfterClose&&r(a.dropdownListAfterClose),void 0!=a.onChange&&m(a.onChange),void 0!=a.onLoad&&n(a.onLoad),void 0!=a.onSelection&&I(a.onSelection),void 0!=a.onFocus&&J(a.onFocus),void 0!=a.onBlur&&
E(a.onBlur),void 0!=a.onHighlight&&K(a.onHighlight),$.extend(d,a));$(b).select2(d);if(c&&g){var L=void 0!=a&&void 0!=a.placeholder?a.placeholder:$(b).attr("placeholder");var F=$(b).data("select2").search;$(b).select2("val").length||$(F).attr("placeholder",L);$(b).off("change.zcddPlaceholder").on("change.zcddPlaceholder",function(a){$(b).select2("val").length?$(F).attr("placeholder",""):$(F).attr("placeholder",L)})}if(d.expandMenu)$(b).off("select2-opening.expandMenu").on("select2-opening.expandMenu",
function(a){a=$(window).height()-$(b).data("zcdd").getContainer()[0].getBoundingClientRect().top-150;$(b).data("select2").dropdown.find(".select2-results").css("max-height",a+"px")});c||!g||k||"SELECT"!=b.nodeName||$(b).select2("val","");var M=$($(b).data("select2").dropdown).find(".select2-search");$(b).off("select2-opening.zcddInitialConfig").on("select2-opening.zcddInitialConfig",function(b){void 0!=a&&void 0!=a.dropdownListBeforeOpen&&a.dropdownListBeforeOpen();l()?$(M).removeClass("select2-search-hidden select2-offscreen"):
$(M).removeClass("select2-search-hidden select2-offscreen").addClass("select2-search-hidden select2-offscreen")});d.showTitle&&K(function(a){a=h?$(a.choice.element[0]).attr("title"):a.choice.title;if(""!=a&&void 0!=a){var c=$(b).data("zcdd").getDropdownMenu().find(".select2-highlighted");c.hasClass("select2-result-with-children")&&(c=$(c).find(".select2-result-label:first"));$(c).attr("title")||$(c).attr("title",a)}},"customtitle");k={hasPlaceholderOnSelect:g,open:function(){return $(b).select2("open")},
close:function(){return $(b).select2("close")},destroy:function(){"SELECT"==b.nodeName&&$(b).data("zcdd").hasPlaceholderOnSelect&&$(b).find(".zc-dd-dummy-opt").remove();$(b).removeData("zcdd");$(b).off("select2-opening.zcddInitialConfig select2-opening.expandMenu change.zcddPlaceholder select2-highlight.customtitle");return $(b).select2("destroy")},setValue:function(a){return $(b).select2("val",a)},getValue:function(){return $(b).select2("val")},getData:function(){return $(b).select2("data")},setData:function(a){return $(b).select2("data",
a)},enable:function(){return $(b).select2("enable",!0)},disable:function(){return $(b).select2("enable",!1)},getContainer:function(){return $(b).select2("container")},getElement:function(){return $(b).select2("data").element},getDropdownMenu:function(){return $(b).data("select2").dropdown},getId:function(){return $(b).select2("data").id},focus:function(){return $(b).select2("focus")},clear:function(){return $(b).select2("data","")},change:function(a){m(a)},onLoad:function(a){n(a)},onSelect:function(a){I(a)},
onFocus:function(a,b){J(a,b)},onBlur:function(a){E(a)},onHighlight:function(a,b){K(a,b)},beforeOpen:function(a){q(a)},afterOpen:function(a){w(a)},afterClose:function(a){r(a)},reset:function(){"SELECT"==b.nodeName?($(b).empty(),$(b).data("zcdd").hasPlaceholderOnSelect&&$(b).prepend($('\x3coption class\x3d"zc-dd-dummy-opt"/\x3e'))):"INPUT"==b.nodeName&&$(b).select2("data","");return $(b)}};$(b).data("zcdd",k);return k};if(1<$(this).length){var c=[];$(this).each(function(a){c.push(b(this))});return c}return b(this[0])}};
var Fields=new function(){this.NONE=0;this.SINGLE_LINE=1;this.MULTI_LINE=3;this.EMAIL_ADDRESS=4;this.NUMBER=5;this.CURRENCY=6;this.PERCENTAGE=7;this.PHONE_NUMBER=8;this.CHECK_BOX=9;this.DATE=10;this.TIME=11;this.SINGLE_SELECT=12;this.MULTI_SELECT=13;this.PLAIN_TEXT=14;this.SCRIPT=15;this.FILE_UPLOAD=18;this.DECIMAL=19;this.IMAGE=20;this.URL=21;this.DATE_TIME=22;this.RICH_TEXT_AREA=24;this.EXTERNAL_FIELD=25;this.EXTERNAL_LINK_FIELD=26;this.INLINE_SINGLE_SELECT=29;this.SYSTEM_LOOKUP=30;this.AUTO_NUMBER=
31;this.LOOKUP=32;this.NAME=33;this.ADDRESS=34;this.SECTION=35;this.SIGNATURE=36;this.INTEGRATION=37;this.ENCRYPTION=38;this.AUDIO=137;this.VIDEO=138;this.RELATED_FORM=4;this.INLINE_PICK_LIST=1100;this.INLINE_RADIO=1101;this.PICK_LIST=100;this.RADIO=101;this.LIST=102;this.CHECK_BOXES=103;this.RECORD_STATUS=38};
$.fn.showError=function(a){var b=function(b){var c=$(b).data("zcdd");void 0!=c&&(b=c.getContainer());if(!$(b).hasClass("zc-dem-error-field")){var e=document.createElement("div");$(e).addClass("zc-dem-error-container");var f=getErrorHtml(a);if(0<$(b).prev().length){var g=$(b).prev();$(g).after(e)}else 0<$(b).next().length?(g=$(b).next(),$(g).before(e)):(g=$(b).parent(),$(g).append(e));$(b).addClass("zc-dem-error-field");$(b).detach();$(e).append(b);void 0!=c?$(b).append(f):$(b).after(f);if(void 0!=
c)c.onFocus(function(){errorClearCallback(e)},"clearError");else if("INPUT"==b.nodeName||"TEXTAREA"==b.nodeName)$(b).one("change.clearError",function(){errorClearCallback(e)});else $(b).one("click.clearError",function(){errorClearCallback(e)})}};0<$(this).length&&$(this).each(function(){b(this)})};function getErrorHtml(a){return $(a?"\x3cspan class\x3d'zc-dem-error-msg'\x3e"+a+"\x3c/span\x3e":"")}
function errorClearCallback(a){if($(a).find(".zc-dem-error-field").length){var b=$(a).find(".zc-dem-error-field");$(b).removeClass("zc-dem-error-field");var c=$(a).find(".zc-dem-error-msg");$(c).remove();$(b).detach();0<$(a).prev().length?$(a).prev().after(b):0<$(a).next().length?$(a).next().before(b):$(a).parent().append(b);$(a).remove()}}function validateEmailAddress(a){return/^[\w]([\w\-!\.\+'&]*)@[a-zA-Z0-9]([\w\-\.]*)(\.[a-zA-Z]{2,15}(\.[a-zA-Z]{2}){0,2})$/.test(a)}
function validateHostname(a){return/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$/.test(a)}
function validateAppNameRegex(a,b){var c=new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\s\\ \\*\\@\\/\\\\!\\:\\|\\~\\.\\\x26]+$","i");null==a&&(a=$("#scrAppName").val());if(""==a||XRegExp.test(a,c))return b&&($(".zc-create-app-popup").removeClass("zc-invalid-appName"),$("#errorCont").empty(),$("#proceedBtn").prop("disabled",!1)),!0;b&&($(".zc-create-app-popup").addClass("zc-invalid-appName"),$("#errorCont").text(i18n["zc.settings.builder.name.regexfailure"]),$("#proceedBtn").prop("disabled",!0));
return!1}function validateIPAddress(a){return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(a)}function isURLValid(a){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/.test(a)}Math.trunc=Math.trunc||function(a){return isNaN(a)?NaN:0>a?Math.ceil(a):Math.floor(a)};function getUniqueValues(a){return $.grep(a,function(b,c){return a.indexOf(b)===c})}
function select2FocusField(a){setTimeout(function(){$(a).parent().attr("tabindex","0").find("input[type\x3dtext]:first").trigger("focus")},300)}
function urlRedirection(a){if("undefined"!=typeof CrmPlusLib&&"undefined"!=typeof CrmPlusLib.getFrameOriginForURL()){var b=a.getAttribute("href"),c=a.getAttribute("ownername");if(null!=c&&ZCGlobal.scopeName!=c)return window.open(b,"_blank"),!1;"#myworkspaces"==window.location.hash&&CrmPlusImpl.trigger("setupView.onclose");c=CrmPlusLib.getFrameOriginForURL();var d=b.split("#")[1];"undefined"!=typeof d&&(b=b.substring(0,b.indexOf("#")),c+="#"+d);a.setAttribute("href",b+("?frameorigin\x3d"+c))}}
function validateForm(a){if("undefined"!=typeof CrmPlusLib&&"undefined"!=typeof CrmPlusLib.getFrameOriginForURL())if("zc-sheetapp-frames"==a.id)a.setAttribute("src",a.getAttribute("src")+"\x26frameOriginUrlZohoOne\x3d"+CrmPlusLib.getFrameOriginForURL()),$("#zc-sheetapp-frames").removeAttr("onload");else{var b=$('\x3cinput type\x3d"hidden" name\x3d"frameOriginUrlZohoOne" value\x3d"'+CrmPlusLib.getFrameOriginForURL()+'"\x3e');$("#"+a.id).append(b)}}
function setLiveAppAccessURL(a,b){ZCGlobal.isProductionApp?$("#zc-dem-access-link").attr("href",b?"javascript:;":a.getLiveURL()):($("#zc-dem-access-link").attr("href",b?"javascript:;":a.getLiveURL("development")),$("#zc-stage-access-link").attr("href",b?"javascript:;":a.getLiveURL("stage")),$("#zc-production-access-link").attr("href",b?"javascript:;":a.getLiveURL("production")))};var CriteriaBuilder=new function(){this.logOperVal=this.parentElementId=this.criFieldEle="";this.tempRelOper='\x3cselect class\x3d"cb-relOper"\x3e\x3coption value\x3d"0"\x3e-Select-\x3c/option\x3e\x3c/select\x3e';this.frmSubmit=!0;this.delugeVar='\x3coption value\x3d"100"\x3eis Adminuser\x3c/option\x3e\x3coption value\x3d"101"\x3eis Loginuser\x3c/option\x3e';this.returnCritErrorMsg=this.hideGroupLink=!1;this.criteriaFieldList=function(a){CriteriaBuilder.logOperVal="\x26\x26";var b=$(a).prev();if(0==
b.length||"groupRemIconDiv"==b.attr("eleName"))b=$(a).next();0!=b.length&&"cb-addGroupButtonDiv"!=b.attr("class")&&(b=$(b).find("select"),CriteriaBuilder.logOperVal=b.val());a=$($(a).children()[0]).clone();a=$(a).children()[0];$(a).val("none");CriteriaBuilder.criFieldEle=a};this.addNewCondition=function(a){a=$(a).parent().parent();CriteriaBuilder.criteriaFieldList(a);CriteriaBuilder.createConditionDiv(a,!0,!1)};this.createConditionDiv=function(a,b,c){var d=$("\x3cdiv\x3e\x3c/div\x3e");d.attr("eleName",
"conDiv");d.attr("class","cb-conDiv");d.unbind("mouseover");d.bind("mouseover",function(){CriteriaBuilder.showAndHide(this,!0)});d.unbind("mouseout");d.bind("mouseout",function(){CriteriaBuilder.showAndHide(this,!1)});c?a.append(d):a.after(d);b&&(b=$("\x3cdiv\x3e\x3c/div\x3e"),b.attr("eleName","conOprDiv"),b.attr("class","cb-conOprDiv"),a.after(b),a=CriteriaBuilder.createLogOprOption(),b.append(a));$(CriteriaBuilder.criFieldEle).unbind("change");$(CriteriaBuilder.criFieldEle).bind("change",function(){CriteriaBuilder.changeCritField(this)});
a=$("\x3cspan class\x3d'custom_drop_double_arrow'\x3e\x3c/span\x3e").append(CriteriaBuilder.criFieldEle);d.append(a);a=$("\x3cspan class\x3d'custom_drop_double_arrow'\x3e\x3c/span\x3e").append($(CriteriaBuilder.tempRelOper));d.append(a);a=$("\x3cspan\x3e\x3c/span\x3e").append('\x3cinput type\x3d"text" class\x3d"cp-inputField"\x3e');d.append(a);a=$("\x3ca\x3e\x3c/a\x3e");a.attr("class","cb-add-condition");a.attr("href","javascript:void(0);");a.unbind("click");a.bind("click",function(){CriteriaBuilder.addNewCondition(this)});
b=$("\x3ca\x3e\x3c/a\x3e");b.attr("class","cb-remove-condition");b.attr("href","javascript:void(0);");b.unbind("click");b.bind("click",function(){CriteriaBuilder.removeCondition(this)});a=$('\x3cspan style\x3d"margin-top: 5px;display: inline-block;"\x3e\x3c/span\x3e').append(a).append(b);d.append(a);a=$("\x3ca\x3e+ Add Condition Subgroup\x3c/a\x3e");a.attr("href","javascript:void(0);");a.unbind("click");a.bind("click",function(){CriteriaBuilder.addNewGroup(this)});b=$("\x3cdiv\x3e\x3c/div\x3e");b.attr("class",
"clearBoth");d.append(b);a=$("\x3cdiv\x3e\x3c/div\x3e").append(a);a.attr("class","cb-addSubGroupDiv");d.append(a);d=$(window).height();a=$(window).scrollTop();b=$(".cb-addGroupButtonDiv").offset().top;d+a<b+150&&$("html, body").animate({scrollTop:a+150},1E3)};this.createLogOprOption=function(){var a=$("\x3cspan class\x3d'custom_drop_double_arrow'\x3e\x3c/span\x3e"),b=$("\x3cselect\x3e\x3c/select\x3e");b.append('\x3coption value\x3d"\x26\x26"\x3eAND');b.append('\x3coption value\x3d"||"\x3eOR');$(b).val(CriteriaBuilder.logOperVal);
$(b).unbind("change");$(b).bind("change",function(){CriteriaBuilder.logicalOperChange(this)});a.append(b);return a};this.logicalOperChange=function(a){var b=$(a).val();a=$(a).parent().parent().parent();a=$(a).children();for(var c=0;c<a.length;c++){var d=a[c],e=null;"groupOprDiv"==$(d).attr("eleName")?e=$(d).find("select"):"conOprDiv"==$(d).attr("eleName")&&(e=$(d).find("select"));null!=e&&$(e[0]).val(b)}};this.addCommonGroup=function(a){a=$(a).parent().prev();var b=$($("div.cb-conDiv")[0]).clone();
CriteriaBuilder.criteriaFieldList(b);CriteriaBuilder.createCommonGroupDiv(a)};this.removeCondition=function(a){a=$(a).parent().parent();var b=a.prev();if(0==b.length||"groupRemIconDiv"==b.attr("eleName"))b=a.next();0!=b.length&&"cb-addGroupButtonDiv"!=b.attr("class")&&(a.remove(),b.remove())};this.CBElement=function(a){return""!=CriteriaBuilder.parentElementId?$(CriteriaBuilder.parentElementId).find(a):$(a)};this.bindAllFunction=function(a,b,c){CriteriaBuilder.hideGroupLink=void 0!=a&&""!=a?a:!1;
CriteriaBuilder.returnCritErrorMsg=void 0!=b&&""!=b?b:!1;CriteriaBuilder.parentElementId=void 0!=c?c:"";CriteriaBuilder.CBElement(".cb-conDiv").mouseover(function(){CriteriaBuilder.hideGroupLink||$(this).find(".cb-addSubGroupDiv").show();$(this).addClass("cb-subGroupMouseHover")});CriteriaBuilder.hideGroupLink&&CriteriaBuilder.CBElement(".cb-addGroupButtonDiv").hide();CriteriaBuilder.CBElement(".cb-conDiv").mouseout(function(){$(this).find(".cb-addSubGroupDiv").hide();$(this).removeClass("cb-subGroupMouseHover")});
CriteriaBuilder.hideGroupLink||(CriteriaBuilder.CBElement(".cb-addSubGroupDiv a").click(function(){CriteriaBuilder.addNewGroup(this)}),CriteriaBuilder.CBElement(".cb-addGroupButtonDiv a").click(function(){CriteriaBuilder.addCommonGroup(this)}));CriteriaBuilder.CBElement(".cb-add-condition").click(function(){CriteriaBuilder.addNewCondition(this)});CriteriaBuilder.CBElement(".cb-remove-condition").click(function(){CriteriaBuilder.removeCondition(this)});CriteriaBuilder.CBElement(".cb-criFieldSel").change(function(){CriteriaBuilder.changeCritField(this)});
CriteriaBuilder.CBElement(".cb-remove-group").click(function(){CriteriaBuilder.removeCondition(this)});CriteriaBuilder.CBElement(".cb-relOper").change(function(){CriteriaBuilder.changeRelOperator(this)});CriteriaBuilder.hideGroupLink&&CriteriaBuilder.CBElement(".cb-addGroupButtonDiv a").remove()};this.unbindAllEvents=function(){$(".cb-conDiv").unbind("mouseover");$(".cb-conDiv").unbind("mouseout");$(".cb-addSubGroupDiv a").unbind("click");$(".cb-addGroupButtonDiv a").unbind("click");$(".cb-add-condition").unbind("click");
$(".cb-remove-condition").unbind("click");$(".cb-criFieldSel").unbind("change");$(".cb-remove-group").unbind("click");$(".cb-relOper").unbind("change")};this.operatorOptions=function(a){var b=$(a).find("option:selected"),c=b.attr("fctype"),d="cbsamplestrlist";if(5==c||6==c||7==c||31==c)d="cbsamplenumlist";else if(9==c)d="cbsamplechecklist";else if(10==c||22==c)d="cbsampledatelist";else if(29==c||13==c)d="cbsamplepicklist_optlist";9==c?$($(a).parents("div.cb-conDiv").find("span").get(2)).replaceWith('\x3cspan class\x3d"custom_drop_double_arrow"\x3e\x3cselect class\x3d"width220"\x3e\x3coption value\x3d"true" selected\x3d"true"\x3etrue\x3c/option\x3e\x3coption value\x3d"false"\x3efalse\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e'):
$($(a).parents("div.cb-conDiv").find("span").get(2)).replaceWith('\x3cspan\x3e\x3cinput type\x3d"text" class\x3d"cp-inputField"\x3e\x3c/span\x3e');$(a).parent().next().next().children().val("");a=$("#"+d).clone();0==c?a=$(CriteriaBuilder.tempRelOper):(b=b.attr("value"),a=$("#"+d).clone(),"Added_User"!=b&&"Modified_User"!=b||a.append($(CriteriaBuilder.delugeVar)),a.removeAttr("id"),a.unbind("change"),9==c&&$(a).find("option[value\x3d18]").attr("selected",!0),a.bind("change",function(){CriteriaBuilder.changeRelOperator(this)}));
return a};this.changeRelOperator=function(a){var b=$(a).find("option:selected"),c=b.attr("value"),d=$(a).parent().next().children("input")[0];a=$(a).parent().prev();b=$(a).find("option:selected");a=b.attr("fctype");b=$(d).val();9!=a&&b.replace('/"/g',"");if(null==b||""==b)b=1==a||3==a||4==a||10==a||22==a||24==a||29==a||12==a||13==a?'""':"",$(d).attr("value",b),9!=a&&d.setSelectionRange(1,1);$(d).removeAttr("disabled");27<c&&64>c||100<=c?($(d).attr("disabled",!0),$(d).attr("value","")):64<=c&&100>
c&&$(d).attr("value","");$(d).focus()};this.changeCritField=function(a){var b=CriteriaBuilder.operatorOptions(a);$(a).parent().next().html(b)};this.groupDivTemplate=function(){var a=$("\x3cdiv\x3e\x3c/div\x3e");a.attr("eleName","groupDiv");a.attr("class","cb-groupDiv");var b=$("\x3cdiv\x3e\x3c/div\x3e");b.attr("class","cb-remove-group-div");b.attr("eleName","groupRemIconDiv");var c=$('\x3ca class\x3d"cb-remove-group" href\x3d"javascript:void(0);"\x3e\x3c/a\x3e');c.unbind("click");c.bind("click",function(){CriteriaBuilder.removeCondition(this)});
b.append(c);a.append(b);return a};this.createCommonGroupDiv=function(a){var b=$(a).parent().hasClass("cb-div-bgcolor1")?"cb-div-bgcolor2":"cb-div-bgcolor1",c=CriteriaBuilder.groupDivTemplate();c.addClass(b);CriteriaBuilder.createConditionDiv(c,!1,!0);b=$("\x3cdiv\x3e\x3c/div\x3e");b.attr("eleName","groupOprDiv");b.attr("class","cb-groupOprDiv");var d=CriteriaBuilder.createLogOprOption();b.append(d);a.after(c);a.after(b)};this.createGroupDiv=function(a){var b=$(a).next(),c=!1;0==b.length&&(b=$(a).prev(),
c=!0);var d=$(a).parent().hasClass("cb-div-bgcolor1")?"cb-div-bgcolor2":"cb-div-bgcolor1",e=CriteriaBuilder.groupDivTemplate();e.addClass(d);e.append(a);a=$("\x3cdiv\x3e\x3c/div\x3e");a.attr("eleName","conOprDiv");a.attr("class","cb-conOprDiv");e.append(a);d=CriteriaBuilder.createLogOprOption();a.append(d);CriteriaBuilder.createConditionDiv(e,!1,!0);c?b.after(e):b.before(e);b=$(e).prev();0!=b.length&&$(b).hasClass("cb-conOprDiv")&&"conOprDiv"==$(b).attr("eleName")&&($(b).attr("eleName","groupOprDiv"),
$(b).attr("class","cb-groupOprDiv"))};this.addNewGroup=function(a){a=$(a).parent().parent();CriteriaBuilder.criteriaFieldList(a);CriteriaBuilder.createGroupDiv(a)};this.showAndHide=function(a,b){b?($(a).addClass("cb-subGroupMouseHover"),CriteriaBuilder.hideGroupLink||$(a).find(".cb-addSubGroupDiv").show()):($(a).removeClass("cb-subGroupMouseHover"),CriteriaBuilder.hideGroupLink||$(a).find(".cb-addSubGroupDiv").hide())};this.criteriaBuilderSubmit=function(a,b,c){CriteriaBuilder.frmSubmit=!0;var d=
""!=CriteriaBuilder.parentElementId?CriteriaBuilder.parentElementId:$("#cbMainDiv");CriteriaBuilder.groupDivFun(d,"");void 0!=a&&CriteriaBuilder.appendHiddenField(a,b,c);return CriteriaBuilder.frmSubmit};this.criteriaBuilderFormGen=function(a){CriteriaBuilder.frmSubmit=!0;a=$(a).find("#cbMainDiv");CriteriaBuilder.groupDivFun(a,"");return CriteriaBuilder.frmSubmit};this.profileCriteriaBuilderSubmit=function(a,b,c,d){CriteriaBuilder.frmSubmit=!0;CriteriaBuilder.groupDivFun(a.children(":first-child"),
d);void 0!=a&&CriteriaBuilder.appendHiddenField(a,b,c);return CriteriaBuilder.frmSubmit};this.appendHiddenField=function(a,b,c){a=$(a);if(void 0!=b&&void 0!=c)if("object"==typeof b&&"object"==typeof c)for(var d=0;d<b.length;d++)CriteriaBuilder.createHiddenField(a,b[d],c[d]);else"string"==typeof b&&"string"==typeof c&&CriteriaBuilder.createHiddenField(a,b,c);return a};this.createHiddenField=function(a,b,c){var d=$(a).find("input[name\x3d"+b+"]");0==d.length?(d=$("\x3cinput /\x3e"),d.attr("type","hidden"),
d.attr("name",b),d.attr("value",c),$(a).append(d)):d.val(c);return $(a)};this.groupDivFun=function(a,b){a=$(a).children();for(var c=1,d=0;d<a.length;d++){var e=a[d],f=$(e).attr("eleName");if("conDiv"==f){if(f=b+"conditionMap(c"+c+").",CriteriaBuilder.conDivFun(e,f),!CriteriaBuilder.frmSubmit)break}else if("conOprDiv"==f)c++,f=b+"conditionMap(c"+c+").",CriteriaBuilder.operatorDivFun(e,f);else if("groupOprDiv"==f)c++,f=b+"groupMap(c"+c+").",CriteriaBuilder.operatorDivFun(e,f);else if("groupDiv"==f&&
(f=b+"groupMap(c"+c+").",CriteriaBuilder.groupDivFun(e,f),!CriteriaBuilder.frmSubmit))break}};this.operatorDivFun=function(a,b){a=$(a).children();a=$(a[0]).children()[0];$(a).attr("name",b+"conditionalOperator")};this.criteriaAlert=function(a){iAlert(a,void 0,!0)};this.conDivFun=function(a,b){var c=$(a).children();a=$(c[0]).children()[0];var d=$(c[1]).children()[0];c=$(c[2]).children()[0];$(a).removeAttr("name");$(d).removeAttr("name");$(c).removeAttr("name");var e=$(a).find("option:selected"),f=
e.attr("fctype");e.attr("displayType");e=$(d).find("option:selected").val();if(0!=f){var g=$(c).val(),h="";0==$(d).val()&&(h="Please select an operator");10!=f&&11!=f&&22!=f||""!=g&&'""'!=g||!(27>e||64<=e&&100>e)||(h="Value cannot be empty",$(c).select());(5==f||6==f||7==f||31==f)&&""==g&&100>e&&(h="Value cannot be empty",$(c).select());if(""!=h)return CriteriaBuilder.returnCritErrorMsg?CriteriaBuilder.frmSubmit=h:(CriteriaBuilder.criteriaAlert(h),CriteriaBuilder.frmSubmit=!1),!1;$(a).attr("name",
b+"criteriaField");$(d).attr("name",b+"relOperator");$(c).attr("name",b+"inputValue");CriteriaBuilder.frmSubmit=!0}}};var $CriteriaBuilder={},CriteriaBuilderNew=new function(){this.frmSubmit=!0;this.groupEl=null;this.zohoVarList="zoho.loginuser zoho.adminuser zoho.loginuserid zoho.adminuserid zoho.currentdate zoho.currenttime zoho.appname zoho.ipaddress zoho.appuri".split(" ");this.inputVar="input";this.initConfig=function(a){a&&($CriteriaBuilder.context=a.context?a.context:Constants.REPORT,$CriteriaBuilder.inputVariables=a.inputVariables?a.inputVariables:!1,a.pageParam&&($CriteriaBuilder.pageParam=a.pageParam),
delete $CriteriaBuilder.searchParam,a.searchParam&&($CriteriaBuilder.searchParam=a.searchParam),a.isSharedAnalytics?($CriteriaBuilder.dateformat=a.dateformat.toUpperCase(),$CriteriaBuilder.is24HrFormat=a.is24HrFormat):($CriteriaBuilder.dateformat=variable.uiDateFormat,$CriteriaBuilder.is24HrFormat=variable.is24HrFormat))};this.init=function(a){try{if(getConfig().useCompression&&void 0!=Modules.DATETIMEPICKER){var b=new Requires(Modules.DATETIMEPICKER);require(b.get(),b.getPromise(function(){CriteriaBuilderNew.handleDeleteForSingleCriteria(a);
CriteriaBuilderNew.bindEvents(a)}))}else CriteriaBuilderNew.handleDeleteForSingleCriteria(a),CriteriaBuilderNew.bindEvents(a)}catch(c){window.console.log(c)}};this.handleDeleteForSingleCriteria=function(a){1==a.find(".zc-rule-builder .zc-rule").length?(a=a.find(".zc-rule-builder").find(".zc-rule-delete")[0],$(a).css("display","none")):(a=a.find(".zc-rule-builder").find(".zc-rule-delete")[0],$(a).css("display","block"))};this.bindEvents=function(a){var b=a.find(".zc-rule-sample"),c=a.find(".zc-rule-builder");
CriteriaBuilderNew.bindSelect2(c);CriteriaBuilderNew.bindInputEvents(a);c.on("click",".zc-rule-act",function(){var c="AND",e="\x26\x26";$(this).hasClass("zc-rule-or")&&(c="OR",e="||");CriteriaBuilderNew.groupEl=$(this).parents(".zc-rule-group");var f=CriteriaBuilderNew.getRuleBind(),g=!1;if(f!=RuleBind.SINGLE&&f==RuleBind.ANDBIND&&"OR"==c||f==RuleBind.ORBIND&&"AND"==c)g=!0;g?(c='\x3cdiv class\x3d"zc-rule-table-row"\x3e\x3cdiv class\x3d"zc-rule-table-cell"\x3e\x3cdiv class\x3d"zc-rule-mid-opts zc-rule-opt-'+
c.toLowerCase()+'"\x3e\x3cinput type\x3d"hidden" elname\x3d"conditionalOperator" name\x3d"" value\x3d"'+e+'"\x3e\x3cdiv class\x3d"zc-rule-mid-divider"\x3e'+c+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",e=$(this).parents(".zc-rule"),f=b.find(".zc-rule").clone(),e.after([c,f]),CriteriaBuilderNew.bindSelect2(f)):(c='\x3cdiv class\x3d"zc-rule-mid-opts zc-rule-subgroup-opt-'+c.toLowerCase()+'"\x3e\x3cinput type\x3d"hidden" elname\x3d"conditionalOperator" name\x3d"" value\x3d"'+e+'"\x3e\x3cdiv class\x3d"zc-rule-mid-divider"\x3e'+
c+"\x3c/div\x3e\x3c/div\x3e",e=b.find(".zc-rule-subgroup").clone(),$(this).parents(".zc-rule-subgroup").after([c,e]),CriteriaBuilderNew.bindSelect2(e));CriteriaBuilderNew.handleDeleteForSingleCriteria(a)});c.on("change",".zc-rule-group-opt",function(){c.find(".zc-rule-group-opt").val($(this).val());$.each(c.find('select[elname\x3d"conditionalOperator"]'),function(){$(this).data("zcdd").setValue($(this).val())})});c.on("change","select[elname\x3dcriteriaField]",function(){CriteriaBuilderNew.changeCritField(this)});
c.on("change","select[elname\x3drelOperator]",function(){CriteriaBuilderNew.changeRelOperator(this)});c.on("click",".zc-rule-delete",function(){var b=$(this).parents(".zc-rule"),c=b.parent();0!=b.prev().length?(b.prev().remove(),b.remove()):0!=b.next().length?(b.next().remove(),b.remove()):0!=c.prev().length?(c.prev().remove(),c.remove()):0!=c.next().length?(c.next().remove(),c.remove()):0!=c.parent().prev().length?(c.parent().prev().remove(),c.parent().remove()):0!=c.parent().next().length&&(c.parent().next().remove(),
c.parent().remove());CriteriaBuilderNew.handleDeleteForSingleCriteria(a)});a.find(".zc-rule-group-new").off("click").on("click",function(){var d=b.find(".zc-rule-group").clone();c.append(['\x3cdiv class\x3d"zc-rule-mid-opts"\x3e \x3cdiv class\x3d"zc-rule-mid-divider"\x3e \x3cdiv class\x3d"zc-dem-field-group zc-dem-selectbox"\x3e \x3cselect elname\x3d"conditionalOperator" class\x3d"zc-rule-group-opt zc-dem-field zc-dem-select zc-dem-box-sizing zc-dem-border-radius-0"\x3e\x3coption value\x3d"\x26\x26"\x3eAND\x3c/option\x3e\x3coption value\x3d"||"\x3eOR\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e \x3c/div\x3e\x3c/div\x3e',
d]);CriteriaBuilderNew.bindSelect2(d);CriteriaBuilderNew.handleDeleteForSingleCriteria(a);c.find("select[elname\x3dconditionalOperator]").zcDropDown()})};this.bindInputEvents=function(a){var b=a.find("select[elname\x3dcriteriaField]");$.each(b,function(a){var c=b[a];a=$(c).find("option:selected").attr("fctype");var e=$(c).find("option:selected").attr("showSeconds"),f=$(c).parents(".zc-rule-table-cell").next().next(),g=f.find("input[elname\x3dinputValue]"),h=$(c).parent().parent().next().find("option:selected").attr("value"),
k=$(c).find("option:selected").parent().attr("compositeField"),l=[];"undefined"!=typeof $CriteriaBuilder&&"undefined"!=typeof $CriteriaBuilder.searchParam&&($(g).attr("disabled",!0),$(g).val("input.searchString"),"undefined"!==typeof $(g).data("zcdd")&&$(g).data("zcdd").setValue(""));(a==Constants.DATE||a==Constants.DATE_TIME||a==Constants.TIME)&&h>=Constants.EQUAL&&h<=Constants.AFTER?(CriteriaBuilderNew.dateTimePickerHandling(f,g,a,e),l=["zoho.currentdate","zoho.currenttime"],CriteriaBuilderNew.autoCompleteSystemVariables(g,
l)):(a!=Constants.SINGLE_SELECT||"undefined"==typeof $CriteriaBuilder||$CriteriaBuilder.context==Constants.WORKFLOW)&&a!=Constants.LINK_FIELD&&a!=Constants.MULTI_SELECT&&a!=Constants.INLINE_SINGLE_SELECT||k?a==Constants.CHECK_BOX?CriteriaBuilderNew.appendDecisionBoxChoices(g):(a==Constants.EMAIL_ADDRESS?l=["zoho.loginuserid","zoho.adminuserid"]:a!=Constants.NUMBER&&a!=Constants.CURRENCY&&a!=Constants.PERCENTAGE&&a!=Constants.AUTO_NUMBER&&(l="zoho.loginuser zoho.adminuser zoho.loginuserid zoho.adminuserid zoho.appname zoho.ipaddress zoho.appuri zoho.currentdate zoho.currenttime".split(" ")),
CriteriaBuilderNew.autoCompleteSystemVariables(g,l)):(c=$(c).val(),CriteriaBuilderNew.bindPicklistEvent(c,a,g))})};this.bindDateTimeEvent=function(a,b,c){c=getTimeFormat("true"==c,$CriteriaBuilder.is24HrFormat);var d=null;b==Constants.DATE?d=$CriteriaBuilder.dateformat:b==Constants.DATE_TIME?d=$CriteriaBuilder.dateformat+" "+c:b==Constants.TIME&&(d=c);$(a).dtPicker({format:d,keepInvalid:!0,defaultDate:!1,customInput:!0})};this.bindSelect2=function(a){void 0==a&&(a=$(".zc-rule-main"));0==$(a).find(".select2-container").length&&
($.each($(a).find("select"),function(){$(this).zcDropDown()}),select2FocusField($(a).find("select:first")))};this.isNewGroupPossible=function(a){var b=a.find(".zc-rule-subgroup").length;return a.find(".zc-rule").length>b?!0:!1};this.updateInput=function(a){var b=a.find(".zc-rule-builder"),c="";CriteriaBuilderNew.frmSubmit=!0;b.find(".zc-rule-group").each(function(a){var d="";1<b.find(".zc-rule-group").length&&(d="groupMap(c"+(a+1)+").");c=CriteriaBuilderNew.updateOperatorName(c,$(this).prev(),d);
$($(this).find(".zc-rule-subgroup")).each(function(a){var b=$(this).find(".zc-rule");c=1==b.length?CriteriaBuilderNew.updateRuleInput(c,d+"conditionMap(c"+(a+1)+")",$(this)):CriteriaBuilderNew.updateSubgroupInput(c,d+"groupMap(c"+(a+1)+")",$(this),b)})});return CriteriaBuilderNew.frmSubmit?c:!1};this.updateSubgroupInput=function(a,b,c,d){a=CriteriaBuilderNew.updateOperatorName(a,c.prev(),b);$(d).each(function(c,d){a=CriteriaBuilderNew.updateRuleInput(a,b+".conditionMap(c"+(c+1)+")",$(this))});return a};
this.updateRuleInput=function(a,b,c){a=CriteriaBuilderNew.updateOperatorName(a,c.prev(),b);var d=c.find("select[elname\x3dcriteriaField]"),e=c.find("select[elname\x3drelOperator]"),f=c.find("input[elname\x3dinputValue]");c=d.find("option:selected").attr("fctype");var g="",h=$(f).val(),k=$(e).val();c==Constants.NONE&&(g=Constants.EMPTY_FIELD,setTimeout(function(){$(d).showError(Constants.EMPTY_FIELD)}));k==Constants.SELECT&&(g=Constants.EMPTY_OPERATOR,$(e).showError(Constants.EMPTY_OPERATOR));k>=Constants.EQUAL&&
k<=Constants.LIKE&&(c==Constants.NUMBER||c==Constants.CURRENCY||c==Constants.PERCENTAGE||c==Constants.AUTO_NUMBER||c==Constants.DATE||c==Constants.TIME||c==Constants.DATE_TIME)&&""==h&&(g=Constants.EMPTY_VALUE,$(f).showError(Constants.EMPTY_VALUE));if(""!=g)return CriteriaBuilderNew.frmSubmit=!1;if(CriteriaBuilderNew.frmSubmit){g=b+".criteriaField";var l=b+".relOperator";b+=".inputValue";$(d).attr("name",g);$(e).attr("name",l);$(f).attr("name",b);CriteriaBuilderNew.frmSubmit=!0;""!=a&&(a+="\x26");
a+=g+"\x3d"+$(d).val();a+="\x26"+l+"\x3d"+$(e).val();e=CriteriaBuilderNew.zohoVarList.indexOf(h.toLocaleLowerCase());f=CriteriaBuilderNew.inputVar==h.substr(0,h.indexOf("."))?!0:!1;if("null"==h||null==h||-1!=e||f)a+="\x26"+b+"\x3d"+encodeURIComponent(h);else if(e=h.charAt(0),f=h.charAt(h.length-1),'"'!=e&&'"'!=f&&"'"!=e&&"'"!=f){e="";if(c==Constants.SINGLE_LINE||c==Constants.MULTI_LINE||c==Constants.EMAIL_ADDRESS||c==Constants.RICH_TEXT_AREA||c==Constants.INLINE_SINGLE_SELECT||c==Constants.SINGLE_SELECT&&
"undefined"!=typeof $CriteriaBuilder&&$CriteriaBuilder.context!=Constants.WORKFLOW||c==Constants.LINK_FIELD||c==Constants.MULTI_SELECT||c==Constants.PHONE_NUMBER||c==Constants.EXTERNAL_FIELD)e='"';else if(c==Constants.DATE||c==Constants.DATE_TIME||c==Constants.TIME)f=h,-1==["yesterday","today","tomorrow"].indexOf(f.toLocaleLowerCase())&&k>=Constants.EQUAL&&k<=Constants.GREATER_EQUAL&&(k=$CriteriaBuilder.dateformat.replace("E","ddd"),g=$(d).find("option:selected").attr("showSeconds"),void 0==g&&(g=
"true"),g=getTimeFormat("true"==g,$CriteriaBuilder.is24HrFormat),c==Constants.DATE_TIME?k=k+" "+g:c==Constants.TIME&&(k=g),moment(f,k,"en-US",!0).isValid()&&(e="'"));h=e+encodeURIComponent(h)+e;a+="\x26"+b+"\x3d"+h}else a+="\x26"+b+"\x3d"+encodeURIComponent(h)}return a};this.updateOperatorName=function(a,b,c){if(0!=b.length&&0!=a){b=b.find("[elname\x3dconditionalOperator]");var d=$(b).attr("elname"),e=c+"."+d;c.endsWith(".")&&(e=c+d);b.attr("name",e);a+="\x26"+e+"\x3d"+encodeURIComponent($(b).val())}return a};
this.getRuleBind=function(){var a=CriteriaBuilderNew.groupEl.find(".zc-rule-subgroup-opt-and"),b=CriteriaBuilderNew.groupEl.find(".zc-rule-subgroup-opt-or");return 0!=a.length?RuleBind.ANDBIND:0!=b.length?RuleBind.ORBIND:RuleBind.SINGLE};this.changeCritField=function(a){var b=CriteriaBuilderNew.operatorOptions(a),c=$(a).parent().parent().next(),d=c.find("select[elname\x3drelOperator]"),e=$(a).find("option:selected"),f=e.attr("fcType"),g=$(e).parent().attr("compositeField");e=$(c.next()).find("input[elname\x3dinputValue]");
if("undefined"!=typeof $CriteriaBuilder&&"undefined"==typeof $CriteriaBuilder.searchParam){"undefined"!==typeof $(e).data("zcdd")&&$(e).data("zcdd").destroy();void 0!=$(e).data("dtpicker")&&$(e).data("dtpicker").destroy();$(e).val("");$(e).parent().has(".calcIcon").length&&($(e).parent().find(".calcIcon").remove(),$(e).hasClass("zc-dtpicker-field")&&$(e).removeClass("zc-dtpicker-field"));var h=[];(f!=Constants.SINGLE_SELECT||"undefined"==typeof $CriteriaBuilder||$CriteriaBuilder.context==Constants.WORKFLOW)&&
f!=Constants.LINK_FIELD&&f!=Constants.MULTI_SELECT&&f!=Constants.INLINE_SINGLE_SELECT||g?f==Constants.CHECK_BOX?CriteriaBuilderNew.appendDecisionBoxChoices(e):(f==Constants.DATE||f==Constants.DATE_TIME?h=["zoho.currentdate","zoho.currenttime"]:f==Constants.TIME?h=["zoho.currenttime"]:f==Constants.EMAIL_ADDRESS?h=["zoho.loginuserid","zoho.adminuserid"]:f!=Constants.NUMBER&&f!=Constants.CURRENCY&&f!=Constants.PERCENTAGE&&f!=Constants.AUTO_NUMBER&&(h="zoho.loginuser zoho.adminuser zoho.loginuserid zoho.adminuserid zoho.appname zoho.ipaddress zoho.appuri zoho.currentdate zoho.currenttime".split(" ")),
CriteriaBuilderNew.autoCompleteSystemVariables(e,h)):(a=$(a).val(),CriteriaBuilderNew.bindPicklistEvent(a,f,e))}d.data("zcdd").destroy();d.replaceWith(b);CriteriaBuilderNew.bindSelect2(c);f!=Constants.NONE&&b.data("zcdd").open()};this.appendDecisionBoxChoices=function(a){var b=a.attr("value");_config={data:CriteriaBuilderNew.convertSelect2Data({1:"true",2:"false"}),openOnEnter:!1,createSearchChoice:function(a){return{id:$.trim(a),text:$.trim(a)}},initSelection:function(a,d){d({id:$.trim(b),text:$.trim(b)})}};
$(a).zcDropDown(_config)};this.bindPicklistEvent=function(a,b,c){a=a.replace(".","_")+"_options";a=CriteriaBuilderNew[a];var d=c.attr("value");a=CriteriaBuilderNew.convertSelect2DataWithOptGroup(a,"Choices");a=a.concat(CriteriaBuilderNew.convertSelect2DataWithOptGroup("zoho.loginuser zoho.adminuser zoho.loginuserid zoho.adminuserid zoho.appname zoho.ipaddress zoho.appuri zoho.currentdate zoho.currenttime".split(" "),"Deluge System Variables"));"undefined"!=typeof $CriteriaBuilder&&$CriteriaBuilder.inputVariables&&
(a=a.concat(CriteriaBuilderNew.convertSelect2DataWithOptGroup(CriteriaBuilderNew.input_options,"Input Variables")));var e=b==Constants.MULTI_SELECT?!0:!1,f=b==Constants.INLINE_SINGLE_SELECT||b==Constants.SINGLE_SELECT||b==Constants.LINK_FIELD?!0:!1;b={data:a,openOnEnter:!1,multiple:e,createSearchChoice:function(a){return{id:$.trim(a),text:$.trim(a)}},initSelection:function(a,b){if(e||f){a=d.split(",");var c=[];$.each(a,function(){c.push({id:this,text:this})});f?b(c[0]):b(c)}}};$(c).zcDropDown(b)};
this.convertSelect2Data=function(a){var b=[];$.each(a,function(a,d){d=$("\x3cdiv\x3e").html(d).text();b.push({id:d,text:d})});return b};this.convertSelect2DataWithOptGroup=function(a,b){var c=[];c.push({text:b,children:CriteriaBuilderNew.convertSelect2Data(a)});return c};this.operatorOptions=function(a){var b=$(a).find("option:selected"),c=b.attr("fctype"),d="true"==b.attr("isencrypted")?!0:!1;$(a).parents(".zc-rule").find("input[elname\x3dinputValue]");var e="cbsamplestrlist";d?e="cbsampleencrypt_optlist":
c==Constants.NUMBER||c==Constants.CURRENCY||c==Constants.PERCENTAGE||c==Constants.AUTO_NUMBER?e="cbsamplenumlist":c==Constants.CHECK_BOX?e="cbsamplechecklist":c==Constants.DATE||c==Constants.DATE_TIME?e="cbsampledatelist":c==Constants.TIME?e="cbsampletimelist":c==Constants.INLINE_SINGLE_SELECT||c==Constants.MULTI_SELECT?e="cbsamplepicklist_optlist":c==Constants.LINK_FIELD&&"false"==b.attr("isarfield")?e="cbsampleblueprint_optlist":c==Constants.SINGLE_SELECT&&"undefined"!=typeof $CriteriaBuilder&&
$CriteriaBuilder.context==Constants.WORKFLOW&&(e="cbsamplelookup_optlist");c==Constants.CHECK_BOX?$($(a).parents("div.cb-conDiv").find("span").get(2)).replaceWith('\x3cspan class\x3d"custom_drop_double_arrow"\x3e\x3cselect class\x3d"width220"\x3e\x3coption value\x3d"true" selected\x3d"true"\x3etrue\x3c/option\x3e\x3coption value\x3d"false"\x3efalse\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e'):$($(a).parents("div.cb-conDiv").find("span").get(2)).replaceWith('\x3cspan\x3e\x3cinput type\x3d"text" class\x3d"cp-inputField"\x3e\x3c/span\x3e');
$(a).parent().next().next().children().val("");a=$("#"+e).clone();parseInt(c)!=Constants.NONE&&(b=b.attr("value"),a=$("#"+e).clone(),"Added_User"!=b&&"Modified_User"!=b||a.append($(CriteriaBuilder.delugeVar)),a.off("change"),c==Constants.CHECK_BOX&&$(a).find("option[value\x3d18]").attr("selected",!0));a.removeAttr("id");return a};this.changeRelOperator=function(a){var b=$(a).find("option:selected"),c=b.attr("value"),d=$(a).parent().parent().next(),e=d.children("input")[1];a=$(a).parent().parent().prev().find("select[elname\x3dcriteriaField]");
b=$(a).find("option:selected");a=b.attr("fctype");var f=b.attr("showSeconds");b=$(b).parent().attr("compositeField");var g=$(e).val();"undefined"!=typeof $CriteriaBuilder&&"undefined"==typeof $CriteriaBuilder.searchParam&&(void 0!=$(e).data("dtpicker")&&$(e).data("dtpicker").destroy(),a!=Constants.CHECK_BOX&&g.replace('/"/g',""),(a==Constants.DATE||a==Constants.DATE_TIME||a==Constants.TIME)&&c>=Constants.EQUAL&&c<=Constants.AFTER?CriteriaBuilderNew.dateTimePickerHandling(d,e,a,f):0!=$(d).has(".calcIcon").length&&
$(d).find(".calcIcon").remove(),null!=g&&""!=g||a==Constants.CHECK_BOX||e.setSelectionRange(1,1),$(e).prop("disabled",!1),c>=Constants.LIKE&&c<=Constants.CURRENT_NEXT_WEEK||c>=Constants.ISADMIN?($(e).attr("disabled",!0),$(e).val(""),"undefined"!==typeof $(e).data("zcdd")&&$(e).data("zcdd").setValue("")):c>=Constants.LAST_N_DAYS&&c<=Constants.N_YEARS_AGO&&$(e).val(""),(a!=Constants.SINGLE_SELECT||"undefined"==typeof $CriteriaBuilder||$CriteriaBuilder.context==Constants.WORKFLOW)&&a!=Constants.LINK_FIELD&&
a!=Constants.MULTI_SELECT&&a!=Constants.INLINE_SINGLE_SELECT||c==Constants.ISNULL||c==Constants.ISNOTNULL||b?$(e).trigger("focus"):$(e).data("zcdd").open())};this.dateTimePickerHandling=function(a,b,c,d){0==$(a).has(".calcIcon").length&&($(a).addClass("zc-dem-field-withicon-right"),c==Constants.DATE||c==Constants.DATE_TIME?calIcon='\x3ci elname\x3d"datePickerIcon" class\x3d"zc-dem-date-picker-icon calcIcon zc-em zc-common-calendar"\x3e\x3c/i\x3e':c==Constants.TIME&&(calIcon='\x3ci elname\x3d"timePickerIcon" class\x3d"zc-dem-date-picker-icon calcIcon zc-em zc-common-time"\x3e\x3c/i\x3e'),
$(b).addClass("zc-dtpicker-field"),$(b).after(calIcon));$(a).find(".calcIcon").off("click").on("click",function(){$(b).trigger("focus")});$(b).off("keyup").on("keyup",function(){void 0!=$(this).data("dtpicker")&&$(this).data("dtpicker").destroy()});$(b).off("mouseup").on("mouseup",function(){void 0!=$(this).data("dtpicker")&&$(this).data("dtpicker").destroy()});$(a).find(".calcIcon").off("mouseover").on("mouseover",function(){void 0==d&&(d="true");CriteriaBuilderNew.bindDateTimeEvent(b,c,d)})};this.autoCompleteSystemVariables=
function(a,b){b=CriteriaBuilderNew.getwithLabel(b);"undefined"!=typeof $CriteriaBuilder&&$CriteriaBuilder.inputVariables&&(b=b.concat(CriteriaBuilderNew.getwithLabel(CriteriaBuilderNew.input_options)));if("undefined"!=typeof $CriteriaBuilder&&"undefined"!=typeof $CriteriaBuilder.pageParam){var c=JSON.parse($CriteriaBuilder.pageParam);c=CriteriaBuilderNew.constructPageParameterOptions(c);b=b.concat(c)}$(a).autocomplete({autoFocus:!0,minLength:2,delay:0,max:10,source:b})};this.getwithLabel=function(a){var b=
[];$.each(a,function(a,d){b.push({label:d,value:d})});return b};this.getRespArr=function(a){var b=[],c;for(c in a){var d=a[c],e;for(e in d)b[e]=d[e]}return b};this.constructPageParameterOptions=function(a){var b=[];$.each(a,function(a,d){b.push({label:"input."+d.paramName,value:"input."+d.paramName})});return b};this.constructPageParameterWithOptGroup=function(a,b){var c=[];c.push({text:b,children:CriteriaBuilderNew.constructPageParameterOptions(a)});return c}},RuleBind=new function(){this.SINGLE=
0;this.ANDBIND=1;this.ORBIND=2};var CalendarDefaultTypes=new function(){this.LAST_YEAR=1;this.CURRENT_YEAR=2;this.NEXT_YEAR=3;this.CUSTOM_YEAR=4;this.LAST_MONTH=5;this.THIS_MONTH=6;this.NEXT_MONTH=7;this.CUSTOM_MONTH=8;this.YESTERDAY=9;this.TODAY=10;this.TOMORROW=11;this.CUSTOM_DAY=12},Constants=new function(){this.APP=0;this.FORM=1;this.REPORT=2;this.PAGE=3;this.WORKFLOW=4;this.APPROVALWF=5;this.SETTINGS=6;this.CUSTOMFUNCTION=7;this.BLUEPRINT=8;this.accordianKeys={1:"forms",2:"reports",3:"pages",4:"workflows"};this.UPGRADE_FULLSCREEN=
"fullScreen";this.UPGRADE_POPUP="popup";this.UPGRADE_INAPP="inAppPurchase";this.upgradeType={backup:this.UPGRADE_FULLSCREEN,scheduled_backup:this.UPGRADE_POPUP,localization:this.UPGRADE_FULLSCREEN};this.MAINTENANCE_MODE_ERROR_STATUS_CODE=455;this.STATEFUL=1;this.STATELESS=2;this.BUTTON="button";this.NONE=0;this.TEXT=this.SINGLE_LINE=1;this.PASSWORD=2;this.MULTI_LINE=3;this.EMAIL_ADDRESS=4;this.NUMBER=5;this.CURRENCY=6;this.PERCENTAGE=7;this.PHONE_NUMBER=8;this.CHECK_BOX=9;this.DATE=10;this.TIME=11;
this.SINGLE_SELECT=12;this.MULTI_SELECT=13;this.PLAIN_TEXT=14;this.SCRIPT=15;this.FILE_UPLOAD=18;this.DECIMAL=19;this.IMAGE=20;this.URL=21;this.DATE_TIME=22;this.RICH_TEXT_AREA=24;this.EXTERNAL_FIELD=25;this.EXTERNAL_LINK_FIELD=26;this.INLINE_SINGLE_SELECT=29;this.SYSTEM_LOOKUP=30;this.AUTO_NUMBER=31;this.LOOKUP=32;this.NAME=33;this.ADDRESS=34;this.SECTION=35;this.SIGNATURE=36;this.INTEGRATION=37;this.ENCRYPTION=38;this.LINK_FIELD=39;this.ANNOTATION=40;this.AUDIO=137;this.VIDEO=138;this.PREDICTION=
201;this.KEYWORD_EXTRACTOR=202;this.SENTIMENT_ANALYSER=203;this.OCR=204;this.OBJECT_DETECTION=205;this.ZIA_TEXT=210;this.ZIA_MULTILINE=211;this.AR=221;this.PREDICTION_TYPE=1;this.SENTIMENT_ANALYSER_TYPE=2;this.KEYWORD_EXTRACTOR_TYPE=3;this.OCR_TYPE=4;this.OBJECT_DETECTION_TYPE=5;this.ALL_USERS=1;this.SELECT_USERS=2;this.QUICKBOOKS="QuickBooks";this.SALESFORCE="SalesForce";this.ZOHOSUPPORT="ZohoSupport";this.ZOHOCRM="ZohoCRM";this.ZOHORECRUIT="ZohoRecruit";this.CREATED=1;this.EDITED=2;this.DELETED=
3;this.CREATED_EDITED=4;this.STATELESS_BUTTON=7;this.AUTOMATION=1;this.ONLOAD=2;this.ONVALIDATE=3;this.ONSUCCESS=4;this.ONUSERINPUT=5;this.ONUPDATE=6;this.ONADDROW=7;this.ONDELETEROW=8;this.CLICKOFBUTTON=51;this.FORM_WF="1";this.APPROVAL_WF="2";this.FORM_SCHEDULE_WF="3";this.DATE_SCHEDULE_WF="4";this.CUSTOM_WF="5";this.STATELESS_BUTTON_WF="6";this.PAYMENT_WF="7";this.PRE_ONCOMMIT_WF="8";this.BP_TRANSITION_WF="10";this.HIDE_FIELDS=1;this.DISABLE_FIELDS=2;this.ENABLE_FIELDS=3;this.SHOW_FIELDS=4;this.SUCCESS_MESSAGE=
5;this.URL_REDIRECTION=6;this.EMAIL_NOTIFICATION=7;this.SMS_NOTIFICATION=8;this.HIDE_SUBFORM_ADD_ENTRY=9;this.SHOW_SUBFORM_ADD_ENTRY=10;this.HIDE_SUBFORM_DELETE_ENTRY=11;this.SHOW_SUBFORM_DELETE_ENTRY=12;this.CONNECT_NOTIFICATION=13;this.SET_FIELD_VALUE=14;this.PUSH_NOTIFICATION=15;this.INTEGRATION_TASK=16;this.CUSTOM_PROCESS=17;this.CUSTOM_FUNCTION=18;this.ADD_RECORD_TASK=20;this.UPDATE_RECORD_TASK=21;this.DELETE_RECORD_TASK=22;this.REDIRECTURL=6;this.SENDMAIL=7;this.SENDSMS=8;this.PAYMENT_SUCCESS_FAILURE=
0;this.PAYMENT_SUCCESS=1;this.PAYMENT_FAILURE=2;this.COMPOSITE=7;this.PICK_LIST=100;this.RADIO=101;this.LIST=102;this.CHECK_BOXES=103;this.COMPOSITE_NAME=104;this.COMPOSITE_ADDRESS=105;this.SUB_FORM_INLINE=97;this.SUB_FORM_POPUP=98;this.SUB_FORM_GRID=99;this.INLINE_PICK_LIST=1100;this.INLINE_RADIO=1101;this.BLOCK=1102;this.AR_LINK_FIELD=4;this.MARKER_BASED=1;this.MARKER_LESS=2;this.DECIMAL_DATATYPE="DECIMAL";this.NEXT_URL_NONE=1;this.NEXT_URL_FORM=2;this.NEXT_URL_VIEW=3;this.NEXT_URL_PAGE=4;this.NEXT_URL_CUSTOM=
5;this.EXTERNAL_SERVICE_ZOHO_CRM=1;this.EXTERNAL_SERVICE_GOOGLE_APPS=2;this.EXTERNAL_SERVICE_SDP_OD=3;this.EXTERNAL_SERVICE_SALESFORCE=4;this.EXTERNAL_SERVICE=5;this.ZOHO_CRM_LEADS=1;this.ZOHO_CRM_ACCOUNTS=2;this.ZOHO_CRM_POTENTIALS=3;this.ZOHO_CRM_CONTACTS=4;this.ZOHO_CRM_CAMPAIGNS=5;this.ZOHO_CRM_TASKS=6;this.ZOHO_CRM_EVENTS=7;this.ZOHO_CRM_CASES=8;this.ZOHO_CRM_SOLUTIONS=9;this.ZOHO_CRM_PRODUCTS=10;this.ZOHO_CRM_PRICEBOOKS=11;this.ZOHO_CRM_QUOTES=12;this.ZOHO_CRM_VENDORS=13;this.ZOHO_CRM_PURCHASEORDERS=
14;this.ZOHO_CRM_SALESORDERS=15;this.ZOHO_CRM_INVOICES=16;this.ZOHO_CRM_NOTES=17;this.ZOHO_CRM_USERS=18;this.GAPPS_FIELD=19;this.SDP_OD_TECHNICIANS=1;this.SDP_OD_CATEGORY=2;this.SDP_OD_STATUS=3;this.SDP_OD_LEVEL=4;this.SDP_OD_PRIORITY=5;this.SDP_OD_REQUEST_TYPE=6;this.SDP_OD_SITES=7;this.SDP_OD_DEPARTMENTS=8;this.SDP_OD_ASSETS=9;this.SDP_OD_USERS=10;this.choiceConstants={};this.BUTTON_ON_ADD=1;this.BUTTON_ON_EDIT=2;this.BUTTON_TYPE=61;this.SUBMIT_TYPE=62;this.RESET_TYPE=63;this.CANCEL_TYPE=64;this.alignmentClass=
{1:"leftAlign",2:"rightAlign",3:"topAlign"};this.maxLength={FORM_ENTRIES:999,FORM_DISPNAME:50,FORM_LINKNAME:50,FORM_SUCCESSMSG:255,FIELD_DISPNAME:200,FIELD_LINKNAME:100,TOOLTIP:255,FIELD_HEIGHT:500,FIELD_CHAR_LIMIT:255,MAX_DIGIT_LENGTH:19,MAX_DOUBLE_LENGTH:16,VIDEO_SECS:60,AUDIO_SECS:60,AUDIO_MINS:30,VIDEO_MINS:5,DECIMAL_LENGTH:15,SUBFORM_ENTRIES:500,ERROR_MESSAGE:255};this.NO_DESCRIPTION=0;this.TOOLTIP=1;this.HELPTEXT=2;this.fieldSizes={nSmall:150,nMedium:300,nLarge:450};this.fieldCompSizes={1:{1:150,
2:200,3:250},2:{1:150,2:200,3:250},3:{1:150,2:200,3:250},4:{1:150,2:200,3:250},5:{1:150,2:200,3:250},6:{1:150,2:200,3:250},7:{1:150,2:200,3:250},8:{1:150,2:200,3:250},9:{1:150,2:200,3:250},10:{1:150,2:200,3:250},11:{1:150,2:200,3:250},12:{1:150,2:200,3:250},13:{1:150,2:200,3:250},14:{1:150,2:200,3:250},15:{1:150,2:200,3:250},24:{1:150,2:200,3:250},25:{1:150,2:200,3:250},26:{1:150,2:200,3:250},29:{1:150,2:200,3:250},30:{1:150,2:200,3:250},31:{1:150,2:200,3:250},32:{1:150,2:200,3:250},33:{1:150,2:200,
3:250},34:{1:150,2:200,3:250},35:{1:150,2:200,3:250},36:{1:150,2:200,3:250}};this.fieldMinWidth={34:200,6:60,10:100,22:100,19:30,4:100,37:100,26:100,25:100,32:100,18:100,20:100,29:60,1100:60,3:200,13:100,33:200,5:30,7:60,8:170,24:270,1:30,12:100,30:200,15:60,21:100,97:0,98:0,99:0};this.fieldSizesNew={nSmall:1,nMedium:2,nLarge:3,custom:0};this.fieldSizeVal={1:"nSmall",2:"nMedium",3:"nLarge",0:"custom"};this.fieldClass={1:"smallSizeEdit",2:"mediumSizeEdit",3:"largeSizeEdit"};this.colClass={2:"cmedium",
3:"clarge"};this.fieldLayouts={oneColumns:1,twoColumns:2,threeColumns:3};this.NUMBERPAD_ZERO=96;this.NUMBERPAD_NINE=105;this.NUMBERPAD_MULTIPLY=106;this.NUMBERPAD_ADD=107;this.NUMBERPAD_SUBSTRACT=108;this.NUMBERPAD_DIVIDE=109;this.NUMBERPAD_DECIMAL=110;this.KEYPAD_SEMICOLON=186;this.KEYPAD_EQUAL=187;this.KEYPAD_COMMA=188;this.KEYPAD_DASH=189;this.KEYPAD_COLON=190;this.KEYPAD_FORWARDSLASH=191;this.KEYPAD_GRAVEACCENT=192;this.KEYPAD_OPENBRACE=219;this.KEYPAD_BACKSLASH=220;this.KEYPAD_CLOSEBRACE=221;
this.KEYPAD_SINGLEQUOTE=222;this.KEYPAD_ZERO=48;this.KEYPAD_NINE=57;this.APLPHABET_A=65;this.APLPHABET_Z=90;this.BACKSPACE=8;this.ENTER=13;this.SPACE=32;this.LEFT=37;this.UP=38;this.PAGEUP=33;this.PAGEDOWN=34;this.RIGHT=39;this.DOWN=40;this.DELETE=46;this.ESCAPE=27;this.TAB=9;this.OTHER_OPTION="-otherVal-";this.PHONE_NUMBER_REGEX={fr:"(0?6[93])\\d{7}$"};this.PHONE_NUMBER_SEPARATORS=/[ \(\)\-\.]*/g;this.POPUP_SUBMIT=1;this.POPUP_CANCEL=2;this.POPUP_BUTTON=3;this.phoneFormats=["INTERNATIONAL","US"];
this.fileFormats={Image:"jpg,jpeg,png,gif,bmp",Archive:"zip,tar,7z,gz,tgz,rar,jar,deb",Document:"doc,dcom,docx,dot,gdoc,html,odm,odt,ott,pdf,txt,rtf,xml",Presentation:"ppt,pptx,odp,otp,pot",Spreadsheet:"xls,xlsx,xlsm,gsheet,ods,odt,sdc,xlw",Audio:"mp3,wav,m4a,wma,acc,m4p",Video:"3gp,avi,flv,m4a,mpeg,mov,wmv"};this.VIEW_LIST=1;this.VIEW_CALENDAR=2;this.VIEW_SUMMARY=3;this.VIEW_GRID=4;this.VIEW_CHART=5;this.VIEW_SPREADSHEET=6;this.VIEW_PIVOT_TABLE=7;this.VIEW_PIVOT_CHART=8;this.VIEW_CUSTOM=9;this.VIEW_TIMELINE=
15;this.VIEW_KANBAN=16;this.VIEW_MAPS=20;this.DEVICE_WEB=1;this.DEVICE_PHONE=2;this.DEVICE_TABLET=3;this.VIEW_NONE="-zc_none-";this.DATABLOCK_SEPERATOR=".";this.DETAILVIEW_LINER_LAYOUT=1;this.DETAILVIEW_MULTIBLOCK_LAYOUT=2;this.DETAILVIEW_LAYOUT_TOP_BOTTOM=3;this.DETAILVIEW_LAYOUT_RIGHT_LEFT=4;this.DETAILVIEW_LAYOUT_CUSTOM=5;this.ACTION_TYPES={EXPORT:9,PRINT:10};this.CUSTOM_LAYOUT=0;this.LAYOUT_CARDSIZE_CUSTOM=-1;this.LAYOUT_ALIGNMENT_LEFT=1;this.LAYOUT_ALIGNMENT_RIGHT=2;this.LAYOUT_ALIGNMENT_TOP=
3;this.LAYOUT_ALIGNMENT_BOTTOM=4;this.LAYOUT_ALIGNMENT_CENTER=2;this.LAYOUT_FIELDTYPE_TEXT="T";this.LAYOUT_FIELDTYPE_DESCRIPTION="D";this.LAYOUT_FIELDTYPE_IMAGE="I";this.LAYOUT_FIELDTYPE_TINY_TEXT="TT";this.LAYOUT_SQUARE_SHAPE=1;this.LAYOUT_CIRCLE_SHAPE=2;this.LAYOUT_FULL_WIDTH_SHAPE=3;this.DEFAULT_LAYOUTS=[-1,-2,-3,-4,-5,101];this.COUNTRY_CODES={1:["us","ca","do","pr"],7:["ru","kz"],20:["eg"],27:["za"],30:["gr"],31:["nl"],32:["be"],33:["fr"],34:["es"],36:["hu"],39:["it","va"],40:["ro"],41:["ch"],
43:["at"],44:["gb","gg","im","je"],45:["dk"],46:["se"],47:["no","sj"],48:["pl"],49:["de"],51:["pe"],52:["mx"],53:["cu"],54:["ar"],55:["br"],56:["cl"],57:["co"],58:["ve"],60:["my"],61:["au","cc","cx"],62:["id"],63:["ph"],64:["nz"],65:["sg"],66:["th"],81:["jp"],82:["kr"],84:["vn"],86:["cn"],90:["tr"],91:["in"],92:["pk"],93:["af"],94:["lk"],95:["mm"],98:["ir"],211:["ss"],212:["ma","eh"],213:["dz"],216:["tn"],218:["ly"],220:["gm"],221:["sn"],222:["mr"],223:["ml"],224:["gn"],225:["ci"],226:["bf"],227:["ne"],
228:["tg"],229:["bj"],230:["mu"],231:["lr"],232:["sl"],233:["gh"],234:["ng"],235:["td"],236:["cf"],237:["cm"],238:["cv"],239:["st"],240:["gq"],241:["ga"],242:["cg"],243:["cd"],244:["ao"],245:["gw"],246:["io"],248:["sc"],249:["sd"],250:["rw"],251:["et"],252:["so"],253:["dj"],254:["ke"],255:["tz"],256:["ug"],257:["bi"],258:["mz"],260:["zm"],261:["mg"],262:["re","yt"],263:["zw"],264:["na"],265:["mw"],266:["ls"],267:["bw"],268:["sz"],269:["km"],290:["sh"],291:["er"],297:["aw"],298:["fo"],299:["gl"],350:["gi"],
351:["pt"],352:["lu"],353:["ie"],354:["is"],355:["al"],356:["mt"],357:["cy"],358:["fi","ax"],359:["bg"],370:["lt"],371:["lv"],372:["ee"],373:["md"],374:["am"],375:["by"],376:["ad"],377:["mc"],378:["sm"],380:["ua"],381:["rs"],382:["me"],385:["hr"],386:["si"],387:["ba"],389:["mk"],420:["cz"],421:["sk"],423:["li"],500:["fk"],501:["bz"],502:["gt"],503:["sv"],504:["hn"],505:["ni"],506:["cr"],507:["pa"],508:["pm"],509:["ht"],590:["gp","bl","mf"],591:["bo"],592:["gy"],593:["ec"],594:["gf"],595:["py"],596:["mq"],
597:["sr"],598:["uy"],599:["cw","bq"],670:["tl"],672:["nf"],673:["bn"],674:["nr"],675:["pg"],676:["to"],677:["sb"],678:["vu"],679:["fj"],680:["pw"],681:["wf"],682:["ck"],683:["nu"],685:["ws"],686:["ki"],687:["nc"],688:["tv"],689:["pf"],690:["tk"],691:["fm"],692:["mh"],850:["kp"],852:["hk"],853:["mo"],855:["kh"],856:["la"],880:["bd"],886:["tw"],960:["mv"],961:["lb"],962:["jo"],963:["sy"],964:["iq"],965:["kw"],966:["sa"],967:["ye"],968:["om"],970:["ps"],971:["ae"],972:["il"],973:["bh"],974:["qa"],975:["bt"],
976:["mn"],977:["np"],992:["tj"],993:["tm"],994:["az"],995:["ge"],996:["kg"],998:["uz"],1204:["ca"],1226:["ca"],1236:["ca"],1242:["bs"],1246:["bb"],1249:["ca"],1250:["ca"],1264:["ai"],1268:["ag"],1284:["vg"],1289:["ca"],1306:["ca"],1340:["vi"],1343:["ca"],1345:["ky"],1365:["ca"],1387:["ca"],1403:["ca"],1416:["ca"],1418:["ca"],1431:["ca"],1437:["ca"],1438:["ca"],1441:["bm"],1450:["ca"],1473:["gd"],1506:["ca"],1514:["ca"],1519:["ca"],1548:["ca"],1579:["ca"],1581:["ca"],1587:["ca"],1604:["ca"],1613:["ca"],
1639:["ca"],1647:["ca"],1649:["tc"],1664:["ms"],1670:["mp"],1671:["gu"],1672:["ca"],1684:["as"],1705:["ca"],1709:["ca"],1721:["sx"],1742:["ca"],1758:["lc"],1767:["dm"],1778:["ca"],1780:["ca"],1782:["ca"],1784:["vc"],1787:["pr"],1807:["ca"],1809:["do"],1819:["ca"],1825:["ca"],1829:["do"],1849:["do"],1867:["ca"],1868:["tt"],1869:["kn"],1873:["ca"],1876:["jm"],1902:["ca"],1905:["ca"],1939:["pr"]};this.COUNTRY_DATA=[{name:"Afghanistan",iso2:"af",dialCode:"93",priority:0,areaCodes:null,id:"af",text:"Afghanistan"},
{name:"Albania",iso2:"al",dialCode:"355",priority:0,areaCodes:null,id:"al",text:"Albania"},{name:"Algeria",iso2:"dz",dialCode:"213",priority:0,areaCodes:null,id:"dz",text:"Algeria"},{name:"American Samoa",iso2:"as",dialCode:"1684",priority:0,areaCodes:null,id:"as",text:"American Samoa"},{name:"Andorra",iso2:"ad",dialCode:"376",priority:0,areaCodes:null,id:"ad",text:"Andorra"},{name:"Angola",iso2:"ao",dialCode:"244",priority:0,areaCodes:null,id:"ao",text:"Angola"},{name:"Anguilla",iso2:"ai",dialCode:"1264",
priority:0,areaCodes:null,id:"ai",text:"Anguilla"},{name:"Antigua and Barbuda",iso2:"ag",dialCode:"1268",priority:0,areaCodes:null,id:"ag",text:"Antigua and Barbuda"},{name:"Argentina",iso2:"ar",dialCode:"54",priority:0,areaCodes:null,id:"ar",text:"Argentina"},{name:"Armenia",iso2:"am",dialCode:"374",priority:0,areaCodes:null,id:"am",text:"Armenia"},{name:"Aruba",iso2:"aw",dialCode:"297",priority:0,areaCodes:null,id:"aw",text:"Aruba"},{name:"Australia",iso2:"au",dialCode:"61",priority:0,areaCodes:null,
id:"au",text:"Australia"},{name:"Austria",iso2:"at",dialCode:"43",priority:0,areaCodes:null,id:"at",text:"Austria"},{name:"Azerbaijan",iso2:"az",dialCode:"994",priority:0,areaCodes:null,id:"az",text:"Azerbaijan"},{name:"Bahamas",iso2:"bs",dialCode:"1242",priority:0,areaCodes:null,id:"bs",text:"Bahamas"},{name:"Bahrain",iso2:"bh",dialCode:"973",priority:0,areaCodes:null,id:"bh",text:"Bahrain"},{name:"Bangladesh",iso2:"bd",dialCode:"880",priority:0,areaCodes:null,id:"bd",text:"Bangladesh"},{name:"Barbados",
iso2:"bb",dialCode:"1246",priority:0,areaCodes:null,id:"bb",text:"Barbados"},{name:"Belarus",iso2:"by",dialCode:"375",priority:0,areaCodes:null,id:"by",text:"Belarus"},{name:"Belgium",iso2:"be",dialCode:"32",priority:0,areaCodes:null,id:"be",text:"Belgium"},{name:"Belize",iso2:"bz",dialCode:"501",priority:0,areaCodes:null,id:"bz",text:"Belize"},{name:"Benin",iso2:"bj",dialCode:"229",priority:0,areaCodes:null,id:"bj",text:"Benin"},{name:"Bermuda",iso2:"bm",dialCode:"1441",priority:0,areaCodes:null,
id:"bm",text:"Bermuda"},{name:"Bhutan",iso2:"bt",dialCode:"975",priority:0,areaCodes:null,id:"bt",text:"Bhutan"},{name:"Bolivia",iso2:"bo",dialCode:"591",priority:0,areaCodes:null,id:"bo",text:"Bolivia"},{name:"Bosnia and Herzegovina",iso2:"ba",dialCode:"387",priority:0,areaCodes:null,id:"ba",text:"Bosnia and Herzegovina"},{name:"Botswana",iso2:"bw",dialCode:"267",priority:0,areaCodes:null,id:"bw",text:"Botswana"},{name:"Brazil",iso2:"br",dialCode:"55",priority:0,areaCodes:null,id:"br",text:"Brazil"},
{name:"British Indian Ocean Territory",iso2:"io",dialCode:"246",priority:0,areaCodes:null,id:"io",text:"British Indian Ocean Territory"},{name:"British Virgin Islands",iso2:"vg",dialCode:"1284",priority:0,areaCodes:null,id:"vg",text:"British Virgin Islands"},{name:"Brunei",iso2:"bn",dialCode:"673",priority:0,areaCodes:null,id:"bn",text:"Brunei"},{name:"Bulgaria",iso2:"bg",dialCode:"359",priority:0,areaCodes:null,id:"bg",text:"Bulgaria"},{name:"Burkina Faso",iso2:"bf",dialCode:"226",priority:0,areaCodes:null,
id:"bf",text:"Burkina Faso"},{name:"Burundi",iso2:"bi",dialCode:"257",priority:0,areaCodes:null,id:"bi",text:"Burundi"},{name:"Cambodia",iso2:"kh",dialCode:"855",priority:0,areaCodes:null,id:"kh",text:"Cambodia"},{name:"Cameroon",iso2:"cm",dialCode:"237",priority:0,areaCodes:null,id:"cm",text:"Cameroon"},{name:"Canada",iso2:"ca",dialCode:"1",priority:1,areaCodes:"204 226 236 249 250 289 306 343 365 387 403 416 418 431 437 438 450 506 514 519 548 579 581 587 604 613 639 647 672 705 709 742 778 780 782 807 819 825 867 873 902 905".split(" "),
id:"ca",text:"Canada"},{name:"Cape Verde",iso2:"cv",dialCode:"238",priority:0,areaCodes:null,id:"cv",text:"Cape Verde"},{name:"Caribbean Netherlands",iso2:"bq",dialCode:"599",priority:1,areaCodes:null,id:"bq",text:"Caribbean Netherlands"},{name:"Cayman Islands",iso2:"ky",dialCode:"1345",priority:0,areaCodes:null,id:"ky",text:"Cayman Islands"},{name:"Central African Republic",iso2:"cf",dialCode:"236",priority:0,areaCodes:null,id:"cf",text:"Central African Republic"},{name:"Chad",iso2:"td",dialCode:"235",
priority:0,areaCodes:null,id:"td",text:"Chad"},{name:"Chile",iso2:"cl",dialCode:"56",priority:0,areaCodes:null,id:"cl",text:"Chile"},{name:"China",iso2:"cn",dialCode:"86",priority:0,areaCodes:null,id:"cn",text:"China"},{name:"Christmas Island",iso2:"cx",dialCode:"61",priority:2,areaCodes:null,id:"cx",text:"Christmas Island"},{name:"Cocos",iso2:"cc",dialCode:"61",priority:1,areaCodes:null,id:"cc",text:"Cocos"},{name:"Colombia",iso2:"co",dialCode:"57",priority:0,areaCodes:null,id:"co",text:"Colombia"},
{name:"Comoros",iso2:"km",dialCode:"269",priority:0,areaCodes:null,id:"km",text:"Comoros"},{name:"Democratic Republic of the Congo",iso2:"cd",dialCode:"243",priority:0,areaCodes:null,id:"cd",text:"Democratic Republic of the Congo"},{name:"Republic of the Congo",iso2:"cg",dialCode:"242",priority:0,areaCodes:null,id:"cg",text:"Republic of the Congo"},{name:"Cook Islands",iso2:"ck",dialCode:"682",priority:0,areaCodes:null,id:"ck",text:"Cook Islands"},{name:"Costa Rica",iso2:"cr",dialCode:"506",priority:0,
areaCodes:null,id:"cr",text:"Costa Rica"},{name:"Ivory Coast",iso2:"ci",dialCode:"225",priority:0,areaCodes:null,id:"ci",text:"Ivory Coast"},{name:"Croatia",iso2:"hr",dialCode:"385",priority:0,areaCodes:null,id:"hr",text:"Croatia"},{name:"Cuba",iso2:"cu",dialCode:"53",priority:0,areaCodes:null,id:"cu",text:"Cuba"},{name:"Cura\u00e7ao",iso2:"cw",dialCode:"599",priority:0,areaCodes:null,id:"cw",text:"Cura\u00e7ao"},{name:"Cyprus",iso2:"cy",dialCode:"357",priority:0,areaCodes:null,id:"cy",text:"Cyprus"},
{name:"Czech Republic",iso2:"cz",dialCode:"420",priority:0,areaCodes:null,id:"cz",text:"Czech Republic"},{name:"Denmark",iso2:"dk",dialCode:"45",priority:0,areaCodes:null,id:"dk",text:"Denmark"},{name:"Djibouti",iso2:"dj",dialCode:"253",priority:0,areaCodes:null,id:"dj",text:"Djibouti"},{name:"Dominica",iso2:"dm",dialCode:"1767",priority:0,areaCodes:null,id:"dm",text:"Dominica"},{name:"Dominican Republic",iso2:"do",dialCode:"1",priority:2,areaCodes:["809","829","849"],id:"do",text:"Dominican Republic"},
{name:"Ecuador",iso2:"ec",dialCode:"593",priority:0,areaCodes:null,id:"ec",text:"Ecuador"},{name:"Egypt",iso2:"eg",dialCode:"20",priority:0,areaCodes:null,id:"eg",text:"Egypt"},{name:"El Salvador",iso2:"sv",dialCode:"503",priority:0,areaCodes:null,id:"sv",text:"El Salvador"},{name:"Equatorial Guinea",iso2:"gq",dialCode:"240",priority:0,areaCodes:null,id:"gq",text:"Equatorial Guinea"},{name:"Eritrea",iso2:"er",dialCode:"291",priority:0,areaCodes:null,id:"er",text:"Eritrea"},{name:"Estonia",iso2:"ee",
dialCode:"372",priority:0,areaCodes:null,id:"ee",text:"Estonia"},{name:"Ethiopia",iso2:"et",dialCode:"251",priority:0,areaCodes:null,id:"et",text:"Ethiopia"},{name:"Falkland Islands",iso2:"fk",dialCode:"500",priority:0,areaCodes:null,id:"fk",text:"Falkland Islands"},{name:"Faroe Islands",iso2:"fo",dialCode:"298",priority:0,areaCodes:null,id:"fo",text:"Faroe Islands"},{name:"Fiji",iso2:"fj",dialCode:"679",priority:0,areaCodes:null,id:"fj",text:"Fiji"},{name:"Finland",iso2:"fi",dialCode:"358",priority:0,
areaCodes:null,id:"fi",text:"Finland"},{name:"France",iso2:"fr",dialCode:"33",priority:0,areaCodes:null,id:"fr",text:"France"},{name:"French Guiana",iso2:"gf",dialCode:"594",priority:0,areaCodes:null,id:"gf",text:"French Guiana"},{name:"French Polynesia",iso2:"pf",dialCode:"689",priority:0,areaCodes:null,id:"pf",text:"French Polynesia"},{name:"Gabon",iso2:"ga",dialCode:"241",priority:0,areaCodes:null,id:"ga",text:"Gabon"},{name:"Gambia",iso2:"gm",dialCode:"220",priority:0,areaCodes:null,id:"gm",text:"Gambia"},
{name:"Georgia",iso2:"ge",dialCode:"995",priority:0,areaCodes:null,id:"ge",text:"Georgia"},{name:"Germany",iso2:"de",dialCode:"49",priority:0,areaCodes:null,id:"de",text:"Germany"},{name:"Ghana",iso2:"gh",dialCode:"233",priority:0,areaCodes:null,id:"gh",text:"Ghana"},{name:"Gibraltar",iso2:"gi",dialCode:"350",priority:0,areaCodes:null,id:"gi",text:"Gibraltar"},{name:"Greece",iso2:"gr",dialCode:"30",priority:0,areaCodes:null,id:"gr",text:"Greece"},{name:"Greenland",iso2:"gl",dialCode:"299",priority:0,
areaCodes:null,id:"gl",text:"Greenland"},{name:"Grenada",iso2:"gd",dialCode:"1473",priority:0,areaCodes:null,id:"gd",text:"Grenada"},{name:"Guadeloupe",iso2:"gp",dialCode:"590",priority:0,areaCodes:null,id:"gp",text:"Guadeloupe"},{name:"Guam",iso2:"gu",dialCode:"1671",priority:0,areaCodes:null,id:"gu",text:"Guam"},{name:"Guatemala",iso2:"gt",dialCode:"502",priority:0,areaCodes:null,id:"gt",text:"Guatemala"},{name:"Guernsey",iso2:"gg",dialCode:"44",priority:1,areaCodes:null,id:"gg",text:"Guernsey"},
{name:"Guinea",iso2:"gn",dialCode:"224",priority:0,areaCodes:null,id:"gn",text:"Guinea"},{name:"Guinea-Bissau",iso2:"gw",dialCode:"245",priority:0,areaCodes:null,id:"gw",text:"Guinea-Bissau"},{name:"Guyana",iso2:"gy",dialCode:"592",priority:0,areaCodes:null,id:"gy",text:"Guyana"},{name:"Haiti",iso2:"ht",dialCode:"509",priority:0,areaCodes:null,id:"ht",text:"Haiti"},{name:"Honduras",iso2:"hn",dialCode:"504",priority:0,areaCodes:null,id:"hn",text:"Honduras"},{name:"Hong Kong",iso2:"hk",dialCode:"852",
priority:0,areaCodes:null,id:"hk",text:"Hong Kong"},{name:"Hungary",iso2:"hu",dialCode:"36",priority:0,areaCodes:null,id:"hu",text:"Hungary"},{name:"Iceland",iso2:"is",dialCode:"354",priority:0,areaCodes:null,id:"is",text:"Iceland"},{name:"India",iso2:"in",dialCode:"91",priority:0,areaCodes:null,id:"in",text:"India"},{name:"Indonesia",iso2:"id",dialCode:"62",priority:0,areaCodes:null,id:"id",text:"Indonesia"},{name:"Iran",iso2:"ir",dialCode:"98",priority:0,areaCodes:null,id:"ir",text:"Iran"},{name:"Iraq",
iso2:"iq",dialCode:"964",priority:0,areaCodes:null,id:"iq",text:"Iraq"},{name:"Ireland",iso2:"ie",dialCode:"353",priority:0,areaCodes:null,id:"ie",text:"Ireland"},{name:"Isle of Man",iso2:"im",dialCode:"44",priority:2,areaCodes:null,id:"im",text:"Isle of Man"},{name:"Israel",iso2:"il",dialCode:"972",priority:0,areaCodes:null,id:"il",text:"Israel"},{name:"Italy",iso2:"it",dialCode:"39",priority:0,areaCodes:null,id:"it",text:"Italy"},{name:"Jamaica",iso2:"jm",dialCode:"1876",priority:0,areaCodes:null,
id:"jm",text:"Jamaica"},{name:"Japan",iso2:"jp",dialCode:"81",priority:0,areaCodes:null,id:"jp",text:"Japan"},{name:"Jersey",iso2:"je",dialCode:"44",priority:3,areaCodes:null,id:"je",text:"Jersey"},{name:"Jordan",iso2:"jo",dialCode:"962",priority:0,areaCodes:null,id:"jo",text:"Jordan"},{name:"Kazakhstan",iso2:"kz",dialCode:"7",priority:1,areaCodes:null,id:"kz",text:"Kazakhstan"},{name:"Kenya",iso2:"ke",dialCode:"254",priority:0,areaCodes:null,id:"ke",text:"Kenya"},{name:"Kiribati",iso2:"ki",dialCode:"686",
priority:0,areaCodes:null,id:"ki",text:"Kiribati"},{name:"Kuwait",iso2:"kw",dialCode:"965",priority:0,areaCodes:null,id:"kw",text:"Kuwait"},{name:"Kyrgyzstan",iso2:"kg",dialCode:"996",priority:0,areaCodes:null,id:"kg",text:"Kyrgyzstan"},{name:"Laos",iso2:"la",dialCode:"856",priority:0,areaCodes:null,id:"la",text:"Laos"},{name:"Latvia",iso2:"lv",dialCode:"371",priority:0,areaCodes:null,id:"lv",text:"Latvia"},{name:"Lebanon",iso2:"lb",dialCode:"961",priority:0,areaCodes:null,id:"lb",text:"Lebanon"},
{name:"Lesotho",iso2:"ls",dialCode:"266",priority:0,areaCodes:null,id:"ls",text:"Lesotho"},{name:"Liberia",iso2:"lr",dialCode:"231",priority:0,areaCodes:null,id:"lr",text:"Liberia"},{name:"Libya",iso2:"ly",dialCode:"218",priority:0,areaCodes:null,id:"ly",text:"Libya"},{name:"Liechtenstein",iso2:"li",dialCode:"423",priority:0,areaCodes:null,id:"li",text:"Liechtenstein"},{name:"Lithuania",iso2:"lt",dialCode:"370",priority:0,areaCodes:null,id:"lt",text:"Lithuania"},{name:"Luxembourg",iso2:"lu",dialCode:"352",
priority:0,areaCodes:null,id:"lu",text:"Luxembourg"},{name:"Macau",iso2:"mo",dialCode:"853",priority:0,areaCodes:null,id:"mo",text:"Macau"},{name:"Macedonia",iso2:"mk",dialCode:"389",priority:0,areaCodes:null,id:"mk",text:"Macedonia"},{name:"Madagascar",iso2:"mg",dialCode:"261",priority:0,areaCodes:null,id:"mg",text:"Madagascar"},{name:"Malawi",iso2:"mw",dialCode:"265",priority:0,areaCodes:null,id:"mw",text:"Malawi"},{name:"Malaysia",iso2:"my",dialCode:"60",priority:0,areaCodes:null,id:"my",text:"Malaysia"},
{name:"Maldives",iso2:"mv",dialCode:"960",priority:0,areaCodes:null,id:"mv",text:"Maldives"},{name:"Mali",iso2:"ml",dialCode:"223",priority:0,areaCodes:null,id:"ml",text:"Mali"},{name:"Malta",iso2:"mt",dialCode:"356",priority:0,areaCodes:null,id:"mt",text:"Malta"},{name:"Marshall Islands",iso2:"mh",dialCode:"692",priority:0,areaCodes:null,id:"mh",text:"Marshall Islands"},{name:"Martinique",iso2:"mq",dialCode:"596",priority:0,areaCodes:null,id:"mq",text:"Martinique"},{name:"Mauritania",iso2:"mr",dialCode:"222",
priority:0,areaCodes:null,id:"mr",text:"Mauritania"},{name:"Mauritius",iso2:"mu",dialCode:"230",priority:0,areaCodes:null,id:"mu",text:"Mauritius"},{name:"Mayotte",iso2:"yt",dialCode:"262",priority:1,areaCodes:null,id:"yt",text:"Mayotte"},{name:"Mexico",iso2:"mx",dialCode:"52",priority:0,areaCodes:null,id:"mx",text:"Mexico"},{name:"Micronesia",iso2:"fm",dialCode:"691",priority:0,areaCodes:null,id:"fm",text:"Micronesia"},{name:"Moldova",iso2:"md",dialCode:"373",priority:0,areaCodes:null,id:"md",text:"Moldova"},
{name:"Monaco",iso2:"mc",dialCode:"377",priority:0,areaCodes:null,id:"mc",text:"Monaco"},{name:"Mongolia",iso2:"mn",dialCode:"976",priority:0,areaCodes:null,id:"mn",text:"Mongolia"},{name:"Montenegro",iso2:"me",dialCode:"382",priority:0,areaCodes:null,id:"me",text:"Montenegro"},{name:"Montserrat",iso2:"ms",dialCode:"1664",priority:0,areaCodes:null,id:"ms",text:"Montserrat"},{name:"Morocco",iso2:"ma",dialCode:"212",priority:0,areaCodes:null,id:"ma",text:"Morocco"},{name:"Mozambique",iso2:"mz",dialCode:"258",
priority:0,areaCodes:null,id:"mz",text:"Mozambique"},{name:"Myanmar",iso2:"mm",dialCode:"95",priority:0,areaCodes:null,id:"mm",text:"Myanmar"},{name:"Namibia",iso2:"na",dialCode:"264",priority:0,areaCodes:null,id:"na",text:"Namibia"},{name:"Nauru",iso2:"nr",dialCode:"674",priority:0,areaCodes:null,id:"nr",text:"Nauru"},{name:"Nepal",iso2:"np",dialCode:"977",priority:0,areaCodes:null,id:"np",text:"Nepal"},{name:"Netherlands",iso2:"nl",dialCode:"31",priority:0,areaCodes:null,id:"nl",text:"Netherlands"},
{name:"New Caledonia",iso2:"nc",dialCode:"687",priority:0,areaCodes:null,id:"nc",text:"New Caledonia"},{name:"New Zealand",iso2:"nz",dialCode:"64",priority:0,areaCodes:null,id:"nz",text:"New Zealand"},{name:"Nicaragua",iso2:"ni",dialCode:"505",priority:0,areaCodes:null,id:"ni",text:"Nicaragua"},{name:"Niger",iso2:"ne",dialCode:"227",priority:0,areaCodes:null,id:"ne",text:"Niger"},{name:"Nigeria",iso2:"ng",dialCode:"234",priority:0,areaCodes:null,id:"ng",text:"Nigeria"},{name:"Niue",iso2:"nu",dialCode:"683",
priority:0,areaCodes:null,id:"nu",text:"Niue"},{name:"Norfolk Island",iso2:"nf",dialCode:"672",priority:0,areaCodes:null,id:"nf",text:"Norfolk Island"},{name:"North Korea",iso2:"kp",dialCode:"850",priority:0,areaCodes:null,id:"kp",text:"North Korea"},{name:"Northern Mariana Islands",iso2:"mp",dialCode:"1670",priority:0,areaCodes:null,id:"mp",text:"Northern Mariana Islands"},{name:"Norway",iso2:"no",dialCode:"47",priority:0,areaCodes:null,id:"no",text:"Norway"},{name:"Oman",iso2:"om",dialCode:"968",
priority:0,areaCodes:null,id:"om",text:"Oman"},{name:"Pakistan",iso2:"pk",dialCode:"92",priority:0,areaCodes:null,id:"pk",text:"Pakistan"},{name:"Palau",iso2:"pw",dialCode:"680",priority:0,areaCodes:null,id:"pw",text:"Palau"},{name:"Palestine",iso2:"ps",dialCode:"970",priority:0,areaCodes:null,id:"ps",text:"Palestine"},{name:"Panama",iso2:"pa",dialCode:"507",priority:0,areaCodes:null,id:"pa",text:"Panama"},{name:"Papua New Guinea",iso2:"pg",dialCode:"675",priority:0,areaCodes:null,id:"pg",text:"Papua New Guinea"},
{name:"Paraguay",iso2:"py",dialCode:"595",priority:0,areaCodes:null,id:"py",text:"Paraguay"},{name:"Peru",iso2:"pe",dialCode:"51",priority:0,areaCodes:null,id:"pe",text:"Peru"},{name:"Philippines",iso2:"ph",dialCode:"63",priority:0,areaCodes:null,id:"ph",text:"Philippines"},{name:"Poland",iso2:"pl",dialCode:"48",priority:0,areaCodes:null,id:"pl",text:"Poland"},{name:"Portugal",iso2:"pt",dialCode:"351",priority:0,areaCodes:null,id:"pt",text:"Portugal"},{name:"Puerto Rico",iso2:"pr",dialCode:"1",priority:3,
areaCodes:["787","939"],id:"pr",text:"Puerto Rico"},{name:"Qatar",iso2:"qa",dialCode:"974",priority:0,areaCodes:null,id:"qa",text:"Qatar"},{name:"R\u00e9union",iso2:"re",dialCode:"262",priority:0,areaCodes:null,id:"re",text:"R\u00e9union"},{name:"Romania",iso2:"ro",dialCode:"40",priority:0,areaCodes:null,id:"ro",text:"Romania"},{name:"Russia",iso2:"ru",dialCode:"7",priority:0,areaCodes:null,id:"ru",text:"Russia"},{name:"Rwanda",iso2:"rw",dialCode:"250",priority:0,areaCodes:null,id:"rw",text:"Rwanda"},
{name:"Saint Barth\u00e9lemy",iso2:"bl",dialCode:"590",priority:1,areaCodes:null,id:"bl",text:"Saint Barth\u00e9lemy"},{name:"Saint Helena",iso2:"sh",dialCode:"290",priority:0,areaCodes:null,id:"sh",text:"Saint Helena"},{name:"Saint Kitts and Nevis",iso2:"kn",dialCode:"1869",priority:0,areaCodes:null,id:"kn",text:"Saint Kitts and Nevis"},{name:"Saint Lucia",iso2:"lc",dialCode:"1758",priority:0,areaCodes:null,id:"lc",text:"Saint Lucia"},{name:"Saint Martin",iso2:"mf",dialCode:"590",priority:2,areaCodes:null,
id:"mf",text:"Saint Martin"},{name:"Saint Pierre and Miquelon",iso2:"pm",dialCode:"508",priority:0,areaCodes:null,id:"pm",text:"Saint Pierre and Miquelon"},{name:"Saint Vincent and the Grenadines",iso2:"vc",dialCode:"1784",priority:0,areaCodes:null,id:"vc",text:"Saint Vincent and the Grenadines"},{name:"Samoa",iso2:"ws",dialCode:"685",priority:0,areaCodes:null,id:"ws",text:"Samoa"},{name:"San Marino",iso2:"sm",dialCode:"378",priority:0,areaCodes:null,id:"sm",text:"San Marino"},{name:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",
iso2:"st",dialCode:"239",priority:0,areaCodes:null,id:"st",text:"S\u00e3o Tom\u00e9 and Pr\u00edncipe"},{name:"Saudi Arabia",iso2:"sa",dialCode:"966",priority:0,areaCodes:null,id:"sa",text:"Saudi Arabia"},{name:"Senegal",iso2:"sn",dialCode:"221",priority:0,areaCodes:null,id:"sn",text:"Senegal"},{name:"Serbia",iso2:"rs",dialCode:"381",priority:0,areaCodes:null,id:"rs",text:"Serbia"},{name:"Seychelles",iso2:"sc",dialCode:"248",priority:0,areaCodes:null,id:"sc",text:"Seychelles"},{name:"Sierra Leone",
iso2:"sl",dialCode:"232",priority:0,areaCodes:null,id:"sl",text:"Sierra Leone"},{name:"Singapore",iso2:"sg",dialCode:"65",priority:0,areaCodes:null,id:"sg",text:"Singapore"},{name:"Sint Maarten",iso2:"sx",dialCode:"1721",priority:0,areaCodes:null,id:"sx",text:"Sint Maarten"},{name:"Slovakia",iso2:"sk",dialCode:"421",priority:0,areaCodes:null,id:"sk",text:"Slovakia"},{name:"Slovenia",iso2:"si",dialCode:"386",priority:0,areaCodes:null,id:"si",text:"Slovenia"},{name:"Solomon Islands",iso2:"sb",dialCode:"677",
priority:0,areaCodes:null,id:"sb",text:"Solomon Islands"},{name:"Somalia",iso2:"so",dialCode:"252",priority:0,areaCodes:null,id:"so",text:"Somalia"},{name:"South Africa",iso2:"za",dialCode:"27",priority:0,areaCodes:null,id:"za",text:"South Africa"},{name:"South Korea",iso2:"kr",dialCode:"82",priority:0,areaCodes:null,id:"kr",text:"South Korea"},{name:"South Sudan",iso2:"ss",dialCode:"211",priority:0,areaCodes:null,id:"ss",text:"South Sudan"},{name:"Spain",iso2:"es",dialCode:"34",priority:0,areaCodes:null,
id:"es",text:"Spain"},{name:"Sri Lanka",iso2:"lk",dialCode:"94",priority:0,areaCodes:null,id:"lk",text:"Sri Lanka"},{name:"Sudan",iso2:"sd",dialCode:"249",priority:0,areaCodes:null,id:"sd",text:"Sudan"},{name:"Suriname",iso2:"sr",dialCode:"597",priority:0,areaCodes:null,id:"sr",text:"Suriname"},{name:"Svalbard and Jan Mayen",iso2:"sj",dialCode:"47",priority:1,areaCodes:null,id:"sj",text:"Svalbard and Jan Mayen"},{name:"Swaziland",iso2:"sz",dialCode:"268",priority:0,areaCodes:null,id:"sz",text:"Swaziland"},
{name:"Sweden",iso2:"se",dialCode:"46",priority:0,areaCodes:null,id:"se",text:"Sweden"},{name:"Switzerland",iso2:"ch",dialCode:"41",priority:0,areaCodes:null,id:"ch",text:"Switzerland"},{name:"Syria",iso2:"sy",dialCode:"963",priority:0,areaCodes:null,id:"sy",text:"Syria"},{name:"Taiwan",iso2:"tw",dialCode:"886",priority:0,areaCodes:null,id:"tw",text:"Taiwan"},{name:"Tajikistan",iso2:"tj",dialCode:"992",priority:0,areaCodes:null,id:"tj",text:"Tajikistan"},{name:"Tanzania",iso2:"tz",dialCode:"255",
priority:0,areaCodes:null,id:"tz",text:"Tanzania"},{name:"Thailand",iso2:"th",dialCode:"66",priority:0,areaCodes:null,id:"th",text:"Thailand"},{name:"Timor-Leste",iso2:"tl",dialCode:"670",priority:0,areaCodes:null,id:"tl",text:"Timor-Leste"},{name:"Togo",iso2:"tg",dialCode:"228",priority:0,areaCodes:null,id:"tg",text:"Togo"},{name:"Tokelau",iso2:"tk",dialCode:"690",priority:0,areaCodes:null,id:"tk",text:"Tokelau"},{name:"Tonga",iso2:"to",dialCode:"676",priority:0,areaCodes:null,id:"to",text:"Tonga"},
{name:"Trinidad and Tobago",iso2:"tt",dialCode:"1868",priority:0,areaCodes:null,id:"tt",text:"Trinidad and Tobago"},{name:"Tunisia",iso2:"tn",dialCode:"216",priority:0,areaCodes:null,id:"tn",text:"Tunisia"},{name:"T\u00fcrkiye",iso2:"tr",dialCode:"90",priority:0,areaCodes:null,id:"tr",text:"T\u00fcrkiye"},{name:"Turkmenistan",iso2:"tm",dialCode:"993",priority:0,areaCodes:null,id:"tm",text:"Turkmenistan"},{name:"Turks and Caicos Islands",iso2:"tc",dialCode:"1649",priority:0,areaCodes:null,id:"tc",
text:"Turks and Caicos Islands"},{name:"Tuvalu",iso2:"tv",dialCode:"688",priority:0,areaCodes:null,id:"tv",text:"Tuvalu"},{name:"U.S. Virgin Islands",iso2:"vi",dialCode:"1340",priority:0,areaCodes:null,id:"vi",text:"U.S. Virgin Islands"},{name:"Uganda",iso2:"ug",dialCode:"256",priority:0,areaCodes:null,id:"ug",text:"Uganda"},{name:"Ukraine",iso2:"ua",dialCode:"380",priority:0,areaCodes:null,id:"ua",text:"Ukraine"},{name:"United Arab Emirates",iso2:"ae",dialCode:"971",priority:0,areaCodes:null,id:"ae",
text:"United Arab Emirates"},{name:"United Kingdom",iso2:"gb",dialCode:"44",priority:0,areaCodes:null,id:"gb",text:"United Kingdom"},{name:"United States",iso2:"us",dialCode:"1",priority:0,areaCodes:null,id:"us",text:"United States"},{name:"Uruguay",iso2:"uy",dialCode:"598",priority:0,areaCodes:null,id:"uy",text:"Uruguay"},{name:"Uzbekistan",iso2:"uz",dialCode:"998",priority:0,areaCodes:null,id:"uz",text:"Uzbekistan"},{name:"Vanuatu",iso2:"vu",dialCode:"678",priority:0,areaCodes:null,id:"vu",text:"Vanuatu"},
{name:"Vatican City",iso2:"va",dialCode:"39",priority:1,areaCodes:null,id:"va",text:"Vatican City"},{name:"Venezuela",iso2:"ve",dialCode:"58",priority:0,areaCodes:null,id:"ve",text:"Venezuela"},{name:"Vietnam",iso2:"vn",dialCode:"84",priority:0,areaCodes:null,id:"vn",text:"Vietnam"},{name:"Wallis and Futuna",iso2:"wf",dialCode:"681",priority:0,areaCodes:null,id:"wf",text:"Wallis and Futuna"},{name:"Western Sahara",iso2:"eh",dialCode:"212",priority:1,areaCodes:null,id:"eh",text:"Western Sahara"},{name:"Yemen",
iso2:"ye",dialCode:"967",priority:0,areaCodes:null,id:"ye",text:"Yemen"},{name:"Zambia",iso2:"zm",dialCode:"260",priority:0,areaCodes:null,id:"zm",text:"Zambia"},{name:"Zimbabwe",iso2:"zw",dialCode:"263",priority:0,areaCodes:null,id:"zw",text:"Zimbabwe"},{name:"\u00c5land Islands",iso2:"ax",dialCode:"358",priority:1,areaCodes:null,id:"ax",text:"\u00c5land Islands"}];this.COUNTRY_MAP={af:"Afghanistan",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Anguilla",ag:"Antigua and Barbuda",
ar:"Argentina",am:"Armenia",aw:"Aruba",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",ba:"Bosnia and Herzegovina",bw:"Botswana",br:"Brazil",io:"British Indian Ocean Territory",vg:"British Virgin Islands",bn:"Brunei",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",bq:"Caribbean Netherlands",ky:"Cayman Islands",
cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",cx:"Christmas Island",cc:"Cocos",co:"Colombia",km:"Comoros",cd:"Democratic Republic of the Congo",cg:"Republic of the Congo",ck:"Cook Islands",cr:"Costa Rica",ci:"Ivory Coast",hr:"Croatia",cu:"Cuba",cw:"Cura\u00e7ao",cy:"Cyprus",cz:"Czech Republic",dk:"Denmark",dj:"Djibouti",dm:"Dominica","do":"Dominican Republic",ec:"Ecuador",eg:"Egypt",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",et:"Ethiopia",fk:"Falkland Islands",
fo:"Faroe Islands",fj:"Fiji",fi:"Finland",fr:"France",gf:"French Guiana",pf:"French Polynesia",ga:"Gabon",gm:"Gambia",ge:"Georgia",de:"Germany",gh:"Ghana",gi:"Gibraltar",gr:"Greece",gl:"Greenland",gd:"Grenada",gp:"Guadeloupe",gu:"Guam",gt:"Guatemala",gg:"Guernsey",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hn:"Honduras",hk:"Hong Kong",hu:"Hungary",is:"Iceland","in":"India",id:"Indonesia",ir:"Iran",iq:"Iraq",ie:"Ireland",im:"Isle of Man",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",je:"Jersey",
jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kw:"Kuwait",kg:"Kyrgyzstan",la:"Laos",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macau",mk:"Macedonia",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mq:"Martinique",mr:"Mauritania",mu:"Mauritius",yt:"Mayotte",mx:"Mexico",fm:"Micronesia",md:"Moldova",mc:"Monaco",mn:"Mongolia",me:"Montenegro",ms:"Montserrat",ma:"Morocco",mz:"Mozambique",
mm:"Myanmar",na:"Namibia",nr:"Nauru",np:"Nepal",nl:"Netherlands",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",nu:"Niue",nf:"Norfolk Island",kp:"North Korea",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",ps:"Palestine",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",qa:"Qatar",re:"R\u00e9union",ro:"Romania",ru:"Russia",rw:"Rwanda",bl:"Saint Barth\u00e9lemy",sh:"Saint Helena",
kn:"Saint Kitts and Nevis",lc:"Saint Lucia",mf:"Saint Martin",pm:"Saint Pierre and Miquelon",vc:"Saint Vincent and the Grenadines",ws:"Samoa",sm:"San Marino",st:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sx:"Sint Maarten",sk:"Slovakia",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",za:"South Africa",kr:"South Korea",ss:"South Sudan",es:"Spain",lk:"Sri Lanka",sd:"Sudan",sr:"Suriname",sj:"Svalbard and Jan Mayen",
sz:"Swaziland",se:"Sweden",ch:"Switzerland",sy:"Syria",tw:"Taiwan",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tl:"Timor-Leste",tg:"Togo",tk:"Tokelau",to:"Tonga",tt:"Trinidad and Tobago",tn:"Tunisia",tr:"T\u00fcrkiye",tm:"Turkmenistan",tc:"Turks and Caicos Islands",tv:"Tuvalu",vi:"U.S. Virgin Islands",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",gb:"United Kingdom",us:"United States",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",va:"Vatican City",ve:"Venezuela",vn:"Vietnam",wf:"Wallis and Futuna",
eh:"Western Sahara",ye:"Yemen",zm:"Zambia",zw:"Zimbabwe",ax:"\u00c5land Islands"};this.ADDRESS_LINE_1_KEYS="road industrial retail commercial airport station place_of_worship pub bar university museum arts_centre zoo theme_park attraction golf_course castle hospital school theatre public_building library townhall community_centre fire_station police bank post_office park recreation_ground hotel motel cinema information artwork archaeological_site doctors sports_centre swimming_pool supermarket convenience restaurant fast_food cafe guest_house pharmacy fuel peak waterfall wood water forest cemetery allotments farmyard rail canal river stream bicycle clothes hairdresser doityourself estate_agent car garden_centre car_repair newsagent bakery furniture butcher apparel electronics department_store books yes outdoor mall florist charity hardware laundry shoes beverages dry_cleaning carpet computer alcohol optician chemist gallery mobile_phone sports jewelry pet beauty stationery shopping_centre general electrical toys jeweller betting household travel_agency hifi shop house_number pitch unsurfaced ruins college monument subway memorial nature_reserve common lock_gate fell nightclub path garden reservoir playground stadium mine cliff caravan_site bus_station kindergarten construction atm emergency_phone lock riverbank coastline viewpoint hostel bed_and_breakfast halt platform tram courthouse recycling dentist beach moor grave_yard derelict_canal drain grass village_green bay tram_stop marina stile light_rail narrow_gauge land village_hall dock veterinary brownfield track historic_station prison quarry telephone traffic_signals heath house social_club military health_centre building clinic services ferry_terminal marsh hill raceway taxi take_away car_rental islet nursery nursing_home toilets hall boatyard mini_roundabout manor chalet bicycle_parking weir wetland cave_entrance crematorium picnic_site basin tree slipway meadow piste care_home club medical_centre roman_road fort subway_entrance gate fishing car_wash level_crossing bird_hide headland apartments shopping scrub fen mountain_pass parking bus_stop post_box houses preserved dead_pub disused_station abandoned disused farm address29 address30".split(" ");
this.ADDRESS_LINE_2_KEYS="suburb neighbourhood region island administrative town village hamlet locality bridleway cycleway pedestrian footway residential address25 address26 address27 address28".split(" ");this.CITY_KEYS="town village county state_district city city_district address14 address15 address16 address17 address18 address19 address20 address21 address22 address23 address24".split(" ");this.STATE_KEYS="state state_district address8 address9 address10 address11 address12 address13".split(" ");
this.COUNTRY_KEYS=["country","address4"];this.POSTAL_CODE_KEYS=["postcode","address5","address6","address7"];this.ZMAPS_DOMAIN="https://maps.zoho.com";this.ZMAPS_DOMAIN_EU="https://maps.zoho.eu";this.IMG_STATIC_SERVER="https://img.zohostatic.com";this.IMG_STATIC_SERVER_EU="https://img.zohostatic.eu";this.JS_STATIC_SERVER="https://js.zohostatic.com";this.MAP_URL=window.location.origin+"/appbuilder/"+ZCGlobal.scopeName+ZCGlobal.envUrlFragment+"/"+ZCGlobal.appLinkName+"/getZMapResponse";this.ZOHO_MAPS=
"ZOHO_MAPS";this.IMAGE_STATIC_SERVER="IMAGE_STATIC_SERVER";this.IP_INFO_URL=window.location.origin+"/appbuilder/"+ZCGlobal.scopeName+ZCGlobal.envUrlFragment+"/"+ZCGlobal.appLinkName+"/getIpInfo";this.MILES=1;this.KILOMETERS=2;this.CURRENTLOCATION=1;this.CUSTOMLOCATION=2;this.FIELDS_ARRAY=[{33:i18n.name},{4:i18n.email},{34:i18n.address},{8:i18n.phone},{1:i18n.singleline},{3:i18n.multiline},{5:i18n.number},{10:i18n.date},{11:i18n.time},{1100:i18n.dropdown},{1101:i18n.radio},{102:i18n.multiselect},{103:i18n.checkbox},
{9:i18n.decisionbox},{24:i18n.richtext},{21:i18n.url},{20:i18n.image},{7:i18n.percent},{6:i18n.currency},{19:i18n.decimal},{22:i18n.datetime},{32:i18n.lookup},{137:i18n.audio},{138:i18n.video},{37:i18n.integration},{221:i18n.ar},{18:i18n.fileupload},{201:i18n.prediction},{202:i18n.keywordextraction},{203:i18n.sentimentanalysis},{204:i18n.ocr},{205:i18n.objectdetection}];this.SUPPORTED_PREDICTION_FIELD_TYPES=[this.NUMBER,this.CURRENCY,this.PERCENTAGE,this.DATE,this.DATE_TIME,this.INLINE_SINGLE_SELECT];
this.ZIA_FIELDS=[this.PREDICTION,this.KEYWORD_EXTRACTOR,this.SENTIMENT_ANALYSER,this.OCR,this.OBJECT_DETECTION];this.SELECT=0;this.EQUAL=18;this.NOT_EQUAL=19;this.BEFORE=this.LESS_THAN=20;this.AFTER=this.GREATER_THAN=21;this.LESS_EQUAL=22;this.GREATER_EQUAL=23;this.STARTS_WITH=24;this.ENDS_WITH=25;this.CONTAINS=26;this.NOT_CONTAINS=27;this.LIKE=28;this.NOT_EMPTY=30;this.YESTERDAY=31;this.TODAY=32;this.TOMORROW=33;this.LAST_7_DAYS=34;this.LAST_30_DAYS=35;this.LAST_60_DAYS=36;this.LAST_90_DAYS=37;this.LAST_120_DAYS=
38;this.NEXT_7_DAYS=39;this.NEXT_30_DAYS=40;this.NEXT_60_DAYS=41;this.NEXT_90_DAYS=42;this.NEXT_120_DAYS=43;this.LAST_MONTH=44;this.THIS_MONTH=45;this.NEXT_MONTH=46;this.CURR_PREV_MONTH=47;this.CURR_NEXT_MONTH=48;this.TRUE=49;this.FALSE=50;this.LAST_YEAR=51;this.CURRENT_YEAR=52;this.NEXT_YEAR=53;this.PREVIOUS_2_YEAR=54;this.NEXT_2_YEAR=55;this.CURRENT_PREVIOUS_YEAR=56;this.CURRENT_NEXT_YEAR=57;this.BETWEEN=58;this.THIS_WEEK=59;this.LAST_WEEK=60;this.NEXT_WEEK=61;this.CURRENT_PREVIOUS_WEEK=62;this.CURRENT_NEXT_WEEK=
63;this.LAST_N_DAYS=64;this.NEXT_N_DAYS=65;this.LAST_N_WEEK=66;this.NEXT_N_WEEK=67;this.LAST_N_MONTH=68;this.NEXT_N_MONTH=69;this.LAST_N_YEAR=70;this.NEXT_N_YEAR=71;this.LAST_N_WEEKS=73;this.NEXT_N_WEEKS=74;this.LAST_N_MONTHS=75;this.LAST_N_YEARS=76;this.NEXT_N_MONTHS=77;this.NEXT_N_YEARS=78;this.N_DAYS_AGO=79;this.N_WEEKS_AGO=80;this.N_MONTHS_AGO=81;this.N_YEARS_AGO=82;this.ISADMIN=100;this.ISLOGIN=101;this.ISNULL=102;this.ISNOTNULL=103;this.EMPTY_FIELD=i18n["zc.criteriabuilder.emptyfield"];this.EMPTY_OPERATOR=
i18n["zc.criteriabuilder.emptyoperator"];this.EMPTY_VALUE=i18n["zc.criteriabuilder.emptyvalue"];this.TEMPSHARE_COOKIE_NAME="TEMPSHARE";this.TEMPSHARE_COOKIE_VALUE="true";this.TEMPSHARE_COOKIE_PATH="/webappbuilder/";this.APPROVAL_CREATE_EDIT=1;this.APPROVAL_SETTINGS=2;this.APPROVAL_REARRANGE=3;this.QUICK_VIEW="quickview";this.DETAIL_VIEW="detailview";this.SINGLE_REC_CUSTOM_ACTION=1;this.MULTI_REC_CUSTOM_ACTION=2;this.CONFIRM_BUTTON=1;this.CANCEL_BUTTON=2;this.SLIDING_PANE="SLIDING_PANE";this.TAB_BAR=
"TAB_BAR";this.BOTTOM_BAR="BOTTOM_BAR";this.COLUMN_1="1_COLUMN";this.COLUMN_CARD_1="1_COLUMN_CARD";this.ADD_USER_TO_TYPE=1;this.ADD_USER_TO_PROFILE=2;this.ADD_NEW_PROFILE=3;this.EDIT_PROFILE=4;this.CLONE_PROFILE=5;this.SYSTEM_USERS_FIELD=1;this.SYSTEM_CUSTOMERS_FIELD=2;this.DELUGE="0";this.NODEJS="1";this.JAVA="2";this.DEFAULT_NAMESPACE="Default";this.MIGRATION_STATUS={PENDING:"0",COMPLETED:"5",IN_PROGRESS:"2",QUEUE:"3",FAILED:"4"};this.AUDIT_TYPES={RECORD_AUDIT:1,EXPORT_AUDIT:2}},RichTextFonts=new function(){this.SERIF=
100;this.ARIMO=101;this.PTMONO=102;this.HEURISTICA=103;this.EBGARAMOND=109;this.ROBOTOCONDENSED=110;this.OPENSANS=104;this.TINOS=108;this.LATO=106;this.DEJAVUSANS=107;this.ARCHIVOBLACK=111;this.COMICNEUE=108;this.CARLITO=112;this.FONTFAMILY=3};var ZCEffects=new function(){this.hideMenus=function(){ZCEffects.hideTopMenu();$("#homeMenu").find(".dropDown ul").removeClass("showDropDownMenu")};this.setURLValues=function(a,b,c,d,e){this.serverPrefix=a;this.sharedByDisp=this.userName=b;this.appLinkName=c;this.quickLinks={};if(isNull(d)||!d)this.quickLinks[i18n["zc.appedit.quicklinks.home"]]="/userhome/dashboard",this.quickLinks[i18n["zc.appedit.quicklinks.access"]]="/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/","baihui"==e?(this.quickLinks[i18n["zc.appedit.quicklinks.upgrade"]]=
ZCEffects.baihuiPricingLink,this.quickLinks[i18n["zc.appedit.quicklinks.help"]]=ZCEffects.baihuiHelpLink):"zoho"==e&&(this.quickLinks[i18n["zc.appedit.quicklinks.upgrade"]]="/upgradeplan",this.quickLinks[i18n["zc.appedit.quicklinks.help"]]="help.creator.zoho.com",this.quickLinks[i18n["zc.appedit.quicklinks.support"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/support/edit",this.quickLinks[i18n["zc.appedit.quicklinks.alloweditaccess"]]=this.quickLinks[i18n["zc.appedit.quicklinks.support"]]),
"zoho"!=e&&(this.quickLinks[i18n["zc.appedit.quicklinks.alloweditaccess"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/settings/edit"),this.quickLinks[i18n["zc.appedit.quicklinks.dashboard"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/edit",this.quickLinks[i18n["zc.appedit.quicklinks.builder"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/edit",this.quickLinks[i18n["zc.appedit.quicklinks.newform"]]=
"/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/form/new",this.quickLinks[i18n["zc.appedit.quicklinks.newreport"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/report/new",this.quickLinks[i18n["zc.appedit.quicklinks.newpage"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/page/new",this.quickLinks[i18n["zc.appedit.quicklinks.workflow"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+
"/workflow/edit",this.quickLinks[i18n["zc.appedit.quicklinks.schedule"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/schedule/edit",this.quickLinks[i18n["zc.appedit.quicklinks.function"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/function/edit",this.quickLinks[i18n["zc.appedit.quicklinks.share"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/share/edit",this.quickLinks[i18n["zc.appedit.quicklinks.settings"]]=
"/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/settings/edit",this.quickLinks[i18n["zc.appedit.quicklinks.customize"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/customize/edit",this.quickLinks[i18n["zc.appedit.quicklinks.sections"]]="/"+ZCEffects.context+"/"+ZCEffects.sharedByDisp+"/"+ZCEffects.appLinkName+"/sections/edit",this.quickLinks[i18n["zc.appedit.quicklinks.rearrange"]]=this.quickLinks[i18n["zc.appedit.quicklinks.sections"]]};
this.showGenErrorMsg=function(a){iAlert(a?a:i18n.generalerrmsg)};this.showSuccessMsg=function(a){showStatus(a?a:i18n.saved)};this.handleGenResponse=function(a,b,c,d,e){"success"==a?(this.showSuccessMsg(b),d&&d()):"error"==a&&(this.showGenErrorMsg(c),e&&e())};this.showLayoutBuilder=function(a){$(".zc-dem-layoutbuilder .zc-dem-layout-content").html(a.response);$(".zc-dem-layout-content").removeClass("one_col two_col three_col");$(".zc-dem-right-sidebar").removeClass("zc-layout-open").addClass("zc-layout-open");
$(".zc-dem-layoutbuilder").removeClass("visible").addClass("visible");$(".zc-dem-layout-overlay").removeClass("visible").addClass("visible");$('.zc-dem-layout-header [elname\x3d"rearrangedone"]').hide();$('.zc-dem-layout-header [elname\x3d"rearrange"]').show();a.title&&$(".zc-dem-layout-header .zc-dem-layout-title").text(a.title);a.footer?($(".zc-dem-layoutbuilder .zc-dem-layout-footer").html(a.footer),$(".zc-dem-layoutbuilder .zc-dem-layout-footer").removeClass("hide")):$(".zc-dem-layoutbuilder .zc-dem-layout-footer").addClass("hide");
$("body").removeClass("zc-dem-container-freeze").addClass("zc-dem-container-freeze");var b=!0;a.callback&&a.callback(b);$(".zc-dem-right-tab,.zc-dem-right-sub-tab").off().on("click",function(){"zc-dem-right-tab"==$(this).attr("class")&&(b=!1);$(".zc-dem-layoutbuilder").hasClass("visible")&&$(".zc-dem-layout-header .zc-common-done").click()});$(".zc-dem-layout-header .zc-common-done").off("click").on("click",function(){$(".zc-dem-layoutbuilder").removeClass("visible");$(".zc-dem-layoutbuilder .zc-dem-layout-content").empty();
$(".zc-dem-layoutbuilder .zc-dem-layout-footer").empty();$(".zc-dem-layout-overlay").removeClass("visible");$(".zc-dem-right-sidebar").removeClass("zc-layout-open");$("body").removeClass("zc-dem-container-freeze");a.closeCallBack&&a.closeCallBack(b)});$('.zc-dem-layout-header [elname\x3d"rearrange"]').off("click").on("click",function(){Report.showRearrangeDataBlocks()});$('.zc-dem-layout-header [elname\x3d"rearrangedone"]').off("click").on("click",function(){$(Report.buildercontentelement).find("#layoutpopup").show();
$(Report.buildercontentelement).find("#rearrangedatablocks").hide();$('.zc-dem-layout-header [elname\x3d"rearrange"]').show();$('.zc-dem-layout-header [elname\x3d"rearrangedone"]').hide()})}},EffectCommon=new function(){this.isAlertActive=!1},escapeEventStack=[],ZCButton={OKAY:i18n.ok,CANCEL:i18n.cancel,DONE:i18n.done,YES:i18n.yes,NO:i18n.no,RENAME:i18n.rename,INSERT:i18n.insert,REPLACE:i18n["zc.edit.replace"],CONFIGURE:i18n["zc.form.settings.general.configure"],DUPLICATE:i18n.duplicate,CREATE:i18n["zc.edit.create"],
CREATEBLOCK:i18n["zc.dem.report.detailview.createblock"],SAVE:i18n.save,RESTORENOW:i18n["zc.settings.backup.restore.restorenow"],SCHEDULENOW:i18n["zc.settings.backup.schedule.schedulenow"],RESCHEDULE:i18n["zc.settings.backup.scheduledbackup.reschedule"],DELETE:i18n["zc.settings.common.delete"],SAVECHANGES:i18n["zc.settings.backup.schedule.savechanges"],SEND:i18n["zc.mobilesettings.send"],ADD:i18n.add,VERIFY:i18n["zc.settings.customerportal.verify"],CLOSE:i18n["zc.workflow.functionexecution.close"],
TITLE:i18n["zc.settings.publish.title"],CUSTOMIZE:i18n["zc.settings.publish.customize"],COPYTOCLIPBOARD:i18n["zc.settings.publish.copytoclipboard"],PUBLISH:i18n["zc.settings.sandbox.publish"],UNPUBLISH:i18n["zc.reportedit.zreports.unpublish"],REPUBLISH:i18n["zc.settings.publish.republish"],CHANGE:i18n.change,SUBMIT:i18n["zc.workflow.functionexecution.submit"],EXECUTEAGAIN:i18n["zc.workflow.functionexecution.executeagain"],SAVECRITERIA:i18n["zc.workflowbuilder.savecriteria"],PROCEED:i18n["zc.edit.proceed"],
DELETEANYWAY:i18n["zc.edit.deleteanyway"],BACKTOTEMPLATES:i18n["zc.reportedit.condfrmt.backtotemplates"],ASSOCIATE:i18n["zc.workflowbuilder.associate"],SAVEASSOCIATE:i18n["zc.relatedlist.saveassociate"],EXITANYWAY:i18n["zctemplate.printbuilder.confirm.exitanyway"],CLOSENAYWAY:i18n["zc.workflowbuilder.closeanyway"],DONOTCLOSE:i18n["zc.workflowbuilder.donotclose"],REMOVE:i18n["zc.settings.publish.remove"],DISABLE:i18n["zc.workflowlist.disable"],UPDATEAPPROVER:i18n["zc.workflowbuilder.updateapprover"],
SAVETASK:i18n["zc.workflowview.savetask"],UPDATETASK:i18n["zc.workflowview.updatetask"],ENABLE:i18n["zc.settings.builder.domainrestriction.enable"],ENCRYPT:i18n["zc.general.encrypt"],DECRYPT:i18n["zc.general.decrypt"],PROCEEDONLY:i18n["zc.general.proceed"],PROCEEDTODELETE:i18n["zc.edit.proceedtodelete"],PROCEEDTODISABLE:i18n["zc.edit.proceedtodisable"],VALIDATE:i18n["zc.accountsetup.builder.domainauthentication.validate"],UNSUBSCRIBE:i18n["zc.share.groups.unsubscribe"],APPLY:i18n["zc.form.builder.multiselectproperties.casingchangebutton1"],
DISCARD:i18n["zc.form.builder.multiselectproperties.casingchangebutton2"],VIEWUSERGUIDE:i18n["zc.workflow.migration.freeuser.splash.button"]},ZCType={SUCCESS:1,INFO:2,WARNING:3,ERROR:4},ZCSwitchType={SMALL:1,MEDIUM:2,LARGE:3},ZCSwitchLabel={YES:i18n["zc.common.builder.label.yes"],NO:i18n["zc.common.builder.label.no"],ENABLED:i18n["zc.common.builder.label.enabled"],DISABLED:i18n["zc.common.builder.label.disabled"],ON:i18n["zc.common.builder.label.on"],OFF:i18n["zc.common.builder.label.off"],SHOW:i18n["zc.common.builder.label.show"],
HIDE:i18n["zc.common.builder.label.hide"],SOLID:i18n["zc.appicon.icontype.solid"],OUTLINE:i18n["zc.appicon.icontype.outline"],ACTIVE:i18n["zc.settings.builder.domainrestriction.active"],INACTIVE:i18n["zc.settings.builder.domainrestriction.inactive"]};
(function(a){var b=[];a.fn.freeze=function(c,d){var e=a('\x3cdiv class\x3d"zcFreezeLayer" style\x3d"opacity:1;"\x3e\x3c/div\x3e');this.append(e);b.push(e);a(e).fadeIn(300,function(){void 0!=c&&c(e)});return e};a.fn.showMiniLoader=function(){var b=a(this).parent(),d=a(b).find(".zc-mini-loader");d.length?a(d).show():a(b).append('\x3ci class\x3d"fa fa-spinner fa-spin zc-mini-loader"/\x3e')};a.fn.hideMiniLoader=function(){var b=a(this).parent();b=a(b).find(".zc-mini-loader");b.length&&a(b).hide()};a.fn.showToast=
function(a,b,e){void 0!=a&&0<a.trim().length&&ZCToast({message:a,container:this,autoHide:!0,type:b,containerClass:"zc-ctr-toast",timeOut:void 0!=e?e:800}).show()};a.fn.showStatus=function(a){void 0!=a&&0<a.trim().length&&ZCStatus({message:a,container:this}).show()};a.fn.showPreloader=function(){ZCStatus({container:this}).preload()};a.fn.hidePreloader=function(){ZCStatus({container:this}).stopLoading()};a.fn.showErrorBanner=function(a){if(void 0!=a&&0<a.trim().length)return a=ZCToast({message:a,container:this,
type:ZCType.ERROR,autoHide:!1,containerClass:"zc-ctr-toast",iconClass:"zc-toast-icon zc-em zc-common-alert",showClear:!0}),a.show(),a};a.fn.showLoading=function(){var b=void 0!=b?b:100,d=this;a(d).addClass("zc-dem-loading-parent");a(d).append('\x3cdiv class\x3d"zc-dem-loading-freeze zc-ctr-frz"\x3e\x3c/div\x3e');zcLoaderTimeout=setTimeout(function(){var b=getLoadingHtml();d?a(d).append(b):a("body").append(b);a(d).find("#loadingEl").show()},b)};a.fn.showTextLoading=function(b){var c=getTextLoadingHtml(),
e=getParentDiv();a("body").append('\x3cdiv class\x3d"zc-dem-loading-freeze"\x3e\x3c/div\x3e');Shortcut.disable(!0);a(this).wrap(e);a(this).after(c);a(this).addClass("zc-creating");a(this).is("a")?a(this).text(b):a(this).attr("value",b)};a.fn.hideTextLoading=function(b){a(this).parent().hasClass("zc-create-wrapper")&&(Shortcut.enable(!0),a(".zc-dem-loading-freeze").remove(),a(this).siblings(".zc-dot-load-container").remove(),a(this).unwrap(a(this).parent()),a(this).removeClass("zc-creating"),a(this).is("a")?
a(this).text(b):a(this).attr("value",b))};a.fn.hideLoading=function(){this&&a(this).removeClass("zc-dem-loading-parent");void 0!=zcLoaderTimeout&&clearTimeout(zcLoaderTimeout);a(this).find(".zc-dem-loading-freeze").remove();a(this).find("#loadingEl").remove()};a.fn.zcTable=function(b){a.extend(b,{});return a(this).DataTable(b)};a.fn.zcColorPicker=function(b){var c=function(c){var d={pickerType:"basic",pickerId:"zc-dem-zcbasictype",colorModel:"hex",resetPickerOptions:!0,pickerOptions:{noColorButton:!1,
defaultColorButton:!1,standardColors:!1,displayType:"callout",className:"zc-dem-zcolorpicker",labels:{defaultColorsHeading:i18n["zc.colorpicker.presetColor"],advancedPickerButtonLabel:i18n["zc.colorpicker.moreColor"],otherUsedColorsHeading:i18n["zc.colorpicker.otherUsedColor"],OKButtonLabel:i18n["zc.colorpicker.okButton"],backButtonLabel:i18n["zc.colorpicker.backButton"]},advancedPickerOptions:{colorFieldsList:["hex","rgb"],opacity:!1}}};void 0!=b&&(void 0!=b.pickerOptions&&(b.pickerOptions=a.extend(d.pickerOptions,
b.pickerOptions)),a.extend(d,b));"INPUT"==c.nodeName?a(c).zcolorinput(d):a(c).zcolorchooser(d);var e={open:function(){return a("#zc-dem-zcbasictype").zcolorpicker("open")},close:function(){return a("#"+d.pickerId).zcolorpicker("close")},value:function(b){return a(c).zcolorchooser("setAttribute","value",b)}};a(c).data("zccp",e);return e};if(1<a(this).length){var e=[];a(this).each(function(a){e.push(c(this))});return e}return c(this[0])};a.fn.zcToggle=function(b){var c=function(c){if(a(c).length){var d=
function(){a(c)[0].checked=!0};if(void 0!=a(c).data("zctg"))return a(c).data("zctg");var e={type:ZCSwitchType.SMALL,status:!1,onConfig:{},offConfig:{}};a.extend(e,b);var f=a(c).attr("id")||"zctoggle_"+(Date.now()+Math.floor(1E3*Math.random())),l=a('\x3cdiv class\x3d"zc-dem-switch-container"\x3e\x3c/div\x3e'),m="";a(c).attr("id",f);a(c).parent().append(l);a(l).append(c);switch(e.type){case ZCSwitchType.MEDIUM:m='\x3clabel for\x3d"'+f+'" class\x3d"zc-dem-switch zc-dem-switch-medium"\x3e';break;case ZCSwitchType.LARGE:m=
'\x3clabel for\x3d"'+f+'" class\x3d"zc-dem-switch zc-dem-switch-large"\x3e';break;default:m='\x3clabel for\x3d"'+f+'" class\x3d"zc-dem-switch"\x3e'}m+='\x3cspan class\x3d"zc-dem-switch-inner zc-dem-clearfix"\x3e\x3cspan class\x3d"zc-dem-switch-enable"\x3e'+(e.onConfig&&e.onConfig.label)+'\x3c/span\x3e\x3cspan class\x3d"zc-dem-switch-button"\x3e\x26nbsp;\x3c/span\x3e\x3cspan class\x3d"zc-dem-switch-disable"\x3e'+(e.offConfig&&e.offConfig.label)+"\x3c/span\x3e\x3c/span\x3e\x3c/label\x3e";a(l).append(m);
a(c).off("change.toggle").on("change.toggle",function(a){e.change?e.change(a):this.checked?e.onConfig.callback&&b.onConfig.callback(a):e.offConfig.callback&&b.offConfig.callback(a)});f={status:function(){return a(c)[0].checked},active:d,deActive:function(){a(c)[0].checked=!1}};a(c).data("zctg",f);(e.status||a(c)[0].hasAttribute("checked"))&&d();return f}};if(1<a(this).length){var e=[];a(this).each(function(a){e.push(c(this))});return e}return c(this[0])};a.fn.unfreeze=function(c){Shortcut.popContext();
var d=b.pop();a(d).fadeOut(300,function(){a(this).remove();void 0!=c&&c()});return this};a.fn.customCheckBox=function(){var b=a(this).parent().find("label[for\x3d"+this.attr("id")+"]");0==b.length&&(b=a("\x3clabel for\x3d"+this.attr("id")+"\x3e\x3c/label\x3e"));a(this).hide().wrap('\x3cdiv class\x3d"zc-dem-checkbox"\x3e\x3c/div\x3e');a(this).parent().append(b)};a.fn.dateTimepicker=function(b){function c(b,c){dateText=b+"";0==dateText.trim().length||0<dateText.indexOf(":")||(c.input.val(dateText+" "+
f()),a(this).siblings(".removeIcon").smoothShow(),a("#"+a(this).parent("div").attr("id")+"_CustomMsg").smoothShow(),a("#"+a(this).parent("div").attr("id")+"_CustomMsg").css({opacity:"1"}))}function e(b,c,d,e){var g=0,h=0;e=0;var k=a(c).val();if(8<k.length&&0<k.indexOf(":"))try{var l=k.split(" "),m=new Date("Feb 14, 2013 "+l[l.length-1]);g=m.getHours();h=m.getMinutes();e=m.getSeconds()}catch(J){}0<a(c).val().length&&-1==a(c).val().indexOf(":")&&(l=(9<g?g:"0"+g)+":"+(9<h?h:"0"+h)+":"+(9<e?e:"0"+e),
a(c).val(a(c).val()+" "+l));setTimeout(function(){a('\x3ctr\x3e\x3ctd elName\x3d"time" class\x3d"ui-time-picker" colspan\x3d"7"\x3e\x3cspan class\x3d"ui-time-title ui-time-hours"\x3e'+i18n["zc.formedit.field.hours"]+'\x3c/span\x3e\x3cinput type\x3d"text" value\x3d"'+g+'" max\x3d"23" min\x3d"0"\x3e\x3cspan class\x3d"ui-time-title ui-time-minutes"\x3e'+i18n["zc.formedit.field.minutes"]+'\x3c/span\x3e\x3cinput type\x3d"text" value\x3d"'+h+'" max\x3d"59" min\x3d"0"\x3e\x3c/td\x3e').appendTo(a("#ui-datepicker-div table"));
a("#ui-datepicker-div td[elName\x3dtime] input").spinner({max:b.attr("max"),min:b.attr("min"),step:1,numberFormat:"d2",spin:function(b,e){b.target.value=e.value;a(c).val(a.datepicker.formatDate(d.settings.dateFormat,a(c).datepicker("getDate"))+" "+f());d.settings.actOnSelect&&d.settings.actOnSelect()},change:function(b,e){min=parseInt(a(b.target).attr("min"));max=parseInt(a(b.target).attr("max"));b.target.value<min?b.target.value=min:b.target.value>max&&(b.target.value=max);a(c).val(a.datepicker.formatDate(d.settings.dateFormat,
a(c).datepicker("getDate"))+" "+f());d.settings.actOnSelect&&d.settings.actOnSelect()}})},10)}isNull(b)&&(b={});var f=function(){var b="";a("#ui-datepicker-div td[elName\x3dtime] input").each(function(c){var d=a(this).val();b+=(9<d?d:"0"+d)+(2==c?"":":")});return b+"00"};b.actOnSelect=b.onSelect;b.onSelect=function(a,b){b.showOnSelect=!0;c(a,b);b.settings.actOnSelect&&b.settings.actOnSelect(a,b)};b.actOnClose=b.onClose;b.onClose=function(a,b){c(a,b);b.settings.actOnClose&&b.settings.actOnClose(a,
b)};b.actOnChangeMonthYear=b.onChangeMonthYear;b.onChangeMonthYear=function(b,c,d){e(a(this),a(this)[0],d,!1);d.settings.actOnChangeMonthYear&&d.settings.actOnChangeMonthYear(b,c,d)};b.actBeforeShow=b.beforeShow;b.beforeShow=function(c,d){var f=a(this);e(a(this),c,d,!0);b.range&&f.datepicker("option",f.attr("dateOption"),g.not(f).datepicker("getDate"));d.settings.actBeforeShow&&d.settings.actBeforeShow(c,d)};var g=a(this).datepicker(b);a.datepicker.setDefaults(a.datepicker.regional[jsLocale])};a.fn.active=
function(){a(this).addClass("active");return this};a.fn.deActive=function(b){var c=a(this);a(c).removeClass("active").addClass("deactive");setTimeout(function(){a(c).removeClass("deactive");a(c).removeClass("zc-dem-create-new-compnt zc-dem-compnt-builder");void 0!=b&&b(c)},200);return c};a.fn.iSlide=function(b){var c=this,e=Shortcut.pushContext(KeyContexts.POPUP.SLIDER),f=b&&void 0!==b.closeOnEsc?b.closeOnEsc:!0,g=b&&void 0!==b.closeOnAnyClick?b.closeOnAnyClick:!0,h=b&&void 0!=b.focusFirstField?b.focusFirstField:
!1,k=function(){q.close()},l=function(){(b?b.beforeClose?b.beforeClose(m):1:1)&&k()},m={slider:c,close:k},n=document.activeElement,q=a.zcmodal({type:ZCModalConstants.JIT_MODAL,popupType:"iSlide",containerClass:".zc-dem-slider",skipFreeze:b&&void 0!==b.skipFreeze?b.skipFreeze:!1,select2Focus:b&&void 0!=b.select2Focus?b.select2Focus:!1,showInSlideScreen:!0,overrideActions:!0,buildDOM:function(){return c},bindActions:function(b){a(c).find(".zc-dem-right-close").attr("tabindex","1").attr("href","javascript:;");
f&&e.assign(Keys.ESCAPE.code,function(){l()});if(g)a(b.zcfreezer).off("click").on("click",function(){l()});a(c).find(".zc-dem-right-close").off("click.iSlide").on("click.iSlide",function(){l()})},beforeShow:function(c){a(n).trigger("blur");a(c).attr("popuptype","iSlide");a(c).addClass("zc-dem-freeze-content zc-dem-slider").active();a("body").addClass("zc-dem-slider-loaded");b&&void 0!==b.beforeShow&&b.beforeShow(m)},afterOpen:function(c){b&&void 0!==b.afterOpen&&b.afterOpen(m);h&&setTimeout(function(){a(c).find(":input:visible:first").trigger("focus")},
100);a(c).off("keydown.sliderLoop").on("keydown.sliderLoop",function(b){var d=a(document.activeElement),e=a(c).find("[tabindex\x3d1]:visible:last"),f=a(c).find(".zc-dem-right-close"),g=b.keyCode||b.which;b.shiftKey||g!=Keys.TAB.code||a(d)[0]!=a(e)[0]?b.shiftKey&&g==Keys.TAB.code&&a(d)[0]==a(f)[0]&&(a(e).trigger("focus"),b.preventDefault()):(a(f).trigger("focus"),b.preventDefault())})},afterClose:function(){a(n).trigger("focus");b&&void 0!=b.afterClose&&b.afterClose(m)}});return{container:a(c),closeModal:k}};
a.fn.clearError=function(){var b=a(this).find(".zc-dem-error-container");0<b.length&&a(b).each(function(){errorClearCallback(this)})};a.fn.xfreeze=function(b){b=void 0==b?{}:b;b=a.extend({outerDimensions:!1,resize:!0},b);var c=a("#zc_xfreezer");c.length||(c=a('\x3cdiv id\x3d"zc_xfreezer"/\x3e'),a("body").append(c));var e=document.getElementById("zc_frz_canvas");null==e&&(e=a('\x3ccanvas id\x3d"zc_frz_canvas" /\x3e'),a(c).append(e),e=e[0]);a(e).attr("width",a(window).width());a(e).attr("height",a(window).height());
var f=void 0!=this&&this.length&&this.is(":visible");if(e.getContext&&f){var g=e.getContext("2d");g.clearRect(0,0,a(window).width(),a(window).height());g.fillStyle="rgba(0, 0, 0, 0.3)";g.fillRect(0,0,a(window).width(),a(window).height());a("body").addClass("zc-dem-xfreeze");a(".zc-dem-xfreeze-el").removeClass("zc-dem-xfreeze-el");a(this).addClass("zc-dem-xfreeze-el");var h=this[0].getBoundingClientRect(),k=h.left;e=h.width;f=h.height;var l=h.top;b.outerDimensions&&(k=parseInt(a(this).css("marginLeft")),
l=parseInt(a(this).css("marginTop")),e=this.outerWidth(!0),f=this.outerHeight(!0),k=h.left-k,l=h.top-l);g.clearRect(k,l,e,f);g.beginPath();g=a('\x3cdiv class\x3d"zc-dem-xfreeze-box" /\x3e');a("[id^\x3dzcXfreeze]").length||(a(c).append(a(g).clone().attr("id","zcXfreeze-R")),a(c).append(a(g).clone().attr("id","zcXfreeze-L")),a(c).append(a(g).clone().attr("id","zcXfreeze-T")),a(c).append(a(g).clone().attr("id","zcXfreeze-B")));a(".zc-dem-xfreeze-box").width(a(window).width());a(".zc-dem-xfreeze-box").height(a(window).height());
a("#zcXfreeze-R").css("top",0);a("#zcXfreeze-R").css("left",k+e);a("#zcXfreeze-R").width(a(window).width()-(k+e));a("#zcXfreeze-L").css("top",0);a("#zcXfreeze-L").css("left",0);a("#zcXfreeze-L").width(k);a("#zcXfreeze-T").css("top",0);a("#zcXfreeze-T").css("left",0);a("#zcXfreeze-T").height(l);a("#zcXfreeze-B").css("top",l+f);a("#zcXfreeze-B").css("left",0);a("#zcXfreeze-B").height(a(window).height()-(l+f));a(c).show()}else a(c).hide();if(b.resize)a(window).off("resize.xfreeze").on("resize.xfreeze",
function(){a(".zc-dem-xfreeze-el").xfreeze()})};a.fn.isVisible=function(b){var c=this;if(a(c).length){var e=a(c).offset();if(e){var f=e.left,g=e.top,h={strictVisible:!1,skipFreeze:!1};a.extend(h,b);var k,l=function(b){if(a(b).length)return k=a(b).css("pointer-events"),a(b).css("pointer-events","none")},m=function(b){return a(b).length&&a(b).css("pointer-events",k)};b=function(){var b;if(h.skipFreeze){var c=a(".zc-dem-help-freeze");(b=a(document.elementFromPoint(f+1,g))[0]===a(c)[0])&&l(c)}h.skipElement&&
l(h.skipElement);var d=n(document.elementFromPoint(f+1,g));b&&m(c);h.skipElement&&m(h.skipElement);return d};var n=function(b){if(a(b).length&&a(b)[0].tagName){var d=a(b).offset();if(d){var e=d.top;if(d.left==f&&e==g)return a(c)[0]===a(b)[0]?!0:n(a(b).parent())}}return!1};return 0<=f&&f<=a(window).width()&&0<=g&&g<=a(window).height()?b():!1}}return!1}})(jQuery);function escapeHTML(a){return $("\x3cdiv/\x3e").text(a).html()}
var htmlSanitizer=new ZSEC.HTMLPurifier({ALLOWED_STYLE:"ALL",STYLE_VALIDATION:!1}),builderOptions={popupType:"",shortcutContext:"",closeOnAnyClick:!1,containerClass:".zc-dem-dialogue-container",parentClass:"",hideIcon:!1,iconClass:"",select2Focus:!1,bindActions:function(a){},submitOnEnterKey:!1,loopFocus:!0,lastElement:"",returnFocus:!0},_zcdata=ZCModal.prototype.defaults;ZCModal.prototype.defaults=$.extend(_zcdata,builderOptions);
ZCModal.prototype.buildDOM=function(){var a=this.getOptions();if("iSlide"!=a.popupType&&"iModal"!=a.popupType){var b='\x3cdiv class \x3d "zc-dem-dialogue-container animated  '+a.parentClass+'" popuptype \x3d "'+a.popupType+'"\x3e\x3ca class\x3d"zc-dem-dialogue-close" href\x3d"javascript:;" tabindex\x3d"1" style\x3d"'+(a.showClose?"":"display:none")+'"\x3e\x3ci class\x3d"zc-db-em zc-dbemcommon-close"\x3e\x3c/i\x3e\x3c/a\x3e';b+=a.hideHeader?"":'\x3cdiv class\x3d"zc-dem-dialogue-header" style\x3d"'+
(isNull(a.title)?"display:none":"")+'"\x3e'+a.title+"\x3c/div\x3e";b+='\x3cdiv class\x3d"zc-dem-dialogue-content '+a.wrapperClass+(a.hideIcon?" zc-dem-hideicon":"")+'"\x3e\x3ci class\x3d"'+a.iconClass+'"\x3e\x3c/i\x3e\x3c/div\x3e';if(!a.hideFooter&&0<a.buttons.length){b+='\x3cdiv class\x3d"zc-dem-dialogue-footer"\x3e\x3cdiv class\x3d"zc-dem-dialogue-btn-group"\x3e';for(var c in a.buttons){var d=a.buttons[c];d.name=d.type==ZCModalConstants.MODAL_SUBMIT?"ok":"cancel";var e=isNull(d.className)?"":d.className+
" ";b+='\x3cinput type\x3d"button" id\x3d"'+d.id+'" class\x3d"zc-dem-btn zc-dem-border-radius-2 '+e+(d.type==ZCModalConstants.MODAL_SUBMIT?"zc-dem-primarybtn":"zc-dem-secondarybtn")+' zc-dem-box-sizing" tabindex\x3d"1" value\x3d"'+d.value+'" name\x3d"'+d.name+'" /\x3e'}b+="\x3c/div\x3e\x3c/div\x3e"}this.$container=$(b+"\x3c/div\x3e")}};
ZCModal.prototype.buildModal=function(){var a=this.getOptions();this.$body=$(document.body);this.setModalBody();a.showInFullScreen||a.showInSlideScreen?this.$container=this.$modalBody:this.$container.find(".zc-dem-dialogue-content").append(this.$modalBody);a.skipFreeze?$("#zc-dem-container").append(this.$container):(this.zcfreezer=ifreeze(),$(this.zcfreezer).after(this.$container),this.$container.addClass("zc-dem-freeze-content"));this.$overlay=this.$container};
ZCModal.prototype.addButtonEvent=function(a){var b=this;options=b.getOptions();var c=document.createElement("textarea");c.innerHTML=a.name;a.name=c.value;"Yes"==a.name&&b.$container.find("input[id\x3d'"+a.name+"']").trigger("focus");b.$container.find("input[id\x3d'"+a.id+"']").on("click",function(c){a.action?a.action(b.getBody())||b.close():b.close();a.type==ZCModalConstants.MODAL_SUBMIT||a.type==ZCModalConstants.MODAL_BUTTON?b.$container.trigger("confirm"):b.$container.trigger("cancel")})};
ZCModal.prototype.addEventListeners=function(){var a=this,b=a.getOptions();$(a.$container.find(".zc-dem-dialogue-close")).on("click",function(b){a.close()});if(b.closeOnAnyClick)a.$container.on("click",function(b){b.preventDefault();a.close()});for(var c=b.buttons,d=0,e=c.length;d<e;d++)"iSlide"!=b.popupType&&"iModal"!=b.popupType&&"iCustomizePopup"!=b.popupType&&a.addButtonEvent(c[d])};ZCModal.prototype.getBody=function(){return this.$overlay};
function iAlert(a,b,c){if(!EffectCommon.isAlertActive){c=void 0==c?!1:c;var d=document.activeElement;$.zcmodal({type:ZCModalConstants.JIT_MODAL,popupType:"iAlert",parentClass:"zc-dem-alert",hideHeader:!0,hideIcon:!0,showClose:!1,shortcutContext:KeyContexts.POPUP.ALERT,buildDOM:function(){return'\x3ch3\x3e\x3ci class\x3d"zc-em zc-common-alert"\x3e\x3c/i\x3e'+(c?htmlSanitizer.sanitize(a):a)+"\x3c/h3\x3e"},buttons:[{id:"ok",value:ZCButton.OKAY,className:"zc-dem-deletebtn",type:ZCModalConstants.MODAL_SUBMIT,
action:function(){b&&b()}}],beforeShow:function(a){EffectCommon.isAlertActive=!0;$(d).trigger("blur");setTimeout(function(){$(a).find(".zc-dem-primarybtn").trigger("focus");$(a).find(".zc-dem-primarybtn").off("keydown.loopAlert").on("keydown.loopAlert",function(a){(a.keyCode||a.which)==Keys.TAB.code&&a.preventDefault()})},100)},afterClose:function(){EffectCommon.isAlertActive=!1;$(d).trigger("focus")}})}}
function iConfirm(a){a.success=void 0==a.success?function(){}:a.success;a.failure=void 0==a.failure?function(){}:a.failure;a.button=void 0==a.button?i18n.yes:a.button;a.cbutton=void 0==a.cbutton?i18n.no:a.cbutton;a.iconClass=void 0==a.iconClass?"":a.iconClass;a.isSanitize=void 0==a.isSanitize?!1:a.isSanitize;a.submitOnEnterKey=void 0==a.submitOnEnterKey?!1:a.submitOnEnterKey;a.afterClose=void 0==a.afterClose?function(){}:a.afterClose;var b=document.activeElement;$.zcmodal({type:ZCModalConstants.JIT_MODAL,
popupType:"iConfirm",title:a.title,parentClass:a.parentClass,showClose:!1,iconClass:a.iconClass,shortcutContext:KeyContexts.POPUP.ICONFIRM,submitOnEnterKey:a.submitOnEnterKey,buildDOM:function(){return"\x3cp\x3e"+(a.isSanitize?htmlSanitizer.sanitize(a.message):a.message)+"\x3c/p\x3e"},buttons:[{id:"proceedBtn",value:a.button,type:ZCModalConstants.MODAL_SUBMIT,action:a.success},{id:"cancelBtn",value:a.cbutton,type:ZCModalConstants.MODAL_CANCEL,action:a.failure}],beforeShow:function(a){$(b).trigger("blur");
$(a).find(".zc-dem-primarybtn").trigger("focus");$(a).find(".zc-dem-secondarybtn").off("keydown.loopConfirm").on("keydown.loopConfirm",function(b){(b.keyCode||b.which)==Keys.TAB.code&&($(a).find(".zc-dem-primarybtn").trigger("focus"),b.preventDefault())})},afterClose:function(){$(b).trigger("focus");a&&void 0!=a.afterClose&&a.afterClose()}})}
function iWarning(a){a.success=void 0==a.success?function(){}:a.success;a.failure=void 0==a.failure?function(){}:a.failure;a.parentClass=void 0==a.parentClass?"":" "+a.parentClass;a.oneButton=void 0==a.oneButton?!1:a.oneButton;a.button=void 0==a.button?ZCButton.OKAY:a.button;a.cbutton=void 0==a.cbutton?ZCButton.CANCEL:a.cbutton;a.buttonClass=void 0==a.buttonClass?"zc-dem-deletebtn":a.buttonClass;a.buttons=[];a.buttons.push({id:"proceedBtn",value:a.button,type:ZCModalConstants.MODAL_SUBMIT,className:a.buttonClass,
action:a.success});a.oneButton||a.buttons.push({id:"cancelBtn",value:a.cbutton,type:ZCModalConstants.MODAL_CANCEL,action:a.failure});a.isSanitize=void 0==a.isSanitize?!1:a.isSanitize;a.hideicon=void 0==a.hideicon?!1:a.hideicon;a.submitOnEnterKey=void 0==a.submitOnEnterKey?!1:a.submitOnEnterKey;var b=document.activeElement;$.zcmodal({type:ZCModalConstants.JIT_MODAL,popupType:"iWarning",parentClass:"zc-dem-warning zc-dem-del-alert"+a.parentClass,title:a.title,showClose:!1,hideIcon:a.hideicon,iconClass:"zc-db-em zc-dbemcommon-alert",
shortcutContext:KeyContexts.POPUP.IWARNING,submitOnEnterKey:a.submitOnEnterKey,buildDOM:function(){return"\x3cp\x3e"+(a.isSanitize?htmlSanitizer.sanitize(a.message):a.message)+"\x3c/p\x3e"},buttons:a.buttons,beforeShow:function(a){$(b).trigger("blur");$(a).find(".zc-dem-primarybtn").trigger("focus");$(a).find(".zc-dem-secondarybtn").off("keydown.loopWarning").on("keydown.loopWarning",function(b){(b.keyCode||b.which)==Keys.TAB.code&&($(a).find(".zc-dem-primarybtn").trigger("focus"),b.preventDefault())})},
afterClose:function(){$(b).trigger("focus")}})}
function iCustomizePopup(a,b){a.success=void 0==a.success?function(){}:a.success;a.failure=void 0==a.failure?function(){}:a.failure;a.afterOpen=void 0==a.afterOpen?function(){}:a.afterOpen;a.afterClose=void 0==a.afterClose?function(){}:a.afterClose;a.focusFirstField=void 0==a.focusFirstField?!0:a.focusFirstField;a.submitOnEnterKey=void 0==a.submitOnEnterKey?!1:a.submitOnEnterKey;a.showClose=void 0!=a.showClose?a.showClose:!0;a.select2Focus=void 0!=a.select2Focus?a.select2Focus:!1;a.returnFocus=void 0==
a.returnFocus?!0:a.returnFocus;a.hideHeader=void 0==a.hideHeader?!1:a.hideHeader;var c=Shortcut.pushContext(KeyContexts.POPUP.ICUSTOMIZE),d,e=[],f=document.activeElement,g;for(g in a.buttons){var h=a.buttons[g],k=h.type==ZCModalConstants.MODAL_SUBMIT?"proceedBtn":"cancelBtn",l=isNull(h.name)?h.type==ZCModalConstants.MODAL_SUBMIT?"ok":"cancel":h.name;e.push({type:h.type,value:h.name,id:k,name:l,action:h.action})}$.zcmodal({zcmodalId:a.popupId,type:ZCModalConstants.JIT_MODAL,popupType:"iCustomizePopup",
wrapperClass:a.containerClass,parentClass:a.parentClass,hideIcon:!0,hideHeader:a.hideHeader,title:a.title,showClose:a.showClose,overrideActions:!0,select2Focus:a.select2Focus,buildDOM:function(){return a.body},buttons:e,bindActions:function(b){function f(){a.failure.call(a,d);b.close()}var g=b.$container;d={parentContainer:$(g),container:$(g).find(".zc-dem-dialogue-content")};a.showClose&&(d.close=b.close.bind(b));$(g).find(".zc-dem-dialogue-footer").find("input[name\x3dok]").click(function(){a.success.call(a,
d)&&b.close()});$(g).find(".zc-dem-dialogue-footer").find("input[name\x3dcancel]").click(f);a.showClose&&$(g).find(".zc-dem-dialogue-close").click(f);for(var h in e){var k=e[h];k.type==ZCModalConstants.MODAL_BUTTON&&void 0!=k.action&&$(g).find(".zc-dem-dialogue-footer").find('input[name\x3d"'+k.name+'"]').click(function(){this.callback()&&b.close()}.bind({callback:k.action}))}a.showClose&&c.assign(Keys.ESCAPE.code,f);a.submitOnEnterKey&&c.assign(Keys.ENTER.code,function(){$(g).find(".zc-dem-dialogue-footer").find("input[name\x3dok]").click()});
$(g).off("keydown.loopCustomizePopup").on("keydown.loopCustomizePopup",function(b){var c=b.keyCode||b.which,d=$(document.activeElement),e=$(g).find("[tabindex\x3d1]:visible:last"),f=$(g).find(".zc-dem-dialogue-close");0==f.length&&(f=$(g).find(".references-reload-icon"));c==Keys.TAB.code&&(b.shiftKey||$(d)[0]!=$(e)[0]?b.shiftKey&&$(d)[0]==$(f)[0]&&($(e).trigger("focus"),b.preventDefault()):(a.showClose?$(f).trigger("focus"):$(g).find(":input:visible:first").trigger("focus"),b.preventDefault()))})},
beforeShow:function(c){$(f).trigger("blur");a.focusFirstField&&$(c).find(":input:visible:first").trigger("focus");b&&b.call(a,d);a&&void 0!=a.beforeShow&&a.beforeShow(c)},beforeClose:function(b){a&&void 0!=a.beforeClose&&a.beforeClose(b)},afterOpen:function(b){a&&void 0!=a.afterOpen&&a.afterOpen(b)},afterClose:function(){a.returnFocus&&$(f).trigger("focus");a&&void 0!=a.afterClose&&a.afterClose()}})}
function iCustomizeWizard(a,b){a.success=void 0==a.success?function(){}:a.success;a.failure=void 0==a.failure?function(){}:a.failure;a.afterOpen=void 0==a.afterOpen?function(){}:a.afterOpen;a.afterClose=void 0==a.afterClose?function(){}:a.afterClose;a.focusFirstField=void 0==a.focusFirstField?!0:a.focusFirstField;a.submitOnEnterKey=void 0==a.submitOnEnterKey?!0:a.submitOnEnterKey;a.showClose=void 0!=a.showClose?a.showClose:!0;a.select2Focus=void 0!=a.select2Focus?a.select2Focus:!1;a.returnFocus=void 0==
a.returnFocus?!0:a.returnFocus;var c=Shortcut.pushContext(KeyContexts.POPUP.ICUSTOMIZE),d,e=[],f=document.activeElement,g=[{name:i18n["zc.common.back"],type:ZCModalConstants.MODAL_BUTTON},{name:ZCButton.DONE,type:ZCModalConstants.MODAL_SUBMIT}],h=a.steps;for(l in h)h[l].title=void 0==h[l].title?"Title":h[l].title,h[l].content=void 0==h[l].content?"\x3cdiv\x3e\x3cp\x3eNo content\x3c/p\x3e\x3c/div\x3e":h[l].content,h[l].nextName=void 0==h[l].nextName?i18n.Next:h[l].nextName,h[l].backName=void 0==h[l].backName?
i18n["zc.common.back"]:h[l].backName,h[l].hideNext=void 0==h[l].hideNext?!1:h[l].hideNext,h[l].hideBack=void 0==h[l].hideBack?!1:h[l].hideBack,h[l].back=void 0==h[l].back?function(){}:h[l].back,h[l].next=void 0==h[l].next?function(){return!0}:h[l].next,h[l].show=void 0==h[l].show?function(){}:h[l].show;for(var k in g){var l=g[k];var m=l.type==ZCModalConstants.MODAL_SUBMIT?"proceedBtn":"cancelBtn",n=isNull(l.name)?l.type==ZCModalConstants.MODAL_SUBMIT?"ok":"cancel":l.name;e.push({type:l.type,value:l.name,
id:m,name:n,action:l.action})}var q=0,w=function(a,b){b.find(".zc-dem-dialogue-header").html(h[a].title);b.find("#proceedBtn").val(h[a].nextName);b.find("#wizardtab").html(h[a].content);h[a].hideNext?b.find("#proceedBtn").hide():b.find("#proceedBtn").show();h[a].hideBack?b.find("#cancelBtn").hide():b.find("#cancelBtn").show()};$.zcmodal({type:ZCModalConstants.JIT_MODAL,popupType:"iCustomizePopup",wrapperClass:a.containerClass,parentClass:a.parentClass,hideIcon:!0,title:a.title,showClose:a.showClose,
overrideActions:!0,select2Focus:a.select2Focus,buildDOM:function(){return a.body},buttons:e,bindActions:function(b){function f(){a.failure.call(a,d);b.close()}var g=b.$container;d={parentContainer:$(g),container:$(g).find(".zc-dem-dialogue-content")};a.showClose&&(d.close=b.close.bind(b));a.showClose&&$(g).find(".zc-dem-dialogue-close").click(f);for(var k in e){var l=e[k];l.type==ZCModalConstants.MODAL_BUTTON&&$(g).find(".zc-dem-dialogue-footer").find("#cancelBtn").click(function(){h[q].back(g);0<
q&&q--;w(q,g);h[q].show(g)});l.type==ZCModalConstants.MODAL_SUBMIT&&$(g).find(".zc-dem-dialogue-footer").find("#proceedBtn").click(function(){var c=d;h[q].next(g)&&(q++,q==h.length?a.success.call(a,c)&&b.close():(w(q,g),h[q].show(g)))})}a.showClose&&c.assign(Keys.ESCAPE.code,f);a.submitOnEnterKey&&c.assign(Keys.ENTER.code,function(){$(g).find(".zc-dem-dialogue-footer").find("input[name\x3dok]").click()});$(g).off("keydown.loopCustomizePopup").on("keydown.loopCustomizePopup",function(b){var c=b.keyCode||
b.which,d=$(document.activeElement),e=$(g).find("[tabindex\x3d1]:visible:last"),f=$(g).find(".zc-dem-dialogue-close");"9"==c&&(b.shiftKey||$(d)[0]!=$(e)[0]?b.shiftKey&&$(d)[0]==$(f)[0]&&($(e).trigger("focus"),b.preventDefault()):(a.showClose?$(f).trigger("focus"):$(g).find(":input:visible:first").trigger("focus"),b.preventDefault()))})},beforeShow:function(c){$(f).trigger("blur");a.focusFirstField&&$(c).find(":input:visible:first").trigger("focus");b&&b.call(a,d);a&&void 0!=a.beforeShow&&a.beforeShow(c);
w(0,c);h[0].show(c)},beforeClose:function(b){a&&void 0!=a.beforeClose&&a.beforeClose(b)},afterOpen:function(b){a&&void 0!=a.afterOpen&&a.afterOpen(b)},afterClose:function(){a.returnFocus&&$(f).trigger("focus");a&&void 0!=a.afterClose&&a.afterClose()}})}
function iModal(a,b){var c=Shortcut.pushContext(KeyContexts.POPUP.ICUSTOMIZE);a.success=void 0==a.success?function(){}:a.success;a.failure=void 0==a.failure?function(){}:a.failure;$.zcmodal({type:ZCModalConstants.JIT_MODAL,popupType:"iModal",containerClass:".zc-dem-modal-content",showInFullScreen:!0,hideIcon:!0,title:a.title,showClose:!0,overrideActions:!0,buildDOM:function(){return getModalContentHtml(a)},bindActions:function(b){function d(){a.failure();$(f).show("blind",{direction:"down"},200,function(){$(this).animate({opacity:0},
200,function(){b.close()})})}var f=b.$container;$(f).find(".zc-dem-modal-footer").find("input[name\x3dok]").click(function(){a.success()&&b.close()});c.assign(Keys.ESCAPE.code,function(){$(f).find("[name\x3d'cancel']").click()});c.assign(Keys.ENTER.code,function(){$(f).find("[name\x3d'ok']").click()});$(f).find(".zc-dem-modal-footer").find("input[name\x3dcancel]").click(d);$(f).find(".zc-dem-modal-header").find(".zc-dem-modal-close").click(d)},beforeShow:function(c){a.containerClass&&($(c).addClass(a.containerClass),
$("."+a.containerClass).find(":input:first:visible").trigger("focus"));a.modalClass&&$(c).addClass(a.modalClass);b&&b()}})}
function iPrompt(a){this.returnValue;var b=getPromptHtml(a.message),c=$("body").freeze();$(c).append(b);c=$(window).height()/2-$(b).height()/2;var d=$(window).width()/2-$(b).width()/2;$(b).css({top:c,left:d}).show();$(b).find(":input").trigger("focus");$(b).find("small:first").unbind("click");$(b).find("small:first").bind("click",function(){a.returnValue=$(b).find(":input").val();(a.returnValue+"").match(/^\d+$/)?(a.success(),$("body").unfreeze()):$(b).find(".helptooltipconent").toggle()});$(b).find("small:last").unbind("click");
$(b).find("small:last").bind("click",function(){a.failure();$("body").unfreeze()})}function showLinearLoading(a){hideLinearLoading();$(a).after("\x3cdiv class\x3d'zc-line-loader'\x3e\x3c/div\x3e")}function hideLinearLoading(){$(".zc-line-loader").remove()}function hideXfreezer(){$("#zc_xfreezer").hide();$(window).off("resize.xfreeze");$(".zc-dem-xfreeze-el").removeClass("zc-dem-xfreeze-el")}var zcLoaderTimeout;
function showLoading(){hideLoading();Shortcut.disable(!0);$(document.body).append('\x3cdiv class\x3d"zc-dem-loading-freeze"\x3e\x3c/div\x3e');zcLoaderTimeout=setTimeout(function(){var a=getLoadingHtml();$(document.body).append(a);$(a).show()},100)}function hideLoading(a){Shortcut.enable(!0);a&&$(a).removeClass("zc-dem-loading-parent");void 0!=zcLoaderTimeout&&clearTimeout(zcLoaderTimeout);$(".zc-dem-loading-freeze").remove();$("#loadingEl").remove()}
function showProgressivePanelLoading(){var a=Handlebars.compile(document.getElementById("panelloader-template").innerHTML);$("#customlayouslider").after(a)}function hideProgressivePanelLoading(){$("#panelLoader").remove()}function loadingFreeze(){hideLoadingFreeze();$("body").append('\x3cdiv id\x3d"zc-dem-freeze-pane" class\x3d"zc-dem-loading-freeze"\x3e\x3c/div\x3e')}function hideLoadingFreeze(){$("#zc-dem-freeze-pane").remove()}
function ZCStatus(a){void 0==a&&(a={});void 0!=a&&void 0==a.container&&$("body").hasClass("zc-dem-slider-loaded")&&(a.container=$("body").find(".zc-dem-slider"));var b=$.extend({container:"#appbuilder-main-head",containerClass:"zc-save-status",iconClass:"zc-save-checkmark",isSanitize:!1},a),c=getStatusHtml(b),d=function(){$(b.container).find("#statusMsg").remove()};return{show:function(){d();$(b.container).append(c);$(b.container).find("#statusShow").fadeIn(500);setTimeout(function(){$(b.container).find("#statusShow").fadeOut(500)},
800)},preload:function(){var a=getPreLoadingHtml();$(b.container).append(a);$(b.container).find("#statusMsg").show()},stopLoading:function(){d()}}}function showStatus(a){void 0!=a&&0<a.trim().length&&ZCStatus({message:a}).show()}function showPreloader(){ZCStatus().preload()}function hidePreloader(){ZCStatus().stopLoading()}
function ZCToast(a){void 0==a&&(a={});var b={containerClass:"zc-dem-toast",iconClass:"zc-toast-icon",container:$(document.body),autoHide:!1,showClear:!1,isSanitize:!1,timeOut:800};b.type=void 0!=a.type?a.type:ZCType.SUCCESS;var c=!1,d=!1;switch(b.type){case ZCType.SUCCESS:b.containerClass="zc-success-toast";b.iconClass+=" zc-dbemcommon-success-message";break;case ZCType.INFO:b.containerClass="zc-info-toast";b.iconClass+=" zc-dbemcommon-info-alt";break;case ZCType.WARNING:b.containerClass="zc-warning-toast";
b.iconClass+=" zc-dbemcommon-alert";break;case ZCType.ERROR:b.containerClass="zc-error-toast";b.iconClass+=" zc-dbemcommon-alert";break;default:b.containerClass="zc-success-toast",b.iconClass+=" zc-dbemcommon-success-message"}void 0!=a.container&&b.container!=a.container&&(b.containerClass+=" zc-dem-ctr-toast");a.containerClass&&(a.containerClass=b.containerClass+" "+a.containerClass,c=!0);$.extend(b,a);d=c&&b.type==ZCType.ERROR&&!b.autoHide;var e=getToastHtml(b),f,g=function(){d?$(b.container).before(e):
$(b.container).append(e);f=$("#toastShow");if(a.showClear)$(f).find("#zcToastClear").one("click",function(){h()});$(f).smoothShow(500)},h=function(){$(f).smoothRemove(500)};return{show:function(){g();b.autoHide&&setTimeout(function(){h()},b.timeOut)},hide:h}}function showToast(a,b,c){void 0!=a&&0<a.trim().length&&ZCToast({message:a,autoHide:!0,type:b,timeOut:void 0!=c?c:800}).show()}
function stopEventBubbling(a){$.browser.msie?null!=a&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()):a.stopPropagation()}function getSliderHtml(){return $('\x3cdiv id\x3d"slider" class\x3d"popupalert"\x3e\x3cdiv elName\x3d"popupHead" class\x3d"subPopupHeader"\x3e\x3c/div\x3e\x3cdiv class\x3d"subPopupIn"\x3e\x3cdiv class\x3d"frmCont" elName\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"frmPPFot" elName\x3d"buttons"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function getTextLoadingHtml(){return $('\x3cdiv class\x3d"zc-dot-load-container"\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3c/div\x3e')}function getParentDiv(){return $('\x3cdiv class\x3d"zc-create-wrapper"\x3e\x3c/div\x3e')}
function getModalContentHtml(a){return $('\x3cdiv class\x3d"zc-dem-fullscreen-modal" popuptype\x3d"iModal"\x3e\x3cdiv class\x3d"zc-dem-modal-header zc-dem-clearfix"  style\x3d"'+(void 0!=a.header?"":"display:none")+'"\x3e'+a.header+'\x3ca class\x3d"zc-dem-modal-close"\x3e\x3ci class\x3d"zc-em zc-common-close"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-modal-content"\x3e'+a.body+'\x3c/div\x3e\x3cdiv class\x3d"zc-dem-modal-footer"\x3e\x3cdiv class\x3d"zc-dem-modal-btn-group"\x3e\x3cinput type\x3d"button" class\x3d"zc-dem-btn zc-dem-border-radius-2 zc-dem-primarybtn zc-dem-box-sizing" value\x3d"'+
a.button+'" id\x3d"proceedBtn" name\x3d"ok" style\x3d"'+(void 0!=a.button?"":"display:none")+'"\x3e\x3cinput type\x3d"button" class\x3d"zc-dem-btn zc-dem-border-radius-2 zc-dem-secondarybtn zc-dem-box-sizing" value\x3d"'+a.cbutton+'" id\x3d"cancelBtn" name\x3d"cancel" style\x3d"'+(void 0!=a.cbutton?"":"display:none")+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function getPromptHtml(a){return $('\x3cdiv id\x3d"iconfirm" class\x3d"ialert autoNumberPopupbox" popuptype\x3d"iPrompt"\x3e\x3cdiv class\x3d"subPopupIn"\x3e\x3cdiv class\x3d"frmCont autoNumber"\x3e\x3clabel\x3e'+a+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"start" value\x3d"1"/\x3e\x3cdiv class\x3d"helptooltip flLeft"\x3e\x3cspan\x3e\x26#63; \x3c/span\x3e\x3cdiv class\x3d"helptooltipconent"\x3eNumeric Only\x3cdiv class\x3d"helptooltipArrow"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"frmPPFot"\x3e\x3csmall class\x3d"mdmButton dGray"\x3e'+
i18n["zc.edit.yes"]+'\x3c/small\x3e\x3csmall class\x3d"mdmButton dimGray"\x3e'+i18n["zc.edit.no"]+"\x3c/small\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}function getToolTipHtml(a,b){$("#tooltip").remove();return $('\x3cdiv id\x3d"tooltip" class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip'+b+'Arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolBarTip'+b+'Arrow_wrapper"\x3e\x3c/div\x3e'+a+"\x3c/div\x3e")}
function getToolBarTipHtml(a,b){$("#tooltip").remove();return $('\x3cdiv id\x3d"tooltip" class\x3d"toolBarTip"\x3e\x3cdiv class\x3d"toolBarTip'+b+'Arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolBarTip'+b+'Arrow_wrapper"\x3e\x3c/div\x3e'+a+"\x3c/div\x3e")}
function getStatusHtml(a){$("#statusShow").remove();a='\x3cdiv id\x3d"statusShow" class\x3d"'+a.containerClass+'"\x3e\x3cdiv class\x3d"zc-saved-msg"\x3e\x3cdiv class\x3d"'+a.iconClass+'" \x3e\x3c/div\x3e\x3cspan\x3e'+(a.isSanitize?htmlSanitizer.sanitize(a.message):a.message)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e";return $(a)}
function getToastHtml(a){$("#toastShow").remove();a='\x3cdiv id\x3d"toastShow" class\x3d"zc-dem-toast '+a.containerClass+'"\x3e\x3cdiv class\x3d"zc-dem-toast-wrapper"\x3e\x3ci class\x3d"zc-db-em '+a.iconClass+'"\x3e\x3c/i\x3e\x3cspan\x3e'+(a.isSanitize?htmlSanitizer.sanitize(a.message):a.message)+"\x3c/span\x3e"+(a.showClear?'\x3ci class\x3d"zc-toast-close-icon zc-common-close zc-em" id\x3d"zcToastClear"\x3e\x3c/i\x3e':"")+"\x3c/div\x3e\x3c/div\x3e";return $(a)}
function getLoadingHtml(){return $('\x3cdiv id\x3d"loadingEl" class\x3d"zc-dem-loader-container"\x3e\x3cdiv class\x3d "ball-pulse-container"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function getFeedbackHtml(){$("#feedbackEl").remove();var a='\x3cdiv id\x3d"feedbackEl" class\x3d"popUpInner" style\x3d"width:457px;"\x3e\x3cdiv class\x3d"popupHeader"\x3e\x3cdiv class\x3d"flLeft"\x3eSend us your valuable feedback\x3c/div\x3e\x3ca elName\x3d"topClose" href\x3d"javascript:;" class\x3d"flRight ppDeleteIcon"\x3e\x26#10005;\x3c/a\x3e\x3cdiv class\x3d"clearBoth"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"popupMainCont " style\x3d"padding-bottom:0; padding-top:10px;"\x3e\x3ciframe id\x3d"myFeedbackFrame" width\x3d"100%" height\x3d"550" scrolling\x3d"auto" frameborder\x3d"0" allowtransparency\x3d"true" src\x3d"/zoho1/support/form-embed/Submit_a_Support_Request/zc_InpFieldFontSize\x3d13px\x26zc_TextAreaWidth\x3d350px\x26zc_TextAreaHeight\x3d130px\x26zc_InpFieldWidth\x3d250px\x26zc_DropDownWidth\x3d250px\x26zc_BgClr\x3dtransparent\x26zc_BdrClr\x3dtransparent\x26zc_FtrClr\x3dtransparent\x26zc_FtrClr\x3dtransparent\x26zc_FtrBdrClr\x3d_CFCDCD\x26zc_BtnBgClr\x3d_666666\x26zc_BtnClr\x3d_FFFFFF\x26zc_Header\x3dfalse\x26User_Type\x3dNEM\x26Other_Info\x3d\x26Module\x3dForms\x26How_critical_is_your_request\x3dJust%20For%20your%20Information\x26zuid\x3d'+EditCommon.sharedByDisp+
"\x26Source_URL\x3d"+encodeURI(window.location.href)+'"\x3e\x3c/iframe\x3e';NaN;NaN;return a}function getPreLoadingHtml(){$("#statusMsg").remove();return $('\x3cdiv id\x3d"statusMsg" class\x3d"zc-save-status"\x3e\x3cdiv class\x3d"zc-save-loader"/\x3e\x3c/div\x3e')}
$.datepicker&&($.datepicker._selectDate=function(a,b){var c;a=$(a);a=this._getInst(a[0]);b=null!=b?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);(c=this._get(a,"onSelect"))?c.apply(a.input?a.input[0]:null,[b,a]):a.input&&a.input.trigger("change");if(a.inline)this._updateDatepicker(a);else{if(a.showOnSelect){$(this.dpDiv).find("a").removeClass("ui-state-active");b=$(this.dpDiv).find("a[class*\x3dui-state-default]");c=b.length;for(var d=0;d<c;d++){var e=b[d];if($(e).html()===
a.selectedDay){$(e).addClass("ui-state-active");return}}}else this._hideDatepicker();this._lastInput=a.input[0];"object"!==typeof a.input[0]&&a.input.trigger("focus");this._lastInput=null}});jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);
browser={chrome:!1,webkit:!1,safari:!1,msie:!1,mozilla:!1,opera:!1};matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version);browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);jQuery.browser=browser;
function bindKeyActions(a){var b=$.extend({key:Keys.ENTER.code,targetElement:"",callback:function(){},baseElement:""},a);$(b.targetElement).off("keydown.keyActions").on("keydown.keyActions",function(a){(a.keyCode||a.which)==b.key&&($(a.target).click(),a.stopPropagation(),b.callback())})}
function ZCNavigate(a){void 0==a&&(a={});var b=$.extend({contextContainer:"",selectedClass:"",element:""},a);return{bindKeys:function(){var a=$(b.contextContainer).find(b.element);$(b.contextContainer).off("keydown.navigateKeys").on("keydown.navigateKeys",function(c){function d(){g=$(a).eq(l);$(f).removeClass(b.selectedClass);$(g).siblings().attr("tabindex","-1");$(g).attr("tabindex","1").addClass(b.selectedClass).trigger("focus").trigger("click")}c=c.keyCode||c.which;var f=$(a).filter("."+b.selectedClass).first(),
g,h=$(a).length,k;$(a).filter(function(a,c){$(c).hasClass(b.selectedClass)&&(k=a)});if(c==Keys.RIGHT.code||c==Keys.UP.code){var l=k+1>=h?0:k+1;d()}if(c==Keys.LEFT.code||c==Keys.DOWN.code)l=0>k-1?h-1:k-1,d()})}}}function bindNavigation(a,b,c){ZCNavigate({contextContainer:a,selectedClass:c,element:b}).bindKeys()};$.ajaxSetup({error:function(a,b,c){hideLoading();hidePreloader();b="GET"==this.type?this.url.split("?")[1]:this.data;422==a.status&&(c="",void 0!=b&&-1!=b.indexOf("targetElem")&&(c=b.split("targetElem\x3d")[1].split("\x26")[0]),handleUpgradeResponse(a.responseText,c));if(a.status==Constants.MAINTENANCE_MODE_ERROR_STATUS_CODE){c=b="";if(a.responseJSON&&a.responseJSON.email){b=a.responseJSON.email;c=a.responseJSON.appName;var d=a.responseJSON.maintenanceModeStatus}else if(a.responseText)try{var e=JSON.parse(a.responseText);
b=e.email;c=e.appName;d=e.maintenanceModeStatus}catch(f){}a="\x3cp\x3e"+i18n["zc.c6.publish.error.common.inprogress"]+"\x3c/p\x3e";void 0!=b&&"null"!=b&&""!=b&&null!=b?"SETUP_IN_PROGRESS"==d?a=i18n["zc.c6.publish.error.inprogress"].replaceAll("{0}",b):"PUBLISH_IN_PROGRESS"==d&&(d=variable.serverPrefix+"/userhome/"+variable.scopeName+"/admindashboard#/environments",a=i18n["zc.c6.publish.error.inprogress.initiated"].replaceAll("{0}",b).replaceAll("{1}",d)):"NOT_CREATED"==d?a=i18n["zc.c6.environment.develnotcreated"].replaceAll("{0}",
"\x3cstrong\x3e"+c+"\x3c/strong\x3e"):"INPROGRESS"==d&&(a=i18n["zc.c6.environment.settingupdevelopment"].replaceAll("{0}","\x3cstrong\x3e"+c+"\x3c/strong\x3e"));$.fn.maintenanceModeBanner(a)}}});
$.ajaxPrefilter(function(a,b,c){a=window.console;if("true"!==getCookie("ZCBUILDERFIVE"))try{var d,e=location.pathname;0!=e.indexOf("/userhome/"+ZCGlobal.scopeName+"/")&&(0==e.indexOf("/appbuilder/sandbox/"+ZCGlobal.scopeName+"/")?d="/appbuilder/sandbox/"+ZCGlobal.scopeName+"/":0==e.indexOf("/appbuilder/"+ZCGlobal.scopeName+"/")&&(d="/appbuilder/"+ZCGlobal.scopeName+"/"));void 0!=d&&(setCookie("ZCBUILDERFIVE","true",void 0,void 0,d,"None"),a.log("Cookie changed ::"))}catch(f){a.log(f)}});
function handleUpgradeResponse(a,b){""==b?(iCustomizePopup({body:a,containerClass:"zc-dem-upgrade-plan"},function(a){$(a.parentContainer).addClass("zc-dem-upgrade-popup-container")}),$(".zc-dem-upgrade-popup-wrapper").zcScrollPane({autoReinit:!0})):($("#"+b).fadeOut(100,function(){$(this).html(a);$(this).fadeIn(300)}),"setupcontainer"==b&&$(".setupconentContainer").addClass("zc-upgrade-setupcontainer-wrapper"))}
function isValueKeyPressed(a){a=a.keyCode;return a>=Constants.KEYPAD_ZERO&&a<=Constants.KEYPAD_NINE||a>=Constants.APLPHABET_A&&a<=Constants.APLPHABET_Z||a>=Constants.NUMBERPAD_ZERO&&a<=Constants.NUMBERPAD_DECIMAL||a>=Constants.KEYPAD_SEMICOLON&&a<=Constants.KEYPAD_GRAVEACCENT||a>=Constants.KEYPAD_OPENBRACE&&a<=Constants.KEYPAD_SINGLEQUOTE||a==Constants.BACKSPACE||a==Constants.DELETE||a==Constants.SPACE?!0:!1}
function isNull(a){return a&&"undefined"!=a&&"undefined"!=typeof a&&"NULL"!=a&&"null"!=a&&""!=a?!1:!0}var dt;
(function(a){a.fn.markDirty=function(b){(b=void 0==b?!0:!1)&&clearTimeout(dt);a(this).data("isDirty",!0);b&&(dt=setTimeout(function(){a("#saveForm").trigger("click")},1E3))};a.fn.unmarkDirty=function(){a(this).data("isDirty",!1)};a.fn.isDirty=function(){return!!a(this).data("isDirty")};a.fn.getCursorPosition=function(){var a=this[0];if("selectionStart"in a)return a.selectionStart;if(document.selection){a.trigger("focus");var c=document.selection.createRange(),d=document.selection.createRange().text.length;
c.moveStart("character",-a.value.length);return c.text.length-d}};a.fn.insertAt=function(b,c){var d=a(this).val();a(this).val(d.substring(0,b)+c+d.substring(b))};a.fn.exclude=function(a){return this.clone().children(a).remove().end()}})(jQuery);Date.prototype.sameDateAs=function(a){return this.getFullYear()==a.getFullYear()&&this.getMonth()==a.getMonth()&&this.getDate()==a.getDate()};
$.fn.removeDoublequotes=function(){$(this).find(":input[type\x3dtext]").not(":input[name\x3dsubject]").each(function(a){var b="";a=$(this).val().split(",");$(a).each(function(a,d){b=-1==d.indexOf("+")?b+(","+d.replace(/"/g,"")):b+(","+d)});$(this).val(b.substring(1))})};$.fn.placeEmptyValue=function(){var a=$(this).find(":input[name\x3dmessage]");"\x3cbr /\x3e"==a.val()&&a.val("")};
function addDoubleQuotes(a,b){a=a.split(",");var c="";$(a).each(function(a,e){e=e.trim();isNull(e)||-1!=$.inArray(e,b)||-1!=e.indexOf('"')&&-1!=e.indexOf("+")?isNull(e)||(c=""!=c?c+","+e:e):c=""!=c?c+',"'+e+'"':'"'+e+'"'});return c}
function addRichTextEditor(a,b,c,d,e){divID=$(a).attr("id");var f=$(a).attr("nameoftextarea");f=$(a).siblings("textarea[name \x3d "+f+"]");var g=$(f).val(),h="";h=c?JSON.parse('[["bold","italic","underline"],["strikethrough"],["fontcolor"],["bgcolor"],["fontfamily"],["fontsize"],["insertunorderedlist","insertorderedlist"],["justifyleft","justifyright","justifyfull","justifycenter"],["outdent","indent"],["removeformat"],["link","unlink","table","inserthorizontalrule","quote"],["insertHTML"],["code"],["edithtml"],["plain"]]'):JSON.parse('[["bold","italic","underline"],["strikethrough"],["fontcolor"],["bgcolor"],["fontfamily"],["fontsize"],["justifyleft","justifyright","justifyfull","justifycenter"],["insertunorderedlist","insertorderedlist"],["outdent","indent"],["removeformat"],["link","unlink","table","inserthorizontalrule","quote"],["insertHTML"],["code"],["edithtml"]]');
var k=JSON.parse('[["8pt"],["10pt"],["12pt"],["14pt"],["18pt"],["24pt"],["36pt"]]'),l=JSON.parse('[["Serif"],["Arimo"],["PtMono"],["Heuristica"],["OpenSans"],["Tinos"],["Lato"],["DejaVuSans"],["ComicNeue"],["EBGaramond"],["RobotoCondensed"],["ArchivoBlack"],["Carlito"]]'),m=ZSEC.HTMLPurifier({ALLOWED_STYLE:"ALL",STYLE_VALIDATION:!1,FORCE_BODY:!0}),n={id:divID,content:m.sanitize(g),editorheight:b,toolbar:h,fontsize:k,fontfamily:l,popupConstructedCallback:function(a,b){$(b).addClass("ze-edithtml-popup")}};
$(f).hide();ZE_Init.creatorFix(n);return function(f){try{ZE,f()}catch(w){setTimeout(function(){e=void 0==e?1:++e;3>=e&&(s=3==e?!0:!1,addRichTextEditor(a,b,c,d,e))},1E3)}}(function(){ZE_Init.creatorObj=ZE.create(n);ZE_Init.needplaintext=c;addRichTextClass(ZE_Init.creatorObj,d)})}
function addRichTextClass(a,b){var c=a.editordiv;ZE_Init.is_ie?($(c).find("i.zei-bgclr").closest("div").addClass("zc-ze-richtext-bgclr"),$(c).find("i.zei-textclr").closest("div").addClass("zc-ze-richtext-textclr"),$(c).find(".zmetoolbar").addClass("ze_SCmb"),$(c).find('div[title\x3d"Font Size"]').addClass("zc-ze-richtext-fs"),$(c).find('[data-action\x3d"fontfamily"]').closest("div").addClass("zc-ze-richtext-ff"),$(c).find('div[data-action\x3d"otheroptions"]').addClass("zc-ze-richtext-modeswitch")):
($(c).find("ul:has(span.zei-bgclr)").addClass("zc-ze-richtext-bgclr"),$(c).find("ul:has(span.zei-textclr)").addClass("zc-ze-richtext-textclr"),$(c).find("ul:has(em#fontsizeEditable)").addClass("zc-ze-richtext-fs"),$(c).find("ul:has(span.zeFFce)").addClass("zc-ze-richtext-ff"),$(c).find("li:has(span.zei-arrow.ze-big)").addClass("zc-ze-richtext-modeswitch"));b||($(c).find("ul:has(span.zeFFce)").find("span.zei-arrow").addClass("select2-arrow"),$(c).find("ul:has(em#fontsizeEditable)").find("span.zei-arrow").addClass("select2-arrow"));
ZE_Init.loadFontCss(a,ZCPath.staticCss.fontsBundledCss);ZE_Init.changeFFDisplay()}function loadfonts(a){if(void 0==a.doc||void 0!=a.state&&"loading"==a.state)return setTimeout(function(){this.loadfonts(a)},500),!1;var b=a.doc.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=ZCPath.staticCss.fontsBundledCss;a.doc.head.appendChild(b)}
function validateEmailFields(a,b){var c=/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,15})+$/,d=!1;a=a.split(",");$(a).each(function(a,f){f=f.trim();if(!isNull(f)&&-1==$.inArray(f,b))if(a=f.indexOf("+"),-1!=a){if(0==a||a==f.length-1)return d=!0,!1}else if(('"'!=f.charAt(0)||'"'!=f.charAt(f.length-1))&&!c.test(f))return d=!0,!1});return d}
function convertToIndianTimeZone(){offset=5.5;userDate=new Date;utc=userDate.getTime()+6E4*userDate.getTimezoneOffset();return ISTDate=new Date(utc+36E5*offset)}
(function(a){$.fn.clone=function(){for(var b=a.apply(this,arguments),c=this.find("select").add(this.filter("select")),d=b.find("select").add(b.filter("select")),e=this.find("textarea").add(this.filter("textarea")),f=b.find("textarea").add(b.filter("textarea")),g=0,h=c.length;g<h;++g)d[g].selectedIndex=c[g].selectedIndex;g=0;for(h=e.length;g<h;++g)$(f[g]).val($(e[g]).val());return b}})($.fn.clone);
function getCountryNameFromCode(a){var b="";if(void 0!=a&&0<a.length)for(i in a=a.split(","),a)if(2>i)b=b+Constants.COUNTRY_MAP[a[i]]+(i+1<a.length&&2>i+1?", ":"");else{b=b+" \x26 "+(a.length-2)+" others";break}return b}function closeCloudPicDialog(){$("#zc-gadgets_cloudpicker_div").remove()}function selectedDocDetails(a,b){cloudDocAttachEvent(a,b);closeCloudPicDialog()}
function cloudDocAttachEvent(a,b){$("#cloudPickFile").text(b);var c=docid("importNewForm");c.cloudPickVal.value=a;c.newtabname.value=b.substring(0,b.indexOf("."))}function validateEmail(a){return""==a?null:!/^.+@.+\..{2,15}$/.test(a)||a.match(/[\(\)<>,;:\\\/"\[\]]/)?a+" is not a valid email address.":null}function isIpad(){return-1!=navigator.platform.indexOf("iPad")}
function convertToJQueryDateFormat(a){0<=a.search(/y{3,}/g)?a=a.replace(/y{3,}/g,"yy"):0<=a.search(/y{2}/g)&&(a=a.replace(/y{2}/g,"y"));0<=a.search(/M{4,}/g)?a=a.replace(/M{4,}/g,"MM"):0<=a.search(/M{3}/g)?a=a.replace(/M{3}/g,"M"):0<=a.search(/M{2}/g)?a=a.replace(/M{2}/g,"mm"):0<=a.search(/M{1}/g)&&(a=a.replace(/M{1}/g,"m"));0<=a.search(/D{2,}/g)?a=a.replace(/D{2,}/g,"oo"):0<=a.search(/D{1}/g)&&(a=a.replace(/D{1}/g,"o"));0<=a.search(/E{4,}/g)?a=a.replace(/E{4,}/g,"DD"):0<=a.search(/E{2,3}/g)?a=a.replace(/E{2,3}/g,
"D"):0<=a.search(/E{1}/g)&&(a=a.replace(/E{1}/g,"D"));return a}var ajaxQueue=$({});$.ajaxQueue=function(a){function b(b){c=$.ajax(a).done(d.resolve).fail(d.reject).then(b,b)}var c,d=$.Deferred(),e=d.promise();ajaxQueue.queue(b);e.abort=function(f){if(c)return c.abort(f);var g=ajaxQueue.queue(),h=$.inArray(b,g);-1<h&&g.splice(h,1);d.rejectWith(a.context||a,[e,f,""]);return e};return e};
$.cachedScript=function(a,b,c){void 0==c&&(c="script");void 0==b&&(b=function(){});return jQuery.ajax({type:"GET",dataType:c,cache:!0,success:b,url:a})};
this.showVerifyEmailPopup=function(a){verificationType=void 0!=a.verificationType?a.verificationType:"email";var b=!1;iCustomizePopup({title:"email"==verificationType?i18n["zc.workflowbuilder.addemail"]:i18n["zc.accountsetup.builder.emailmanagement.entercode.popupheader"],body:a.popupBodyEl.clone(),buttons:[{name:ZCButton.ADD,type:ZCModalConstants.MODAL_SUBMIT},{name:ZCButton.CANCEL,type:ZCModalConstants.MODAL_CANCEL}],focusFirstField:!0,success:function(c){var d=$(c.container),e=$(d).find("#verifyEmailId"),
f=void 0!=a.emailId?a.emailId:$(e).val().trim().toLowerCase(),g=void 0!=a.sender_email_id?a.sender_email_id:$(e).attr("sender_email_id"),h=$(d).find("#verifyKey").val(),k=/^[\w]([\w\-\.\+']*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/;if(""!=f&&k.test(f))if("otp"==verificationType&&""==h)$(d).find("#verifyKey").showError(i18n["zc.formedit.settings.verifyemailaddr.entervalidverificationcode"]);else{if(a.beforeSendCallback&&!a.beforeSendCallback())return b;k={};k.emailId=f;k.verificationType=
verificationType;k.sender_email_id=g;k.verifyKey=h;k.zccpn=a.csrfToken;$.ajax({beforeSend:function(){var a="email"==verificationType?i18n["zc.accountsetup.builder.emailmanagement.addingemail"]:i18n["zc.accountsetup.builder.emailmanagement.verifyingemail"];$(c.parentContainer).find("#proceedBtn").showTextLoading(a)},url:a.verifyURL,type:"POST",data:k,success:function(h,k,n){hideLoading();k="failure"==h.result&&"email"==verificationType?i18n.add:i18n["zc.formedit.settings.verifyemailaddr.verify"];$(c.parentContainer).find("#proceedBtn").hideTextLoading(k);
"failure"==h.result&&"otp"==verificationType&&($(d).find("#OTPInput").clearError(),$(d).find("#verifyKey").showError(h.message),a.otpFailureCallback&&a.otpFailureCallback(),h.resendCode&&$(d).find(".zc-dem-resend-code").show());"failure"==h.result&&"email"==verificationType&&($(d).find("#emailIdInput").clearError(),$(d).find("#verifyEmailId").showError(h.message));"success"==h.result&&"otp"==verificationType&&(b=!0,$("body").showToast(i18n["zc.accountsetup.builder.emailmanagement.success.emailadded"].replace("{0}",
"'"+f+"'"),ZCType.SUCCESS,2E3),k={},k.emailId=f,k.sender_email_id=g,a.otpSuccessCallback&&a.otpSuccessCallback(k),c.close());"success"==h.result&&"email"==verificationType&&($("body").showToast(i18n["zc.accountsetup.builder.emailmanagement.success.verificationcode"].replace("{0}","'"+f+"'"),ZCType.SUCCESS,2E3),a.mailSentSuccessCallBk&&a.mailSentSuccessCallBk(),$(e).attr("sender_email_id",h.sender_email_id),verificationType="otp",$(c.container).addClass("zc-dem-verified-key"),$(d).find("#emailIdInput").css("display",
"none"),$(d).find("#OTPInput").css("display","block"),$(d).find("#OTPInput").find("span[elename\x3dverificationtext]").append(" '"+f+"'"),$(d).find("input[id\x3dverifyKey]").focus(),$(c.parentContainer).find("div.zc-dem-dialogue-footer").find("input[name\x3dok]").val(i18n["zc.settings.customerportal.verify"]),$(c.parentContainer).find(".zc-dem-dialogue-header").text(i18n["zc.accountsetup.builder.emailmanagement.entercode.popupheader"]))}})}else $(d).find("#verifyEmailId").showError(i18n["zc.formedit.settings.verifyemailaddr.entervalidemailid"]);
return b},failure:function(b){b=$(b.container);var c=$(b).find("#verifyEmailId");b=void 0!=a.emailId?a.emailId:$(c).val().trim().toLowerCase();c=void 0!=a.sender_email_id?a.sender_email_id:$(c).attr("sender_email_id");var e={};e.emailId=b;e.sender_email_id=c;a.failCallback&&a.failCallback(e)},afterOpen:function(b){$(b).find(".zc-dem-resend-code").on("click",function(){var c=void 0!=a.emailId?a.emailId:$(b).find("#verifyEmailId").val().trim().toLowerCase(),e=void 0!=a.sender_email_id?a.sender_email_id:
$(b).find("#verifyEmailId").attr("sender_email_id");$.ajax({beforeSend:showLoading(),method:"POST",url:a.verifyURL,data:{sender_email_id:e,verificationType:"resend_code",zccpn:a.csrfToken},success:function(a,b,d){hideLoading();"success"==a.result&&$("body").showToast(i18n["zc.accountsetup.builder.emailmanagement.success.verificationcode"].replace("{0}","'"+c+"'"),ZCType.SUCCESS,2E3)},error:function(a,b,c){hideLoading()}});$(b).find("#OTPInput").clearError();$(this).hide()})}},function(b){$(b.parentContainer).addClass("zc-dem-add-senderemail");
"email"==verificationType?($(b.container).find("#emailIdInput").css("display","block"),$(b.container).find("#OTPInput").css("display","none")):($(b.container).addClass("zc-dem-verified-key"),$(b.container).find("#emailIdInput").css("display","none"),$(b.container).find("#OTPInput").css("display","block"),$(b.container).find("#OTPInput").find("span[elename\x3dverificationtext]").append(" '"+a.emailId+"'"),$(b.container).find("#verifyKey").focus(),$(b.parentContainer).find("div.zc-dem-dialogue-footer").find("input[name\x3dok]").val(i18n["zc.settings.customerportal.verify"]));
a.customClass&&$(b.parentContainer).addClass(a.customClass)})};
this.checkVerifiedEmailLimit=function(a){$.ajax({beforeSend:showLoading(),method:"GET",url:a.limitCheckURL,success:function(b,c,d){hideLoading();void 0!=b.status&&"HIGHER_PLAN"==b.status?iWarning({title:i18n["zc.accountsetup.builder.senderemail.maxlimitreached"],message:'\x3cp class\x3d"zc-dem-as-alert-popup-para"\x3e'+i18n["zc.accountsetup.builder.senderemail.maxlimitereachedforthisaccount"]+"\x3c/p\x3e",oneButton:!0}):"true"==$(b).find("input[name\x3disLimitExceed]").val()?iCustomizePopup({body:$(b).find(".zc-dem-upgrade-popup"),
containerClass:"zc-dem-upgrade-plan",parentClass:"zc-dem-upgrade-popup-container",success:function(){},failure:function(){void 0!=a.upgradeCancelCallBk&&a.upgradeCancelCallBk()}}):a.limitSuccessCallBk($(b).find("#verifyEmailAddr"))},fail:function(a,c,d){hideLoading()}})};function setTempShareCookie(){setCookie(Constants.TEMPSHARE_COOKIE_NAME,Constants.TEMPSHARE_COOKIE_VALUE,!1,!1,Constants.TEMPSHARE_COOKIE_PATH)}
function setCookie(a,b,c,d,e,f){var g=new Date;c?g.setTime(g.getTime()+864E5*c):g.setTime(g.getTime()+31536E6);a=a+"\x3d"+escape(b)+";expires\x3d"+g.toGMTString()+";";d&&(a=a+"domain\x3d"+escape(d)+";");e&&(a=a+"path\x3d"+escape(e)+";");f&&(a=a+"SameSite\x3d"+escape(f)+";");document.cookie=a}function getPermissionShareContent(a,b){$.ajax({url:SettingsObject.getAppURL()+"/share/getViewMeta",type:"GET",success:function(c){$(".zc-dem-outer-container").append(c);quickShareCall(a,b)}})}
function quickShareCall(a,b){$.ajax({url:a.APP.getURL()+"/share/quickShare",type:"GET",cache:!0,beforeSend:function(){showLoading()},success:function(c,d,e){$("#shareContent , #addProfileForm").remove();$(".zc-dem-outer-container").append(c);c=$(".zc-dem-outer-container").find(".zc-dem-integ-form-perm");d=$(c).parent().parent();$(d).addClass("zc-dem-integ-permission");$(d).addClass("zc-dem-api-info-tooltip-show");void 0!=b&&2==b.shareType&&($("#profileForm .zc-dem-api-acs").remove(),$(c).addClass("zc-dem-portal-integ-form"),
$(c).find(".zc-dem-api-info-tooltip").html(i18n["zc.settings.users.permissions.integration.tooltip.cp"]));c=$("#addProfileForm");c.find("div[name\x3dprofileConfig]").removeClass("hide").removeClass("zc-share-type-custom-option");c.find("form[id\x3dprofileForm]").removeClass("zc-dem-label-top").addClass("zc-dem-label-left");$("#profileConfigHolder .zc-dem-sub-label , #profileConfigHolder .zc-dem-form-label").remove();$("#portalContent").html(c.html());$("#profileHeaderText , #closeProfile").remove();
appbuilder.bootConfig.useCompression?(c=new Requires(Modules.QUICKSHARE),require(c.get(),c.getPromise(function(){hideLoading();var c=new Profile;c.applyMeta(b.shareType,a);c.setCallBack(b.callBack);c.updatePermissionSet(b);$("#profileForm").find("input[type\x3d'submit']").val(i18n["zc.quickshare.update"]);$("#cancel").off("click").on("click",function(a){$("#profiles").trigger("click");a.preventDefault();stopEventBubbling(a)})}))):(hideLoading(),c=new Profile,c.applyMeta(b.shareType,a),c.setCallBack(b.callBack),
c.updatePermissionSet(b),$("#profileForm").find("input[type\x3d'submit']").val(i18n["zc.quickshare.update"]),$("#cancel").off("click").on("click",function(a){$("#profiles").trigger("click");a.preventDefault();stopEventBubbling(a)}))}})}
function getQuickShareContent(a,b){$.ajax({url:a.APP.getURL()+"/share/quickShare",type:"GET",cache:!0,beforeSend:function(){showLoading()},success:function(c,d,e){$("#shareContent").remove();$("#addProfileForm").remove();$(".zc-dem-outer-container").append(c);c=$(".zc-dem-outer-container").find(".zc-dem-integ-form-perm");d=$(c).parent().parent();$(d).addClass("zc-dem-integ-permission");$(d).addClass("zc-dem-api-info-tooltip-show");void 0!=b&&2==b.shareType&&($("#profileForm .zc-dem-api-acs").remove(),
$(c).addClass("zc-dem-portal-integ-form"),$(c).find(".zc-dem-api-info-tooltip").html(i18n["zc.settings.users.permissions.integration.tooltip.cp"]));$("#profileForm input[id\x3dcancel]").show();appbuilder.bootConfig.useCompression?(c=new Requires(Modules.QUICKSHARE),require(c.get(),c.getPromise(function(){hideLoading();initShare(a,b)}))):(hideLoading(),initShare(a,b))}})}
function getClonePermissionContent(a,b,c){$.ajax({url:a.APP.getURL()+"/share/getClonePermissionResponse",type:"GET",data:{profileId:c,profileType:b.shareType},cache:!0,beforeSend:function(){showLoading()},success:function(d,e,f){$("#shareContent").remove();$("#addProfileForm").remove();$(".zc-dem-outer-container").append(d);d=$(".zc-dem-outer-container").find(".zc-dem-integ-form-perm");e=$(d).parent().parent();$(e).addClass("zc-dem-integ-permission");$(e).addClass("zc-dem-api-info-tooltip-show");
void 0!=b&&2==b.shareType&&($("#profileForm .zc-dem-api-acs").remove(),$(d).addClass("zc-dem-portal-integ-form"),$(d).find(".zc-dem-api-info-tooltip").html(i18n["zc.settings.users.permissions.integration.tooltip.cp"]));$("#profileForm input[id\x3dcancel]").show();d={};d.PermissionSetJson=JSON.parse($("#profilePermissionSet_"+c).val());d.FieldPermissionJson=JSON.parse($("#profileFieldPermissions_"+c).val());d.PermissionSetName=b.PermissionSetName;d.PermissionSetDescription=b.PermissionSetDescription;
b.permissionConfig=d;appbuilder.bootConfig.useCompression?(d=new Requires(Modules.QUICKSHARE),require(d.get(),d.getPromise(function(){hideLoading();initShare(a,b)}))):(hideLoading(),initShare(a,b))}})}
function initShare(a,b){if(void 0==b)(new ShareInvoker(a)).init(),void 0!=$("#userSelect").data("zcdd")&&$("#userSelect").data("zcdd").trigger("focus");else if(b.invokeType==Constants.ADD_USER_TO_TYPE)(new ShareInvoker(a)).addUserForSharetype(b);else if(b.invokeType==Constants.ADD_USER_TO_PROFILE)(new ShareInvoker(a)).addUserForProfile(b);else if(b.invokeType==Constants.ADD_NEW_PROFILE){var c=new Profile;c.init(b.shareType,a);c.openSlide(!0);c.setCallBack(b.callBack);$("#profileForm").find("input[type\x3d'submit']").val(i18n.save)}else b.invokeType==
Constants.EDIT_PROFILE?(c=new Profile,c.init(b.shareType,a),c.openSlide(!0),c.setCallBack(b.callBack),c.updatePermissionSet(b),$("#profileForm").find("input[type\x3d'submit']").val(i18n["zc.quickshare.update"])):b.invokeType==Constants.CLONE_PROFILE&&(c=new Profile,c.applyMeta(b.shareType,a),c.openSlide(!0),c.setCallBack(b.callBack),c.updatePermissionSet(b),$("#profileForm").find("input[type\x3d'submit']").val(i18n.save))}
function getSpecificDomain(a){switch(a){case Constants.ZOHO_MAPS:return"undefined"!==typeof ZCGlobal&&"eu"==ZCGlobal.buildSetup?Constants.ZMAPS_DOMAIN_EU:Constants.ZMAPS_DOMAIN;case Constants.IMAGE_STATIC_SERVER:return"undefined"!==typeof ZCGlobal&&"eu"==ZCGlobal.buildSetup?Constants.IMG_STATIC_SERVER_EU:Constants.IMG_STATIC_SERVER}}
function getErrorMsgCustomisedPopup(a,b,c,d,e,f){function g(a){$(a).children("ul").slideUp(400);$(a).find(".zc-li-outline.arrows-1-minimal-up").removeClass("arrows-1-minimal-up").addClass("arrows-1-minimal-down");$(a).removeClass("active")}function h(){$.each($(".zc-dem-field-del-refer-content .zc-dem-ref-list.active"),function(a,b){g($(b))})}0<$(".zc-dem-dialogue-container").length?(""===a?$(".zc-dem-dialogue-content").html("\x3cp class\x3d'references-clear-msg'\x3e"+i18n["zc.edit.referece.removedmsg"].replace("{0}",
"\x3cb\x3e"+c+"\x3c/b\x3e")+"\x3c/p\x3e"):$(".zc-dem-dialogue-content").html(a),$(".zc-dem-dialogue-header .references-reload-icon").find(".arrows-1-refresh-69.zc-li-outline").removeClass("animated zc-rotate"),$(".zc-dem-dialogue-btn-group .zc-dem-secondarybtn").prop("disabled",!1)):(iCustomizePopup({body:a,buttons:[{name:c,type:ZCModalConstants.MODAL_SUBMIT},{name:d,type:ZCModalConstants.MODAL_CANCEL}],afterOpen:function(a){$(".zc-dem-field-del-refer-content .zc-dem-ref-type:first").trigger("focus")},
success:function(){f();return!0},failure:function(){}}),a='\x3cspan class\x3d"references-title-msg"\x3e'+b+'\x3c/span\x3e\x3cspan class\x3d"references-reload-icon" tabindex\x3d"1"\x3e\x3ci class\x3d"arrows-1-refresh-69 zc-li-outline"\x3e\x3c/i\x3e\x3c/span\x3e',$(".zc-dem-dialogue-container .zc-dem-dialogue-header").html(a).show(),$(".zc-dem-dialogue-container").addClass("zc-ref-popup-error"));$(".zc-dem-dialogue-header .references-reload-icon").keydown(function(a){a.keyCode!=Keys.ENTER.code&&a.which!=
Keys.ENTER.code||$(this).trigger("click")});void 0!=e?($(".zc-dem-dialogue-header .references-reload-icon").off("click").on("click",function(){$(".zc-dem-dialogue-btn-group .zc-dem-secondarybtn").attr("disabled",!0);$(this).find(".arrows-1-refresh-69.zc-li-outline").addClass("animated zc-rotate");e()}),$(".zc-dem-dialogue-btn-group .zc-dem-primarybtn").attr("disabled",!0),$(".zc-dem-dialogue-btn-group .zc-dem-primarybtn").removeClass("zc-dem-disabledbtn").addClass("zc-dem-disabledbtn")):($(".zc-dem-dialogue-btn-group .zc-dem-primarybtn").removeClass("zc-dem-disabledbtn"),
$(".zc-dem-dialogue-btn-group .zc-dem-primarybtn").prop("disabled",!1),$(".zc-dem-dialogue-header .references-reload-icon").remove());$(".zc-dem-dialogue-container").find(".zc-dem-dialogue-close").remove();$(".zc-dem-dialogue-header").addClass("zc-dem-clearfix");$(".zc-dem-dialogue-container").addClass("zc-dem-box-sizing");$(".zc-dem-dialogue-container").find(".zc-dem-dialogue-content").addClass("zc-dem-field-del-refer");$(".zc-dem-box-sizing.zc-dem-ref-type").keydown(function(a){a.keyCode!=Keys.ENTER.code&&
a.which!=Keys.ENTER.code||$(this).trigger("click")});$(".zc-dem-box-sizing.zc-dem-ref-type").click(function(){var a=$(this).parent();a.hasClass("active")?g(a):(h(),$(a).children("ul").slideDown(400),$(a).find(".zc-li-outline.arrows-1-minimal-down").removeClass("arrows-1-minimal-down").addClass("arrows-1-minimal-up"),$(a).addClass("active"))})}
function getFirstVisibleFormElement(a){return $(a).find(":input:not(.no-validate,.select2-focusser,.select2-input)").filter(function(a,c){return!$(this).closest(".zc-dem-form-group").hasClass("hide")&&$(this).is("[name]")})[0]}
function initPhoneInitialValue(a){$(a).clearError();var b=$(a).find("[name\x3d'initialValue']")[0];$(b).prop("placeholder",!1);var c=$(a).find("[name\x3d'defaultCountry']").val(),d=$(a).find("[name\x3d'allowedCountries']").val(),e=isNull(d)?null:d.split(","),f=isNull(c)?!1:!0;d={};d.dropdownContainer=document.body;d.separateDialCode=!0;d.preferredCountries=[];isNull(c)?d.initialCountry="":d.initialCountry=c;isNull(e)||(d.onlyCountries=e);d.allowDropdown=!0;d.autoPlaceholder=f?"polite":"off";c=window.intlTelInputGlobals.getInstance(b);
isNull(c)||void 0==c||c.destroy();window.intlTelInput(b,d);$(a).find("[name\x3dinitialValue]").siblings(".flag-container").remove();$(a).find("[name\x3dinitialValue]").css("padding","8px");$(a).find("[name\x3dinitialValue]").parent("div").css("width","300px")}
function insertAfterCursor(a,b){if(a){var c=a.scrollTop,d=0,e=a.selectionStart||"0"==a.selectionStart?"ff":document.selection?"ie":!1;"ie"==e?(a.focus(),d=document.selection.createRange(),d.moveStart("character",-a.value.length),d=d.text.length):"ff"==e&&(d=a.selectionStart);var f=a.value.substring(0,d),g=a.value.substring(d,a.value.length);a.value=f+b+g;d+=b.length;"ie"==e?(a.focus(),b=document.selection.createRange(),b.moveStart("character",-a.value.length),b.moveStart("character",d),b.moveEnd("character",
0),b.select()):"ff"==e&&(a.selectionStart=d,a.selectionEnd=d);a.scrollTop=c;$(a).change()}}function workflowV2FlashScreen(){"1"==variable.migrationScreenUsagemode&&"1"==variable.migrationScreenVersion?wfV2UpgradeFlashScreen():("2"==variable.migrationScreenUsagemode||"true"==variable.wfv2migrationForceful)&&freeUserSplashScreen()}
function wfV2UpgradeFlashScreen(){iCustomizePopup({body:showWFUpgradeFlashScreenPopup()},function(a){$(a.container.prevObject).addClass("zc-dem-workflow-update");$("#upgradeWorkflow").click(function(b){window.open("/userhome/"+ZCGlobal.scopeName+"/dashboard/setup#manageUpdates","_blank");localStorage.setItem("isShowPendingTab","true");a.close()});markWFV2PopupAsSeen("upgrade")})}
function freeUserSplashScreen(){iCustomizePopup({body:freeUserSplashScreenPopup(),title:i18n["zc.workflow.migration.freeuser.splash.title"],containerClass:"zc-dem-migration-freeuser-popup",buttons:[{name:ZCButton.VIEWUSERGUIDE,type:ZCModalConstants.MODAL_SUBMIT}],success:function(){$(".zc-dbemcommon-close").trigger("click");window.open("https://www.zoho.com/creator/newhelp/new-workflows/understand-form-workflow.html","_blank")}},function(a){$(a.parentContainer).addClass("zc-dem-freeuser-ftr-text");
"2"==variable.migrationScreenUsagemode?markWFV2PopupAsSeen("account"):"true"==variable.wfv2migrationForceful&&markWFV2PopupAsSeen("app")})}function markWFV2PopupAsSeen(a){var b={};b.popupType=a;b.appId=variable.applicationId;b[variable.csrfParam]=variable.csrfToken;$.ajax({method:"POST",data:b,url:"/userhome/"+sharedBy+"/setup/markWFV2MigrationPopupStatus"})}
function showWFUpgradeFlashScreenPopup(){return $("\x3cdiv/\x3e").html('\x3cdiv class\x3d"zc-dem-wf-update-content"\x3e\x3cdiv class\x3d"zc-dem-wf-update-title"\x3e'+i18n["zc.workflow.migration.splash.title"]+"\x3cspan\x3e"+i18n["zc.workflow.migration.splash.message"]+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-wf-update-icon"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-wf-update-list"\x3e\x3cspan\x3e'+i18n["zc.workflow.migration.splash.body.title"]+'\x3c/span\x3e\x3cul\x3e\x3cli\x3e\x3ci class\x3d"zc-li-solid ui-1-check-circle-08"\x3e\x3c/i\x3e'+
i18n["zc.workflow.migration.splash.body.events"]+'\x3c/li\x3e\x3cli\x3e\x3ci class\x3d"zc-li-solid ui-1-check-circle-08"\x3e\x3c/i\x3e'+i18n["zc.workflow.migration.splash.body.formevent"]+'\x3c/li\x3e\x3cli\x3e\x3ci class\x3d"zc-li-solid ui-1-check-circle-08"\x3e\x3c/i\x3e'+i18n["zc.workflow.migration.splash.body.navigation"]+'\x3c/li\x3e\x3cli\x3e\x3ci class\x3d"zc-li-solid ui-1-check-circle-08"\x3e\x3c/i\x3e'+i18n["zc.workflow.migration.splash.body.default"]+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-wf-update-btn"\x3e\x3cbutton  id\x3d"upgradeWorkflow" class\x3d"zc-dem-btn zc-dem-border-radius-2 zc-dem-primarybtn zc-dem-box-sizing"\x3e'+
i18n["zc.workflow.migration.splash.button"]+'\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-wf-update-rightside"\x3e\x3cdiv class\x3d"zc-dem-wf-existing-list"\x3e\x3cspan\x3e'+i18n["zc.workflow.migration.splash.note.title"]+"\x3c/span\x3e\x3cul\x3e\x3cli\x3e\x3ci\x3e\x3c/i\x3e"+i18n["zc.workflow.migration.splash.note.update"]+"\x3c/li\x3e\x3cli\x3e\x3ci\x3e\x3c/i\x3e"+i18n["zc.workflow.migration.splash.note.setup"]+"\x3c/li\x3e\x3cli\x3e\x3ci\x3e\x3c/i\x3e"+i18n["zc.workflow.migration.splash.note.date.reached"]+
"\x3c/li\x3e\x3cli\x3e\x3ci\x3e\x3c/i\x3e"+i18n["zc.workflow.migration.splash.note.visit"]+"\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")}
function freeUserSplashScreenPopup(){return $("\x3cdiv/\x3e").html('\x3cdiv class\x3d"zc-dem-dialogue-content zc-dem-hideicon"\x3e\x3ci class\x3d""\x3e\x3c/i\x3e        \x3cdiv\x3e\n            \x3cdiv\x3e\n               \x3ci class\x3d"zc-dem-migration-freeuser-icon"\x3e\x3c/i\x3e\n                \x3cdiv id\x3d"popup-info-text" class\x3d"zc-dem-migration-freeuser-text"\x3e                '+i18n["zc.workflow.migration.freeuser.splash.description"]+"\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e")}
;const REGEX_TYPE={TRANSITION_DISPLAYNAME:"transition_displayname",SAFE_DISPLAYNAME:"safeDisplayName",EMAIL_ADDRESS:"emailAddress",FIELD_NAME:"fieldName"};
class RegexUtil{static get REGEX_EXP(){return{transition_displayname:new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\s\\ \\*\\.\\+\\,\\'\\@\\/\\\\!\\:\\|\\~\\\x26]+$","i"),safeDisplayName:new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\s\\ \\*\\@\\/\\\\!\\:\\|\\~\\\x26]+$","i"),emailAddress:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,15})+$/,fieldName:new XRegExp("^[\\$]{1}[\\{]{1}[A-Za-z0-9\\_\\-\\.]+[\\}]{1}$","i")}}static get ERROR_MESSAGES(){return{transition_displayname:i18n["zc.workflow.builder.blueprint.specialcharacters"],
safeDisplayName:i18n["zc.settings.builder.name.regexfailure"],emailAddress:"Enter a valid from Email Address"}}static _validateAndShowErr(a,b,c){if(!this.REGEX_EXP[c].test(a.val().trim()))return b&&a.showError(this.ERROR_MESSAGES[c]),!0}static validateRegex(a,b){return this.REGEX_EXP[b].test(a.trim())}static validateDispName(){return this._validateAndShowErr(...arguments,REGEX_TYPE.TRANSITION_DISPLAYNAME)}static validateSafeDispName(){return this._validateAndShowErr(...arguments,REGEX_TYPE.SAFE_DISPLAYNAME)}static validateEmailAddress(){return this._validateAndShowErr(...arguments,
REGEX_TYPE.EMAIL_ADDRESS)}};$.fn.zclist=function(a,b){let c=$(this),d=c.data("zclist");if(b)d.destroy(),c.removeData("zclist");else return d||(d=new ZCList(c,a),c.data("zclist",d)),d};
class ZCList{get DEFAULTS(){return{searchBy:["text"],dataMapping:{text:"text",desc:"desc",id:"id"},values:[],minCharLength:3,lazyLoading:!1,resultsPerView:500,multiple:!1,noResultsMsg:i18n["zc.workflow.builder.blueprint.nomatches"],hideOnSelect:!1}}get objectTypeOptions(){return["dataMapping"]}constructor(a,b){this.element=a;this.orgOptions=b;this.options=$.extend({},this.DEFAULTS,b);this._selectedValues=[];this._ajaxData={};this._init()}_init(){let a=this.options,b;a.values.length&&this.setValues(a.values,
!0);a.searchField&&this._bindSearchFldEvents();a.data&&a.lazyLoading&&(b=this._getResultsToBeShown(a.data));this._buildList(b)}_bindSearchFldEvents(){let a=this.options,b=a.searchField,c=this;b.on("keyup",function(){clearTimeout(c._searchTimeout);c._searchTimeout=setTimeout(c._handleSearch.bind(c),300)});b.on("input change",function(){let d=b.val().trim();c._doSearch=d.length>=a.minCharLength||!d.length;setTimeout(function(){c._doSearch?b.parent().parent().clearError():b.showError("Please enter "+
a.minCharLength+" or more characters to search");b.focus()},0)})}_handleSearch(a){let b=this.options,c=this.element;void 0===a&&(a=b.searchField.val().trim());if(this._doSearch&&this._prevQuery!==a){c.showLoading();let d=this,e=function(b){d._data=b;d._constructList();c.hideLoading();d._prevQuery=a};if(b.ajax&&a&&this._ajaxData.moreResults)this._fetchData(e,{type:"search",query:a});else{let c=b.searchBy,d=c.length;e((b.ajax?this._ajaxData.data:b.data).filter((b)=>{for(let e=0;e<d;e++)if(-1<b[c[e]].indexOf(a))return!0}))}}}_buildList(a){let b=
this.options;if(b.ajax){let c=this,d=function(a){c._data=a;c._constructList()};a?d(b.lazyLoading?this._getResultsToBeShown(a):a):this._fetchData(d)}else this._data=a||b.data,this._constructList()}_constructListItem(a){var b=this.options.dataMapping;let c=this._getId(a,a[b.text]||a),d="string"===typeof a?a:a[b.id],e=this._isSelected(a);b=$(`\x3cli id\x3d"${c}" class\x3d"${e?"zclist-item-selected":""}" data-uniqueval\x3d"${d}"\x3e\n                        \x3cspan class\x3d"zc-bp-list-text"\x3e${ZSEC.Encoder.encodeForHTML(a[b.text])||
ZSEC.Encoder.encodeForHTML(a)}\x3c/span\x3e\n                        ${a[b.desc]?`\x3cspan class\x3d"zc-bp-list-desc"\x3e${ZSEC.Encoder.encodeForHTML(a[b.desc])}\x3c/span\x3e`:""}\n                    \x3c/li\x3e`);b[0].itemData={data:a,id:c};this.options.hideOnSelect&&e&&(this._hiddenDataCount++,b.hide());return b}_isSelected(a){let b="string"===typeof a,c=this.options.dataMapping;for(let e=0,f=this._selectedValues.length;e<f;e++){var d=this._selectedValues[e];if(d=b?d===a:d===a[c.id]+"")break}return d}_getId(a,
b){b=b.replace(" ","_");return a[this.options.dataMapping.id]||b+"-"+Math.round(1E8*Math.random())}_constructList(){this._hiddenDataCount=0;this._removePrevList();let a=this._listContainer||$("\x3cdiv class\x3d'zclist-container'/\x3e"),b=$("\x3cul/\x3e"),c=this._data;c.length?c.forEach((a)=>{b.append(this._constructListItem(a))}):this._showNoResults(a);this._list=b;a.append(b);this._listContainer||(this._listContainer=a,this.element.append(a));this.show();this._addTooltip();this._bindEvents();this._updateNoResultsOnAllDataHide();
this._prevQuery=void 0}_showNoResults(a){if(!a.find(".zclist-noresults").length){let b=$(`\x3cdiv class\x3d"zclist-noresults"\x3e${this.options.noResultsMsg}\x3c/div\x3e`);a.append(b)}}_addTooltip(a){let b=this._listContainer.find("span.zc-bp-list-text"),c;a||(a=$("\x3cli\x3e\x3cspan id\x3d'calc-span-width' class\x3d'zc-bp-list-text'/\x3e\x3c/li\x3e"),this._list.append(a),c=this._list.find("#calc-span-width")[0].scrollWidth,a.remove());for(let d=0,e=b.length;d<e;d++)a=b[d],a.scrollWidth>c&&$(a).attr("title",
a.innerText)}_removePrevList(){this._list&&this._list.length&&this._list.remove();this.element.find(".zclist-noresults").remove()}_getSelectorForItemSelection(){return"li:not(.zclist-item-selected)"}_bindEvents(){this._list.off("click").on("click",this._getSelectorForItemSelection(),this._handleItemClick.bind(this));if(this.options.lazyLoading)this._list.off("scroll").on("scroll",this._scrollHandler.bind(this))}_scrollHandler(){var a=this._list;if(a[0].scrollHeight===a[0].scrollTop+a.innerHeight()&&
this._cacheData)if(this._cacheData.length!==this._lastLiIndex)this.element.showLoading(),this._loadMoreResults(),this.element.hideLoading();else if(this._moreResults){let b=this;a=this.options.searchField?this.options.searchField.val().trim():"";this.element.showLoading();this._fetchData(function(a){b._cacheData=[...b._cacheData,...a];b._loadMoreResults();b.element.hideLoading()},{type:"moreResults",query:a})}}_loadMoreResults(){var a=this._cacheData.length;let b=this._lastLiIndex,c=b+this.options.resultsPerView;
c=c>a?a:c;a=this._cacheData.slice(b,c);this._lastLiIndex=c;this._data=[...this._data,...a];let d=$("\x3cul\x3e");a.forEach((a)=>{d.append(this._constructListItem(a))});this._list.append(d);d.children().unwrap();d.remove();this._addTooltip();this._bindEvents()}_updateSelectedValues(a,b){Array.isArray(a)||(a=[a]);if(this.options.multiple){let c=this._selectedValues;b?this._selectedValues=c.filter((b)=>0>a.indexOf(b)):c.push(...a)}else this._selectedValues=b?[]:a;this.options.values=[...this._selectedValues]}_selectItem(a,
b){let c=a[0].itemData.data,d=this.options.dataMapping;c=("string"===typeof c?c:c[d.id])+"";!b&&this._updateSelectedValues(c);a.addClass("zclist-item-selected");this.options.hideOnSelect&&(this._hiddenDataCount++,a.hide())}_getSelectedValues(){return{selectedValues:this._selectedValues}}_handleItemClick(a){let b=this.options;a=$(a.target).closest("li");let c;this._prevSelectedItem=c=this._selectedItem;this._selectedItem=a;this._selectItem(a);!b.multiple&&c&&c.length&&(c.removeClass("zclist-item-selected"),
b.hideOnSelect&&c.show());a=$.extend({selectedli:a,prevSelectedli:c,itemData:a[0].itemData},this._getSelectedValues());b.onselect&&b.onselect(a);this._triggerChange(!0);this._updateNoResultsOnAllDataHide()}_updateNoResultsOnAllDataHide(){this.options.hideOnSelect&&(this._hiddenDataCount===this._data.length?this._showNoResults(this._listContainer):this._listContainer.find(".zclist-noresults").remove())}_fetchData(a,b={}){this._triggerBeforeReqCallBk(b);let c=this.options.ajax,d=this;this._isMoreResultsReq=
"moreResults"===b.type;this._prevRequest=$.ajax({url:c.url,data:c.data,type:"GET",beforeSend:function(){d._abortPrevReq()},success:function(){let e=c.success(...arguments);d._moreResults=e.moreResults;e=e.results;b.query||(d._ajaxData.moreResults=d._moreResults,d._isMoreResultsReq?d._ajaxData.data.push(...e):d._ajaxData.data=[...e]);d.options.lazyLoading&&!d._isMoreResultsReq&&(e=d._getResultsToBeShown(e));a(e)},error:function(){d.element.hideLoading()}})}_triggerBeforeReqCallBk(a){this.options.onbeforeajaxreq&&
this.options.onbeforeajaxreq($.extend({options:this.options},a))}_getResultsToBeShown(a){let b=a.length,c=this.options.resultsPerView;this._cacheData=[...a];b>c?(this._lastLiIndex=c,a=a.slice(0,c)):this._lastLiIndex=b;return a}_abortPrevReq(){this._prevRequest&&(this._prevRequest.abort(),this._prevRequest=void 0)}_clearSelection(){this._selectedValues.forEach((a)=>{a=this._list.find("li[data-uniqueval\x3d"+a+"]");a.length&&(a.removeClass("zclist-item-selected"),this.options.hideOnSelect&&a.show())});
this._selectedValues=[];this.options.values=[]}_triggerChange(a){this.options.onchange&&this.options.onchange($.extend({manualChange:a},this._getSelectedValues()))}updateData(a,b){let c=this.options,d=this.orgOptions,e;this._abortPrevReq();this._clearSelection();this._cacheData=void 0;this._ajaxData={};a.ajax?(b&&(this._ajaxData=b,e=[...b.data]),c.ajax=d.ajax=a.ajax,c.data=d.data=void 0):(c.data=d.data=a.data,c.ajax=d.ajax=void 0,c.lazyLoading&&(e=this._getResultsToBeShown(c.data)));this._buildList(e)}show(){this.options.onbeforeshow&&
this.options.onbeforeshow();this._listContainer.show()}hide(){this._listContainer.hide()}removeValue(a){this._updateSelectedValues(a,!0);let b=this._list.find("li.zclist-item-selected").filter((b,d)=>a===$(d).attr("data-uniqueval"));b.removeClass("zclist-item-selected");this.options.hideOnSelect&&(this._hiddenDataCount--,b.show());this._triggerChange();this._updateNoResultsOnAllDataHide()}setValues(a,b){this._clearSelection();this._updateSelectedValues(a);if(!b){b=this._list.find(this._getSelectorForItemSelection()).filter((b,
d)=>-1<a.indexOf($(d).attr("data-uniqueval")));for(let a=0,d=b.length;a<d;a++)this._selectItem($(b[a]),!0);this._triggerChange();this._updateNoResultsOnAllDataHide()}return a}getValue(){return this._selectedValues}setOptions(a){for(let b in a){let c=a[b];-1<this.objectTypeOptions.indexOf(b)&&(c=$.extend(!0,{},this.DEFAULTS[b],c));"values"===b&&c.length&&(c=this.setValues(c));this.orgOptions[b]=this.options[b]=c}}destroy(){this._abortPrevReq();this._removePrevList()}};var WorkflowConstants=new function(){this.FORM_WF="FormWf";this.APPROVAL_WF="ApprovalWf";this.SCHEDULE_WF="ScheduledWf";this.BUTTON_WF="ButtonWf";this.PAYMENT_WF="PaymentWf";this.CUSTOM_FUNCTIONS="CustomFunction";this.BluePrint="BluePrint";this.BLUEPRINT="Blueprint";this.FORM_WORKFLOW="Form_Workflow";this.APPROVAL="Approval";this.SCHEDULE="Schedule";this.PAYMENT="Payment";this.REPORT_WORKFLOW="Report_Workflow";this.FUNCTION="Function";this.WF_NAME="WFName";this.WF_LINK_NAME="WFLinkName";this.FORM_NAME=
"formName";this.FORM_LINK_NAME="formLinkName";this.FIELD_NAME="fieldName";this.FIELD_LINK_NAME="fieldLinkName";this.TYPE="type";this.EVENT_TYPE="eventType";this.SUB_EVENT_TYPE="subEventType";this.SUB_FIELD_NAME="subFieldName";this.SUB_FIELD_LINK_NAME="subFieldLinkName";this.BUTTON_NAME="buttonName";this.BUTTON_LINK_NAME="buttonLinkName";this.EVENT_DATE="eventDate";this.EVENT_TIME="eventTime";this.HIDE_FIELD=1;this.DISABLE_FIELD=2;this.ENABLE_FIELD=3;this.SHOW_FIELD=4;this.SET_FIELD=14;this.WORKFLOW_DISABLED=
0;this.WORKFLOW_ENABLED=1;this.ENABLED_STATUS_IN_PROGRESS=2;this.DISABLED_STATUS_IN_PROGRESS=3;this.SYSTEM_DISABLE=8;this.scriptVsSubEvents={};this.scriptVsSubEvents[Constants.ONLOAD]="onload";this.scriptVsSubEvents[Constants.ONVALIDATE]="onvalidate";this.scriptVsSubEvents[Constants.ONSUCCESS]="onsuccess";this.scriptVsSubEvents[Constants.ONUSERINPUT]="onuserinput";this.scriptVsSubEvents[Constants.ONUPDATE]="onupdate";this.scriptVsSubEvents[Constants.ONADDROW]="onaddrow";this.scriptVsSubEvents[Constants.ONDELETEROW]=
"ondeleterow";this.PHONE_NUM_REGEX=new RegExp(/^[+]?([ ]*\d[ ]*)+$/);this.ONE_LINER_TEXT={"1_1":i18n["zc.workflow.builder.createworkflow.fieldrules.definition"],"1_2":i18n["zc.workflow.builder.createworkflow.loadofform.definition"],"1_3":i18n["zc.workflow.builder.createworkflow.validationonformsubmission.definition"],"1_4":i18n["zc.workflow.builder.createworkflow.successfulformsubmission.definition"],"1_5":i18n["zc.workflow.builder.createworkflow.userinputoffield.definition"],"1_6":i18n["zc.workflow.builder.createworkflow.updateoffield.definition"],
"1_7":i18n["zc.workflow.builder.createworkflow.subformonaddrow.definition"],"1_8":i18n["zc.workflow.builder.createworkflow.subformonadeleterow.definition"],"3_0":i18n["zc.workflow.builder.schedule.formschedule.actionsbasedondateandtimefield"],"4_0":i18n["zc.workflow.builder.dashboard.customschedule.onliner"],"5_0":i18n["zc.workflow.builder.customaction.actionsonclickofmenu"],"6_51":i18n["zc.workflow.builder.createworkflow.statelessform.clickofbutton.definition"],"7_0":i18n["zc.workflow.builder.payment.afterformsubmission.actionsafterpayment"],
"1_9":i18n["zc.workflow.builder.createworkflow.recorddeleted.delete.definition"],"1_10":i18n["zc.workflow.builder.createworkflow.recorddeleted.success.definition"]};this.HELP_DOC_LINK={"1_1":"https://www.zoho.com/creator/newhelp/new-workflows/understand-field-rules.html","1_2":"https://www.zoho.com/creator/newhelp/new-workflows/understand-on-load.html","1_3":"https://www.zoho.com/creator/newhelp/new-workflows/understand-on-validate.html","1_4":"https://www.zoho.com/creator/newhelp/new-workflows/understand-on-success.html",
"1_5":"https://www.zoho.com/creator/newhelp/new-workflows/understand-on-user-input.html","1_6":"https://www.zoho.com/creator/newhelp/new-workflows/understand-update-of-a-field.html","1_7":"https://www.zoho.com/creator/newhelp/new-workflows/understand-add-row-for-subform.html","1_8":"https://www.zoho.com/creator/newhelp/new-workflows/understand-delete-row-for-subform.html","3_0":"https://www.zoho.com/creator/newhelp/new-workflows/understand-schedules.html","4_0":"https://www.zoho.com/creator/newhelp/new-workflows/understand-schedules.html",
"5_0":"https://www.zoho.com/creator/newhelp/new-workflows/understand-report-workflows.html","6_51":"https://www.zoho.com/creator/newhelp/new-workflows/understand-stateless-form-actions.html","1_9":"https://www.zoho.com/creator/newhelp/new-workflows/understand-validation-record-deletion.html","1_10":"https://www.zoho.com/creator/newhelp/new-workflows/successful-record-deletion.html","7_0":"https://www.zoho.com/creator/newhelp/new-workflows/understand-payment-workflow.html"};this.SUB_TYPE_NAME_FIELDS=
{5:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onuserinput.field"],6:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onupdate.field"],7:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onaddrow.row"],8:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.ondeleterow.row"],51:i18n["zc.workflow.builder.createworkflow.dashboard.clickofbutton.button"]};this.unverifiedEmailErrorText={ADMIN_ERROR_TEXT:i18n["zc.workflow.builder.unverfiedemail.sendmailtaskerror"],
DEVELOPER_ERROR_TEXT:i18n["zc.workflow.builder.unverfiedemail.sendmailtaskerror.popupfordeveloper"],CONFIRM_EMAIL_ACCOUNT:i18n["zc.workflow.builder.confirmemail.title"],OK:i18n["zc.workflow.builder.confirmemail.okbutton"],PROCEED_TO_ACCOUNT:i18n["zc.settings.builder.changetoaccount"]}},WorkflowUtil=new function(){this.getComponentCategory=function(a){switch(a){case Constants.FORM_WF:case Constants.STATELESS_BUTTON_WF:return WorkflowConstants.FORM_WORKFLOW;case Constants.APPROVAL_WF:return WorkflowConstants.APPROVAL;
case Constants.FORM_SCHEDULE_WF:case Constants.DATE_SCHEDULE_WF:return WorkflowConstants.SCHEDULE;case Constants.CUSTOM_WF:return WorkflowConstants.REPORT_WORKFLOW;case Constants.PAYMENT_WF:return WorkflowConstants.PAYMENT;default:return""}};this.getEventTypeNames=function(a){switch(a){case Constants.CREATED:return i18n["zc.onboard.workflow.created"];case Constants.EDITED:return i18n["zc.onboard.workflow.edited"];case Constants.DELETED:return i18n["zc.onboard.workflow.deleted"];case Constants.CREATED_EDITED:return i18n["zc.workflow.builder.createworkflow.dashboard.eventtype.editedorcreated"];
case Constants.STATELESS_BUTTON:return i18n["zc.workflowbuilder.buttonaction"]}};this.getSubTypeNames=function(a,b){switch(b){case Constants.AUTOMATION:return i18n["zc.workflow.builder.createworkflow.triggerworflow.fieldrules"];case Constants.ONLOAD:return i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onload"];case Constants.ONVALIDATE:return a==Constants.DELETED?i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.recorddeletion"]:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onvalidate"];
case Constants.ONSUCCESS:return a==Constants.DELETED?i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.successfuldeletion"]:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onsuccesst"];case Constants.ONUSERINPUT:return i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onuserinput"];case Constants.ONUPDATE:return i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onupdate"];case Constants.ONADDROW:return i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onaddrow"];
case Constants.ONDELETEROW:return i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.ondeleterow"];case Constants.CLICKOFBUTTON:return i18n["zc.workflow.builder.createworkflow.dashboard.clickofbutton"]}};this.getAccordionOneLiner=function(a){switch(a){case Constants.FORM_SCHEDULE_WF:return i18n["zc.workflow.builder.dashboard.accordion.formschedule.oneliner"];case Constants.DATE_SCHEDULE_WF:return i18n["zc.workflow.builder.dashboard.accordion.customschedule.oneliner"];case Constants.APPROVAL_WF:return i18n["zc.workflow.builder.dashboard.accordion.approval.oneliner"];
case Constants.PAYMENT_WF:return i18n["zc.workflow.builder.dashboard.accordion.payment.oneliner"];case Constants.CUSTOM_WF:return i18n["zc.workflow.builder.dashboard.accordion.reportaction.oneliner"];case Constants.BLUEPRINT:return i18n["zc.workflow.builder.blueprint.onformsubmit"]}}};var Shortcut=function(){$(window).on("keydown",function(a){var b=a.keyCode;(b==Keys.ESCAPE.code||b==Keys.ENTER.code||void 0==a.target||a.target.constructor===Window||"INPUT"!=a.target.nodeName&&"TEXTAREA"!=a.target.nodeName&&"true"!=a.target.getAttribute("contenteditable"))&&void 0!=Shortcut.KEY_CONTEXT&&void 0!=Shortcut.CONTEXT_POOL[Shortcut.KEY_CONTEXT]&&("undefined"!=typeof zgssearch&&zgssearch.isGSOpened||(Shortcut.isEnabled()||Shortcut.isPopupContext()||void 0!=Shortcut.COMMON_POOL[b])&&Shortcut.CONTEXT_POOL[Shortcut.KEY_CONTEXT][Shortcut.CONTEXT_POOL[Shortcut.KEY_CONTEXT].length-
1].fire(a))});return function(a){this.context=a;this.reverseContext=void 0;var b={};this.getContextPool=function(){return Shortcut.CONTEXT_POOL};this.getFunctionPool=function(){return b};this.getContext=function(a){return Shortcut.CONTEXT_POOL[a][Shortcut.CONTEXT_POOL[a].length-1]};this.hasKeyBound=function(a){return void 0!=b[a]};this.checkAndAssign=function(a,b){!this.hasKeyBound(a)&&this.assign(a,b)};this.addEvent=function(a,c){var d="";if(a instanceof Array)for(var e in a)d+=a[e];else d=a;void 0==
b[d]&&(b[d]=[]);b[d].push(c)};this.assignEvent=function(a,c){var d="";if(a instanceof Array)for(var e in a)d+=a[e];else d=a;b[d]=[c]};this.reverse=function(a){void 0!=b[a]&&b[a].reverse()};var c;this.fire=function(a){this.EVENT=a;var d=(a.metaKey||a.ctrlKey?String(Keys.COMMAND.code):a.altKey?String(Keys.ALT.code):a.shiftKey?String(Keys.SHIFT.code):"")+a.keyCode;if(void 0==b[d]){if(void 0!=Shortcut.COMMON_POOL[d])Shortcut.COMMON_POOL[d](this);return!1}if(c!=d)for(var f in b[d])b[d][f].isExec=!1;var g=
!1;for(f in b[d])if(!b[d][f].isExec){g=!0;b[d][f].isExec=!0;b[d][f](this);break}if(!g){for(f in b[d])b[d][f].isExec=!1;this.fire(a)}c=d;this.revertCode==d&&void 0!=this.reverseContext&&(Shortcut.KEY_CONTEXT=this.reverseContext);this.context==KeyContexts.POPUP.ALERT?a.preventDefault():a.keyCode!=Keys.ENTER.code&&a.preventDefault()};this.register=function(a,b,c){c&&this.reverse(a);this.addEvent(a,b);c&&this.reverse(a);document.activeElement&&document.activeElement.blur()};this.assign=function(a,b){this.assignEvent(a,
b);document.activeElement&&document.activeElement.blur()};this.setReverseContext=function(a,b){this.revertCode=a;this.reverseContext=b}}}();Shortcut.COMMON_POOL={};Shortcut.CONTEXT_POOL={};Shortcut.KEY_CONTEXT=void 0;Shortcut.CONTEXT_STACK=[];Shortcut.SUB_CONTEXT_STACK=[];Shortcut.STOREKEY="zcshortcut";
Shortcut.addContext=function(a){var b=!1;void 0==Shortcut.CONTEXT_POOL[a]&&(Shortcut.CONTEXT_POOL[a]=[],b=!0);return Shortcut.isPopupContext()||b?(b=new Shortcut(a),Shortcut.CONTEXT_POOL[a].push(b),b):Shortcut.CONTEXT_POOL[a][0]};Shortcut.dispatch=function(a,b,c){a.getContext(b).setReverseContext(c,a.context);Shortcut.KEY_CONTEXT=b;a=jQuery.Event("keydown",{keyCode:a.EVENT.keyCode});$(window).trigger(a)};
Shortcut.bindGlobal=function(a,b){var c="";if(a instanceof Array)for(var d in a)c+=a[d].code;else c=a.code;Shortcut.COMMON_POOL[c]=b};Shortcut.strictDisabled=!1;Shortcut.isEnabled=function(){return Shortcut.strictDisabled?!1:ZCWebStorage.hasItem(Shortcut.STOREKEY,"1")};Shortcut.disable=function(a){a?Shortcut.strictDisabled=!0:ZCWebStorage.setItem(Shortcut.STOREKEY,"0")};Shortcut.enable=function(a){a?Shortcut.strictDisabled=!1:ZCWebStorage.setItem(Shortcut.STOREKEY,"1")};
Shortcut.pushContext=function(a){var b=KeyUtil.getKeyContextByValue(a);if(void 0!=b){var c=KeyContexts[b[0]];var d="POPUP"===b[0];if(d||c.constructor!==Object)c=a;else{c=c.home;var e=KeyContexts[b[0]][b[1]]}}b=Shortcut.CONTEXT_STACK[Shortcut.CONTEXT_STACK.length-1];if(d||!b||b!==c)Shortcut.CONTEXT_STACK.push(c),Shortcut.SUB_CONTEXT_STACK=[],Shortcut.KEY_CONTEXT=c;!d&&b&&b===c&&void 0!=e&&c!=e&&(d=!0,Shortcut.SUB_CONTEXT_STACK.length&&(b=Shortcut.SUB_CONTEXT_STACK[Shortcut.SUB_CONTEXT_STACK.length-
1])&&b===e&&(d=!1),d&&(Shortcut.SUB_CONTEXT_STACK.push(e),Shortcut.KEY_CONTEXT=e));return Shortcut.addContext(a)};Shortcut.popContext=function(a){var b=Shortcut.topContext(),c=KeyUtil.getKeyContextByValue(b),d=!1;void 0!=c&&(d="POPUP"===c[0]);Shortcut.isPopupContext()&&Shortcut.CONTEXT_POOL[b].pop();a||d?(Shortcut.CONTEXT_STACK.pop(),d||(Shortcut.SUB_CONTEXT_STACK=[])):Shortcut.SUB_CONTEXT_STACK.pop();Shortcut.KEY_CONTEXT=Shortcut.topContext()};
Shortcut.emptySubContext=function(){Shortcut.SUB_CONTEXT_STACK=[];Shortcut.KEY_CONTEXT=Shortcut.topContext()};Shortcut.topContext=function(){return Shortcut.SUB_CONTEXT_STACK.length?Shortcut.SUB_CONTEXT_STACK[Shortcut.SUB_CONTEXT_STACK.length-1]:Shortcut.CONTEXT_STACK.length&&Shortcut.CONTEXT_STACK[Shortcut.CONTEXT_STACK.length-1]};
Shortcut.isPopupContext=function(){var a=!1,b=Shortcut.CONTEXT_STACK[Shortcut.CONTEXT_STACK.length-1];if(b)for(var c in KeyContexts.POPUP)if(b===KeyContexts.POPUP[c]){a=!0;break}return a};var KeyMap={};
function Context(a){this.currContext={};if(!(this instanceof Context))return new Context(a);this.context;this.subContext;a=KeyUtil.getKeyContextByValue(a);void 0!=a&&(this.context=a[0],this.subContext=a[1]);void 0==KeyMap[this.context]&&(KeyMap[this.context]={});void 0!=this.subContext&&void 0==KeyMap[this.context][this.subContext]&&(KeyMap[this.context][this.subContext]={});this.currContext=void 0!=this.subContext?KeyMap[this.context][this.subContext]:KeyMap[this.context];this.addKey=function(a,
d,e,f,g){if(a.constructor===Key)var c=a.code;else if(a.constructor===Array)for(var k in a)c=void 0!=c?c+""+a[k].code:a[k].code;else c=a,a=KeyUtil.getKeyDataByValue(a);-1==f&&(f=void 0);this.currContext[c]=(new b(e)).assignCallback(function(b){KeyUtil.showKeyOverlay(a);d(b)}).assignIsStack(f).setKeys(a).setSeqNo(void 0!=g?g:Object.keys(this.currContext).length)};this.addKeyConfig=function(a){for(var c=0;c<a.length;c++){var e=a[c].keyCode,f=a[c].desc;if(e.constructor===Key)var g=e.code;else if(e.constructor===
Array)for(var h in e)g=void 0!=g?g+""+e[h].code:e[h].code;else g=e,e=KeyUtil.getKeyDataByValue(e);this.currContext[g]=(new b(f)).setKeys(e).setSeqNo(Object.keys(this.currContext).length)}};this.getKeyConfig=function(a){for(var c={},e=0;e<a.length;e++){var f=a[e].keyCode,g=a[e].desc,h=a[e].seqNo;if(f.constructor===Key)var k=f.code;else if(f.constructor===Array)for(var l in f)k=void 0!=k?k+""+f[l].code:f[l].code;else k=f,f=KeyUtil.getKeyDataByValue(f);c[k]=(new b(g)).setKeys(f).setSeqNo(void 0!=h?h:
Object.keys(c).length)}return c};this.getKeyMapData=function(a){return a.constructor===Key?this.currContext[a.code]:this.currContext[a]};var b=function(a){this.desc=a;this.callback=[];this.isStack=!1;this.keys=[];this.seqNo=1;this.setSeqNo=function(a){this.seqNo=a;return this};this.getSeqNo=function(){return this.seqNo};this.assignIsStack=function(a){void 0!=a&&(this.isStack=a);return this};this.setKeys=function(a){a.constructor===Array?this.keys=a:this.keys.push(a);return this};this.getKeyContent=
function(){var a=[],b;for(b in this.keys)0<b&&a.push($('\x3cspan class\x3d"zc-key-sep"/\x3e').text("+")),a.push($('\x3cspan class\x3d"zc-key"/\x3e').html(this.keys[b].getData()));return a};this.getIsStack=function(){return this.isStack};this.assignDesc=function(a){this.desc=a;return this};this.getDesc=function(){return this.desc};this.assignCallback=function(a){a.constructor===Array?this.callback=a:this.callback.push(a);return this};this.addCallback=function(a){this.callback.push(a)};this.getCallback=
function(){return this.callback}};return this}
var Keys={},Key=function(a,b,c,d){if(!(this instanceof Key))return new Key(a,b,c,d);var e=-1<navigator.platform.indexOf("Mac");navigator.platform.indexOf("Win");this.code=b;this.label=void 0!=c&&c.constructor===Array?e?c[0]:c[1]:c;this.html=void 0!=d&&c.constructor===Array?e?d[0]:d[1]:d;Keys[a]=this;this.getCode=function(){return this.code};this.setLabel=function(a){this.label=a};this.getLabel=function(){return this.label};this.setHtml=function(a){this.html=a};this.getHtml=function(){return this.html};
this.getData=function(){return void 0!=this.getHtml()?this.getHtml():this.getLabel()}};Key.prototype.constructor=Key;Key("BACK",8,[i18n["zc.appedit.key.delete"],i18n["zc.appedit.key.back"]]);Key("TAB",9,i18n["zc.appedit.key.tab"]);Key("ENTER",13,i18n["zc.appedit.key.enter"]);Key("SHIFT",16,i18n["zc.appedit.key.shift"]);Key("CTRL",17,i18n["zc.appedit.key.ctrl"]);Key("ALT",18,[i18n["zc.appedit.key.opt"],i18n["zc.appedit.key.alt"]]);
Key("COMMAND",91,[i18n["zc.appedit.key.cmd"],i18n["zc.appedit.key.ctrl"]],["\x3ci class\x3d'zc-li-outline design-command' style\x3d'font-weight:bold;'\x3e\x3c/i\x3e"]);Key("EQUALS",187,i18n["zc.appedit.key.plus"]);Key("SPACE",32,i18n["zc.appedit.key.space"]);Key("LEFT",37,i18n["zc.appedit.key.left"],["\x3ci class\x3d'fa fa-caret-left'\x3e\x3c/i\x3e"]);Key("UP",38,i18n["zc.appedit.key.up"],["\x3ci class\x3d'fa fa-caret-up'\x3e\x3c/i\x3e"]);Key("RIGHT",39,i18n["zc.appedit.key.right"],["\x3ci class\x3d'fa fa-caret-right'\x3e\x3c/i\x3e"]);
Key("DOWN",40,i18n["zc.appedit.key.down"],["\x3ci class\x3d'fa fa-caret-down'\x3e\x3c/i\x3e"]);Key("ESCAPE",27,i18n["zc.appedit.key.esc"]);Key("DELETE",46,i18n["delete"]);Key("S",83,"S");Key("DOT",110,".");Key("F3",114,"F3");Key("COMMA",188,",");Key("SLASH",191,"/");for(var i=65;90>=i;i++){var ch=String.fromCharCode(i),i18nKey="zc.appedit.key.alpha_"+ch.toLowerCase();Key(ch,i,i18n[i18nKey])}
var AppContexts={},ContextHome=function(a,b,c){this.context=a;this.home=b;this.desc=c;if(!(this instanceof ContextHome))return new ContextHome(a,b,c);AppContexts[a]=this},Callback={},KeyCallBack=function(a,b){Callback[a]=b},KeyUtil=function(){};KeyUtil.getKeyDataByValue=function(a){for(var b in Keys)if(Keys.hasOwnProperty(b)&&Keys[b].getCode()==a)return Keys[b]};
KeyUtil.getKeyContextByValue=function(a,b){b=void 0!=b?b:0;for(var c in KeyContexts)if(KeyContexts.hasOwnProperty(c))if(KeyContexts[c].constructor===Object)for(var d in KeyContexts[c]){if(KeyContexts[c][d]==a)return 1==b?c:2==b?d:[c,d]}else if(KeyContexts[c]==a)return 1==b?c:[c]};
KeyUtil.showKeyOverlay=function(a){var b=$("#zcKeyOverlay");b.length&&$(b).remove();var c="\x3cdiv id\x3d'zcKeyOverlay' class\x3d'zc-keyboard-shortcut-highlight'\x3e\x3cdiv class\x3d'zc-keyboard-shortcut-highlight-inner'\x3e",d=[Keys.UP.code,Keys.DOWN.code,Keys.RIGHT.code,Keys.LEFT.code];if(a.constructor===Key){if(-1!=d.indexOf(a.code))return!1;d=void 0!=a.html?a.html:a.label;c+="\x3cspan class\x3d'shortcut-highlight-container'\x3e"+d+"\x3c/span\x3e"}else if(a.constructor===Array)for(var e in a)d=
a[e],d=void 0!=d.html?d.html:d.label,c+="\x3cspan class\x3d'shortcut-highlight-container'\x3e"+d+"\x3c/span\x3e",e!=a.length-1&&(c+="\x3ci\x3e+\x3c/i\x3e");c+="\x3c/div\x3e\x3c/div\x3e";$("body").append(c);b=$("#zcKeyOverlay");$(b).addClass("active");setTimeout(function(){$(b).removeClass("active");setTimeout(function(){$(b).remove()},180)},180)};
KeyUtil.groupByDesc=function(a,b,c){var d=void 0!==b?KeyMap[a][b]:KeyMap[a];if("CREATENEW"===a||"REPORTBUILDER"===a||"WORKFLOWBUILDER"===a)d=Context(KeyContexts.CREATENEW).getKeyConfig(CREATE_NEW_KEYCONFIG);"REPORTBUILDER"===a&&(d=Context(KeyContexts.CREATENEW).getKeyConfig(REPORT_BUILDER_KEYCONFIG));"GLOBAL"===a&&$.extend(d,Context(KeyContexts.GLOBAL).getKeyConfig(GLOBAL_BOUND_KEYCONFIG));c&&"FORMBUILDER"===a&&$.extend(d,Context(KeyContexts.FORMBUILDER).getKeyConfig(FORM_BUILDER_KEYCONFIG));for(var e=
{},f=Object.keys(d).sort(function(d,e){var f=void 0!==b?KeyMap[a][b]:KeyMap[a];if("CREATENEW"===a||"REPORTBUILDER"===a||"WORKFLOWBUILDER"===a)f=Context(KeyContexts.CREATENEW).getKeyConfig(CREATE_NEW_KEYCONFIG);"REPORTBUILDER"===a&&(f=Context(KeyContexts.CREATENEW).getKeyConfig(REPORT_BUILDER_KEYCONFIG));"GLOBAL"===a&&$.extend(f,Context(KeyContexts.GLOBAL).getKeyConfig(GLOBAL_BOUND_KEYCONFIG));c&&"FORMBUILDER"===a&&$.extend(f,Context(KeyContexts.FORMBUILDER).getKeyConfig(FORM_BUILDER_KEYCONFIG));return f[d].getSeqNo()>
f[e].getSeqNo()?1:f[d].getSeqNo()<f[e].getSeqNo()?-1:0}),g=0;g<f.length;g++){var h=f[g],k=d[h];isNull(k.getDesc())||(e[k.getDesc()]?e[k.getDesc()].push(h):e[k.getDesc()]=[h])}return e};
KeyUtil.init=function(a,b){if("undefined"==typeof isCrmIntegDomain||!isCrmIntegDomain){ZCWebStorage.hasItem(Shortcut.STOREKEY)||Shortcut.enable();if(a.constructor!==ContextHome){b=KeyUtil.getKeyContextByValue(a);if(void 0!=b)a=b[0],b=b[1];else return!1;b=void 0!=b?KeyContexts[a][b]:KeyContexts[a];if(Shortcut.CONTEXT_POOL[b])return Shortcut.pushContext(b);b=Shortcut.pushContext(b)}else{b=a.home;if(Shortcut.CONTEXT_POOL[b])return Shortcut.pushContext(b);b=Shortcut.pushContext(b);a=a.context}if(KeyContexts[a].constructor===
Object)for(subContext in b=KeyContexts[a],b)for(key in b=Shortcut.addContext(KeyContexts[a][subContext]),KeyMap[a][subContext]){var c=KeyMap[a][subContext][key].getIsStack(),d=KeyMap[a][subContext][key].getCallback();if(d.constructor===Array)for(index in d){var e=d[index];b.register(key,e,c)}else b.register(key,e,c)}else for(key in KeyMap[a])if(c=KeyMap[a][key].getIsStack(),d=KeyMap[a][key].getCallback(),d.constructor===Array)for(index in d)e=d[index],b.register(key,e,c);else b.register(key,e,c)}};
KeyUtil.getContextualData=function(a,b,c,d){var e=KeyUtil.groupByDesc(b,c,d);c=void 0!==c?KeyMap[b][c]:KeyMap[b];if("CREATENEW"===b||"WORKFLOWBUILDER"===b)c=Context(KeyContexts.CREATENEW).getKeyConfig(CREATE_NEW_KEYCONFIG);"REPORTBUILDER"===b&&(c=Context(KeyContexts.CREATENEW).getKeyConfig(REPORT_BUILDER_KEYCONFIG));"GLOBAL"===b&&$.extend(c,Context(KeyContexts.GLOBAL).getKeyConfig(GLOBAL_BOUND_KEYCONFIG));d&&"FORMBUILDER"===b&&$.extend(c,Context(KeyContexts.FORMBUILDER).getKeyConfig(FORM_BUILDER_KEYCONFIG));
for(var f in e){b=$("\x3cli/\x3e");d=[];for(var g in e[f]){var h=c[e[f][g]];0<g&&d.push($('\x3cspan class\x3d"zc-key-sep"/\x3e').text(","));d=d.concat(h.getKeyContent())}$(b).append($('\x3cspan class\x3d"zc-sep"/\x3e').append(d));$(a).append($(b).append($("\x3cspan class\x3d'zc-sep'/\x3e").text(f)))}return a};
KeyUtil.showHelp=function(){var a=["POPUP"],b=[["GLOBAL","CREATENEW"],["FORMBUILDER","REPORTBUILDER","PAGEBUILDER","CUSTOMLAYOUT"],["WORKFLOWBUILDER","DELUGEEDITOR"]],c=$("\x3cdiv /\x3e");if(!$(".zc-shortcuts-help").is(":visible")){$(c).empty();for(var d in b){var e=b[d],f=$("\x3cdiv class\x3d'zc-help-column'/\x3e"),g;for(g in e){var h=e[g],k=KeyUtil.getKeyContextByValue(Shortcut.KEY_CONTEXT,1)==h;if(-1>=a.indexOf(h)){if(KeyContexts[h].constructor===Object&&"CREATENEW"!=h){var l=$("\x3cul/\x3e"),
m=$('\x3cdiv class\x3d"zcscrollable"/\x3e');k&&$(l).addClass("zc-shtct-current-ctxt");$(l).append($("\x3cli/\x3e").addClass("zc-shtct-header").text(AppContexts[h].desc));k=!0;for(subcontext in KeyContexts[h])m=KeyUtil.getContextualData(m,h,subcontext,k),k=!1}else l=$("\x3cul/\x3e"),m=$('\x3cdiv class\x3d"zcscrollable"/\x3e'),k&&$(l).addClass("zc-shtct-current-ctxt"),$(l).append($("\x3cli/\x3e").addClass("zc-shtct-header").text(AppContexts[h].desc)),m=KeyUtil.getContextualData(m,h);$(f).append($(l).append(m))}}$(c).append($(f))}iModal({header:$(".zc-dem-shortcuts-modal").html(),
body:$(c).html(),containerClass:"zc-shortcut-content",modalClass:"zc-shortcuts-help"},function(){$(".zc-shortcuts-help").zcScrollpane();var a=$(".zc-shortcuts-help .zc-shortcut-switch").zcToggle({onConfig:{label:ZCSwitchLabel.ON,callback:function(){Shortcut.enable()}},offConfig:{label:ZCSwitchLabel.OFF,callback:function(){Shortcut.disable()}}});Shortcut.isEnabled()&&a.active()})}};var KeyContexts=Object.freeze({GLOBAL:1,CREATENEW:{home:2,form:3,report:4,page:5,workflow:6,integrationForm:7},FORMBUILDER:{home:10,fieldaddition:11,builder:12,property:13,subform:14},POPUP:{DEFAULT:20,ALERT:21,ICUSTOMIZE:22,SLIDER:23,IWARNING:24,ICONFIRM:25,IPOPOVER:26},DELUGEEDITOR:30,PAGEBUILDER:40,ONBOARD:{home:51,form:52,integrationForm:53},CUSTOMLAYOUT:110,TEMPLATEBUILDER:50,WORKFLOWBUILDER:60,REPORTBUILDER:70,WORKFLOWAPPEARANCE:80,SETTINGS:90});ContextHome("GLOBAL",1,i18n["zc.appedit.key.generaldesc"]);
ContextHome("CREATENEW",2,i18n["zc.appedit.key.createnewdesc"]);ContextHome("FORMBUILDER",10,i18n["zc.appedit.key.formbuilderdesc"]);ContextHome("DELUGEEDITOR",30,i18n["zc.appedit.key.delugeeditordesc"]);ContextHome("PAGEBUILDER",40,i18n["zc.appedit.key.pagebuilderdesc"]);ContextHome("CUSTOMLAYOUT",110,i18n["zc.appedit.key.customlayoutdesc"]);ContextHome("TEMPLATEBUILDER",50,i18n["zc.appedit.key.templatebuilderdesc"]);ContextHome("WORKFLOWBUILDER",60,i18n["zc.appedit.key.workflowbuilderdesc"]);
ContextHome("REPORTBUILDER",70,i18n["zc.appedit.key.reportbuilder"]);ContextHome("WORKFLOWAPPEARANCE",80);ContextHome("SETTINGS",90);
var DELUGE_EDITOR_KEYCONFIG=[{keyCode:[Keys.COMMAND,Keys.S],desc:i18n["zc.appedit.shortcut.deluge.savescript"]},{keyCode:[Keys.COMMAND,Keys.E],desc:i18n["zc.appedit.shortcut.deluge.executescript"]},{keyCode:[Keys.COMMAND,Keys.SLASH],desc:i18n["zc.appedit.shortcut.deluge.togglecomment"]},{keyCode:[Keys.COMMAND,Keys.ALT,Keys.SLASH],desc:i18n["zc.appedit.shortcut.deluge.toggleblockcomment"]},{keyCode:[Keys.CTRL,Keys.SPACE],desc:i18n["zc.appedit.shortcut.deluge.showhint"]},{keyCode:Keys.F3,desc:i18n["zc.appedit.shortcut.deluge.showfunctiondefinition"]},
{keyCode:[Keys.COMMAND,Keys.DOT],desc:i18n["zc.appedit.shortcut.deluge.gotonexttag"]},{keyCode:[Keys.COMMAND,Keys.COMMA],desc:i18n["zc.appedit.shortcut.deluge.gotoprevioustag"]},{keyCode:[Keys.COMMAND,Keys.F],desc:i18n["zc.appedit.shortcut.deluge.find"]},{keyCode:[Keys.ALT,Keys.COMMAND,Keys.F],desc:i18n["zc.appedit.shortcut.deluge.findandreplace"]},{keyCode:[Keys.COMMAND,Keys.L],desc:i18n["zc.appedit.shortcut.deluge.gotoline"]},{keyCode:[Keys.COMMAND,Keys.Z],desc:i18n["zc.appedit.shortcut.deluge.undo"]},
{keyCode:[Keys.COMMAND,Keys.SHIFT,Keys.Z],desc:i18n["zc.appedit.shortcut.deluge.redo"]}],CREATE_NEW_KEYCONFIG=[{keyCode:[Keys.SHIFT,Keys.ENTER],desc:i18n["zc.appedit.shortcut.focusfirst"]},{keyCode:Keys.LEFT,desc:i18n["zc.appedit.shortcut.nav"]},{keyCode:Keys.RIGHT,desc:i18n["zc.appedit.shortcut.nav"]},{keyCode:Keys.ENTER,desc:i18n["zc.appedit.shortcut.selectopt"]}],REPORT_BUILDER_KEYCONFIG=[{keyCode:[Keys.SHIFT,Keys.ENTER],desc:i18n["zc.appedit.shortcut.switchfocus"]},{keyCode:Keys.LEFT,desc:i18n["zc.appedit.shortcut.nav"]},
{keyCode:Keys.RIGHT,desc:i18n["zc.appedit.shortcut.nav"]},{keyCode:Keys.ENTER,desc:i18n["zc.appedit.shortcut.selectopt"]}],GLOBAL_BOUND_KEYCONFIG=[{keyCode:[Keys.COMMAND,Keys.ENTER],desc:i18n["zc.appedit.shortcut.accessapp"],seqNo:7},{keyCode:Keys.EQUALS,desc:i18n["zc.appedit.shortcut.createnew"],seqNo:8},{keyCode:Keys.SLASH,desc:i18n["zc.appedit.shortcut.shortcuthelp"],seqNo:9},{keyCode:[Keys.SHIFT,Keys.SLASH],desc:i18n["zc.appedit.shortcut.showhelp"],seqNo:10},{keyCode:Keys.ESCAPE,desc:i18n["zc.appedit.shortcut.exitcurrentmenu"],
seqNo:11}],FORM_BUILDER_KEYCONFIG=[{keyCode:[Keys.SHIFT,Keys.ENTER],desc:i18n["zc.appedit.shortcut.switchfocus"],seqNo:8}];
KeyCallBack("SHIFT_FOCUS",function(a){var b=void 0!=a?a.EVENT:void 0;a=[];a=Shortcut.KEY_CONTEXT;switch(a){case KeyContexts.CREATENEW.home:a=[2];break;case KeyContexts.CREATENEW.form:case KeyContexts.CREATENEW.report:case KeyContexts.CREATENEW.page:case KeyContexts.CREATENEW.workflow:a=[a];break;case KeyContexts.FORMBUILDER.home:case KeyContexts.FORMBUILDER.fieldaddition:case KeyContexts.FORMBUILDER.builder:case KeyContexts.FORMBUILDER.property:a=[11,12,13];break;case KeyContexts.WORKFLOWAPPEARANCE:a=
[80];break;case KeyContexts.SETTINGS:a=[90];break;case KeyContexts.ONBOARD.form:a=[a];break;default:a=[]}if(a.length){var c=function(a){switch(a){case KeyContexts.FORMBUILDER.fieldaddition:e=$("#tools");d=$(e).find("li");break;case KeyContexts.FORMBUILDER.builder:e=$("#fieldsList");d=$(e).find("li[elName\x3dfieldLi]");break;case KeyContexts.FORMBUILDER.property:e=$(objects.fieldObject.property);d=$(e).find('[name\x3d"displayName"]');break;case KeyContexts.CREATENEW.home:e=$("#create-new-comp");d=
$(e).find(".zc-dem-icon-container");break;case KeyContexts.CREATENEW.form:case KeyContexts.ONBOARD.form:e=$("#form-create-types");d=$(e).find(".zc-dem-icon-container");break;case KeyContexts.CREATENEW.report:e=$("#report-create-types");d=$(e).find(".zc-dem-icon-container");break;case KeyContexts.CREATENEW.page:e=$("#page-create-types");d=$(e).find(".zc-dem-icon-container");break;case KeyContexts.CREATENEW.workflow:e=$("#workflow-create-types");d=$(e).find(".zc-dem-icon-container");break;case KeyContexts.WORKFLOWAPPEARANCE:e=
$(".zc-dem-workflow-tab");d=$(e).find("li:visible a");break;case KeyContexts.SETTINGS:e=$(".zc-dem-settings-links"),d=$(e).find("li a")}},d,e;b.originalEvent&&KeyUtil.showKeyOverlay([Keys.SHIFT,Keys.ENTER]);var f=a.indexOf(Shortcut.KEY_CONTEXT),g=0;-1<f&&(g=f==a.length-1?0:f+1);c(a[g]);$(d).attr("tabindex","-1");$(d).css("outline","none");var h=function(a){c(Shortcut.KEY_CONTEXT);var b=$(d).filter(".selected").first(),e=$(d).length,f;$(d).filter(function(a,b){$(b).hasClass("selected")&&(f=a)});var g=
0;if(0==b.length)b=$(d).first(),a=$(d).eq(0);else switch(a){case "N":case "E":g=f+1>=e?0:f+1;break;case "W":case "S":g=0>f-1?e-1:f-1;break;default:g=f+1>=e?0:f+1}a=$(d).eq(g);$(d).removeClass("selected");$(a).addClass("selected").focus()};Shortcut.popContext();a=Shortcut.pushContext(a[g]);a.context!=KeyContexts.FORMBUILDER.builder&&(a.checkAndAssign(Keys.UP.code,function(){h("S")}),a.checkAndAssign(Keys.RIGHT.code,function(){h("E")}),a.checkAndAssign(Keys.DOWN.code,function(){h("N")}),a.checkAndAssign(Keys.LEFT.code,
function(){h("W")}),a.checkAndAssign(Keys.ENTER.code,function(a){c(Shortcut.KEY_CONTEXT);b=a.EVENT;"INPUT"!=b.target.nodeName&&"TEXTAREA"!=b.target.nodeName&&"true"!=b.target.getAttribute("contenteditable")&&(a=$(d).filter(".selected").first(),$(a).click())}));"undefined"==typeof b||void 0==b.target||"INPUT"!=b.target.nodeName&&"TEXTAREA"!=b.target.nodeName&&"true"!=b.target.getAttribute("contenteditable")||$(b.target).blur();$(d).first().focus();b.preventDefault()}});
KeyCallBack("DELETE_ON_KEY_PRESS",function(a){$PBU.deleteonKeyDown(a)});KeyCallBack("SAVE_ON_KEY_PRESS",function(a){$PBU.saveShortcut(a)});KeyCallBack("DUPLICATE_ON_KEY_PRESS",function(a){$PBU.duplicateElem(a)});KeyCallBack("NAVIGATE_ELEMENTS_FORWARD",function(a){$PBU.navigateElement(a,"f")});KeyCallBack("NAVIGATE_ELEMENTS_BACKWARD",function(a){$PBU.navigateElement(a,"b")});KeyCallBack("FB_ADD_FIELD",function(){objects.toolbarObject.selectTool(Constants.NAME);Shortcut.pushContext(KeyContexts.FORMBUILDER.fieldaddition)});
KeyCallBack("FB_CLOSE",function(){$("#builder-close").trigger("click")});KeyCallBack("RB_CLOSE",function(){void 0===$("#selectFieldLi").css("display")||"none"==$("#selectFieldLi").css("display")?$("#builder-close").trigger("click"):$("#select2-drop-mask").click()});KeyCallBack("PB_CLOSE",function(a){1<=$(".zc-pb-toolbar-slide-down").length||1<=$(".ui-state-highlight").length?($PBU.fnCloseDDMenus(),$E.stopPropagation(a)):1<=$(".zc-pb-popup-show").length?ZCDialog.cancelEvent(a):$("#builder-close").trigger("click")});
KeyCallBack("GLOBAL_DISPATCH",function(a){Shortcut.dispatch(a,KeyContexts.GLOBAL,Keys.ESCAPE.code)});KeyCallBack("SHOW_HELP",function(){$("#zcHelpButton").click()});KeyCallBack("FB_FIELD_NAV",function(){FB.navigateField("S")});KeyCallBack("FB_FIELD_NAV_REV",function(){FB.navigateField("N")});KeyCallBack("FB_FIELD_NAV_LEFT",function(){FB.navigateField("W")});KeyCallBack("FB_FIELD_NAV_RIGHT",function(){FB.navigateField("E")});KeyCallBack("TOOL_FIELD_NAV_LEFT",function(){objects.toolbarObject.navigateTool("W")});
KeyCallBack("TOOL_FIELD_NAV_RIGHT",function(){objects.toolbarObject.navigateTool("E")});KeyCallBack("FB_TO_SFRM_NAV",function(){FB.navigateToSubFormField()&&Shortcut.pushContext(KeyContexts.FORMBUILDER.subform)});KeyCallBack("FB_DEL_FLD",function(){FB.deleteField()});KeyCallBack("FB_FRM_PROP",function(){$(".zc-dem-top-links .zc-dem-setting-li #zc-comp-settings").click()});KeyCallBack("FB_FRM_RENAME",function(){$(".zc-dem-top-links #zc-rename-comp").click()});KeyCallBack("RB_FRM_RENAME",function(){$(".zc-dem-top-links #zc-rename-comp").click()});
KeyCallBack("FB_FIELD_CLICK",function(){FB.focusProperty();Shortcut.pushContext(KeyContexts.FORMBUILDER.property)});KeyCallBack("SFRM_NAV_REV",function(){FB.navigateSubFormField(!0)});KeyCallBack("SFRM_NAV",function(){FB.navigateSubFormField()});KeyCallBack("EXIT_SUBCONTEXT",function(){Shortcut.emptySubContext()});KeyCallBack("SFRM_ADD_FLD",function(){FB.addSubFormField()});KeyCallBack("FB_FIELD_FOCUS",function(){FB.setFieldContext()});
KeyCallBack("ADD_FIELD_TO_FB",function(){objects.toolbarObject.selectTool(Constants.NONE);Shortcut.popContext()});KeyCallBack("ADD_FIELD_DONE",function(){objects.toolbarObject.addTool();objects.toolbarObject.selectTool(Constants.NONE)});KeyCallBack("SWITCH_TO_DESIGN",function(){$("#appearance-design").trigger("click")});KeyCallBack("SWITCH_TO_WRKFLW",function(){$("#appearance-workflow").trigger("click")});KeyCallBack("SWITCH_TO_SETTINGS",function(){$("#appearance-settings").trigger("click")});
KeyCallBack("OPEN_QUICK_SHARE",function(){$("#zc-share-link").trigger("click")});KeyCallBack("OPEN_BUILDER",function(){var a=appbuilder.component;WebAppearance.showBuilder(a,{type:a.componentType,compName:a.compLinkName})});KeyCallBack("GLOBAL_ESC",function(){});KeyCallBack("ACCESS_APP",function(){$("#zc-dem-access-link").length&&(KeyUtil.showKeyOverlay([Keys.COMMAND,Keys.ENTER]),window.location=$("#zc-dem-access-link").attr("href"))});KeyCallBack("SWITCH_COMP",function(){$("#zc-component-switch").trigger("click")});
KeyCallBack("CREATE_COMP",function(){KeyUtil.showKeyOverlay(Keys.EQUALS);(new ZCNavigator).openNewComponent()});KeyCallBack("ONBOARD_CREATE_FORM",function(){KeyUtil.showKeyOverlay(Keys.EQUALS);$("#zc-create-onboard").trigger("click")});
KeyCallBack("ONBOARD_BACK",function(){$("#serviceBack1").find("a").is(":visible")&&ZCGlobal.newIntegrationServiceEnabled?$("#serviceBack1").trigger("click"):$("#back-button").is(":visible")&&!ZCGlobal.newIntegrationServiceEnabled?$("#back-button").trigger("click"):$(".zc-dem-hide-option.close").trigger("click")});KeyCallBack("CNEW_BACK_FORM",function(){$("#back-button").is(":hidden")&&ZCGlobal.newIntegrationServiceEnabled?$("#serviceBack1").trigger("click"):($("#back-button").trigger("click"),Shortcut.popContext())});
KeyCallBack("CNEW_BACK",function(){$("#back-button").trigger("click");Shortcut.popContext()});KeyCallBack("CNEW_CLOSE",function(){$(".zc-dem-hide-option.close").trigger("click")});KeyCallBack("INTEGFORM_CREATE",function(a){void 0!=a&&a.EVENT.preventDefault();ZCGlobal.newIntegrationServiceEnabled?$("#form-thirdparty-create").find("input[name\x3dcreate]").trigger("click"):$("#create-tp-form-trigger").trigger("click")});
KeyCallBack("INTEGFORM_CLOSE",function(){ZCGlobal.newIntegrationServiceEnabled?$("#form-thirdparty-create").find("input[name\x3dcancel]").trigger("click"):$("#back-button").trigger("click")});KeyCallBack("CNEW_FORM",function(){(new NewComponent).initComponent(1)});KeyCallBack("CNEW_REPORT",function(){(new NewComponent).initComponent(2)});KeyCallBack("CNEW_PAGE",function(){(new NewComponent).initComponent(3)});KeyCallBack("CNEW_WRKFLW",function(){(new NewComponent).initComponent(4)});
KeyCallBack("CNEW_FRM_BLK",function(){$("#form-blank").trigger("click")});KeyCallBack("CNEW_FRM_IMPRT",function(){$("#form-import").trigger("click")});KeyCallBack("CNEW_FRM_TMPLT",function(){$("#form-template").trigger("click")});KeyCallBack("CNEW_FRM_INTG",function(){$("#form-thirdparty").trigger("click")});KeyCallBack("CNEW_FRM_WF",function(){$("#form-workflow").trigger("click")});KeyCallBack("CNEW_SCH_WF",function(){$("#date-workflow").trigger("click")});KeyCallBack("CNEW_APR_WF",function(){$("#approval-workflow").trigger("click")});
KeyCallBack("CNEW_BTN_WF",function(){$("#button-workflow").trigger("click")});KeyCallBack("CNEW_PYM_WF",function(){$("#payment-workflow").trigger("click")});KeyCallBack("CNEW_FRM_SCH",function(){$("#wf-event-form").trigger("click")});KeyCallBack("CNEW_CSTM_SCH",function(){$("#wf-event-custom").trigger("click")});KeyCallBack("WB_WF_RENAME",function(){$("#appbuilder-header").find("#zc-comp-settings").trigger("click")});KeyCallBack("WB_CLOSE",function(){$("#wf-slider").length||$("#builder-close").trigger("click")});
Shortcut.bindGlobal([Keys.SHIFT,Keys.ENTER],Callback.SHIFT_FOCUS);Shortcut.bindGlobal([Keys.COMMAND,Keys.ENTER],Callback.ACCESS_APP);Shortcut.bindGlobal(Keys.EQUALS,Callback.CREATE_COMP);Shortcut.bindGlobal(Keys.SLASH,function(){KeyUtil.showHelp()});Shortcut.bindGlobal([Keys.SHIFT,Keys.SLASH],Callback.SHOW_HELP);Context(KeyContexts.FORMBUILDER.home).addKey(Keys.ESCAPE,Callback.FB_CLOSE);Context(KeyContexts.FORMBUILDER.home).addKey(Keys.SPACE,Callback.GLOBAL_DISPATCH);
Context(KeyContexts.FORMBUILDER.home).addKey(Keys.P,Callback.FB_FRM_PROP,i18n["zc.appedit.shortcut.formprop"],-1,1);Context(KeyContexts.FORMBUILDER.home).addKey(Keys.R,Callback.FB_FRM_RENAME,i18n["zc.appedit.shortcut.renameform"],-1,2);Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.DOWN,Callback.FB_FIELD_NAV,i18n["zc.appedit.shortcut.fieldnav"],-1,4);Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.UP,Callback.FB_FIELD_NAV_REV,i18n["zc.appedit.shortcut.fieldnav"],-1,5);
Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.LEFT,Callback.FB_FIELD_NAV_LEFT,i18n["zc.appedit.shortcut.fieldnav"],-1,6);Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.RIGHT,Callback.FB_FIELD_NAV_RIGHT,i18n["zc.appedit.shortcut.fieldnav"],-1,7);Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.ENTER,Callback.FB_FIELD_CLICK,i18n["zc.appedit.shortcut.fieldsel"],-1,8);Context(KeyContexts.FORMBUILDER.builder).addKey(Keys.ESCAPE,Callback.EXIT_SUBCONTEXT);
Context(KeyContexts.FORMBUILDER.subform).addKey(Keys.LEFT,Callback.SFRM_NAV_REV);Context(KeyContexts.FORMBUILDER.subform).addKey(Keys.RIGHT,Callback.SFRM_NAV);Context(KeyContexts.FORMBUILDER.subform).addKey(Keys.ENTER,Callback.FB_FIELD_CLICK);Context(KeyContexts.FORMBUILDER.subform).addKey(Keys.D,Callback.FB_DEL_FLD);Context(KeyContexts.FORMBUILDER.property).addKey(Keys.ESCAPE,Callback.EXIT_SUBCONTEXT);Context(KeyContexts.FORMBUILDER.fieldaddition).addKey(Keys.ESCAPE,Callback.EXIT_SUBCONTEXT);
Context(KeyContexts.FORMBUILDER.fieldaddition).addKey(Keys.ENTER,Callback.ADD_FIELD_DONE);var ADDFIELD_KEYMAP={};ADDFIELD_KEYMAP[Keys.A.code]=[Constants.ADDRESS,Constants.AUDIO,Constants.AUTO_NUMBER,Constants.PLAIN_TEXT];ADDFIELD_KEYMAP[Keys.C.code]=[Constants.CHECK_BOXES,Constants.CURRENCY];ADDFIELD_KEYMAP[Keys.D.code]=[Constants.DATE,Constants.INLINE_PICK_LIST,Constants.CHECK_BOX,Constants.DECIMAL,Constants.DATE_TIME];ADDFIELD_KEYMAP[Keys.E.code]=[Constants.EMAIL_ADDRESS];
ADDFIELD_KEYMAP[Keys.F.code]=[Constants.SCRIPT,Constants.FILE_UPLOAD];ADDFIELD_KEYMAP[Keys.I.code]=[Constants.IMAGE,Constants.INTEGRATION];ADDFIELD_KEYMAP[Keys.L.code]=[Constants.LOOKUP];ADDFIELD_KEYMAP[Keys.M.code]=[Constants.MULTI_LINE,Constants.LIST];ADDFIELD_KEYMAP[Keys.N.code]=[Constants.NAME,Constants.NUMBER];ADDFIELD_KEYMAP[Keys.P.code]=[Constants.PHONE_NUMBER,Constants.PERCENTAGE];ADDFIELD_KEYMAP[Keys.R.code]=[Constants.INLINE_RADIO,Constants.RICH_TEXT_AREA];
ADDFIELD_KEYMAP[Keys.S.code]=[Constants.SINGLE_LINE,Constants.SUB_FORM_GRID,Constants.SIGNATURE];ADDFIELD_KEYMAP[Keys.U.code]=[Constants.URL,Constants.SYSTEM_LOOKUP];ADDFIELD_KEYMAP[Keys.V.code]=[Constants.VIDEO];
for(var fieldKey in ADDFIELD_KEYMAP)for(var indx in ADDFIELD_KEYMAP[fieldKey]){var t=ADDFIELD_KEYMAP[fieldKey][indx];(function(a){var b=Context(KeyContexts.FORMBUILDER.fieldaddition).getKeyMapData(fieldKey);void 0==b?Context(KeyContexts.FORMBUILDER.fieldaddition).addKey(fieldKey,function(){objects.toolbarObject.selectTool(a)}):b.assignCallback(function(){objects.toolbarObject.selectTool(a)})})(t)}
Context(KeyContexts.GLOBAL).addKey(Keys.D,Callback.SWITCH_TO_DESIGN,i18n["zc.appedit.shortcut.designmode"],-1,1);Context(KeyContexts.GLOBAL).addKey(Keys.W,Callback.SWITCH_TO_WRKFLW,i18n["zc.appedit.shortcut.workflow"],-1,2);Context(KeyContexts.GLOBAL).addKey(Keys.S,Callback.SWITCH_TO_SETTINGS,i18n["zc.appedit.shortcut.settings"],-1,3);Context(KeyContexts.GLOBAL).addKey(Keys.U,Callback.OPEN_QUICK_SHARE,i18n["zc.appedit.shortcut.quickshare"],-1,4);
Context(KeyContexts.GLOBAL).addKey(Keys.B,Callback.OPEN_BUILDER,i18n["zc.appedit.shortcut.openbuilder"],-1,5);Context(KeyContexts.GLOBAL).addKey(Keys.SPACE,Callback.SWITCH_COMP,i18n["zc.appedit.shortcut.searchmenu"],-1,6);Context(KeyContexts.SETTINGS).addKey(Keys.D,Callback.GLOBAL_DISPATCH);Context(KeyContexts.SETTINGS).addKey(Keys.W,Callback.GLOBAL_DISPATCH);Context(KeyContexts.SETTINGS).addKey(Keys.S,Callback.GLOBAL_DISPATCH);Context(KeyContexts.SETTINGS).addKey(Keys.U,Callback.GLOBAL_DISPATCH);
Context(KeyContexts.SETTINGS).addKey(Keys.SPACE,Callback.GLOBAL_DISPATCH);Context(KeyContexts.WORKFLOWAPPEARANCE).addKey(Keys.D,Callback.GLOBAL_DISPATCH);Context(KeyContexts.WORKFLOWAPPEARANCE).addKey(Keys.W,Callback.GLOBAL_DISPATCH);Context(KeyContexts.WORKFLOWAPPEARANCE).addKey(Keys.S,Callback.GLOBAL_DISPATCH);Context(KeyContexts.WORKFLOWAPPEARANCE).addKey(Keys.U,Callback.GLOBAL_DISPATCH);Context(KeyContexts.WORKFLOWAPPEARANCE).addKey(Keys.SPACE,Callback.GLOBAL_DISPATCH);
Context(KeyContexts.CREATENEW.home).addKey(Keys.ESCAPE,Callback.CNEW_CLOSE);Context(KeyContexts.CREATENEW.form).addKey(Keys.ESCAPE,Callback.CNEW_BACK_FORM);Context(KeyContexts.CREATENEW.integrationForm).addKey(Keys.ENTER,Callback.INTEGFORM_CREATE);Context(KeyContexts.CREATENEW.integrationForm).addKey(Keys.ESCAPE,Callback.INTEGFORM_CLOSE);Context(KeyContexts.ONBOARD.integrationForm).addKey(Keys.ENTER,Callback.INTEGFORM_CREATE);Context(KeyContexts.ONBOARD.integrationForm).addKey(Keys.ESCAPE,Callback.INTEGFORM_CLOSE);
Context(KeyContexts.CREATENEW.report).addKey(Keys.ESCAPE,Callback.CNEW_BACK);Context(KeyContexts.CREATENEW.page).addKey(Keys.ESCAPE,Callback.CNEW_BACK);Context(KeyContexts.CREATENEW.workflow).addKey(Keys.ESCAPE,Callback.CNEW_BACK);Context(KeyContexts.ONBOARD.home).addKey(Keys.EQUALS,Callback.ONBOARD_CREATE_FORM);Context(KeyContexts.ONBOARD.form).addKey(Keys.ESCAPE,Callback.ONBOARD_BACK);Context(KeyContexts.DELUGEEDITOR).addKeyConfig(DELUGE_EDITOR_KEYCONFIG);
Context(KeyContexts.REPORTBUILDER).addKey(Keys.ESCAPE,Callback.RB_CLOSE);Context(KeyContexts.REPORTBUILDER).addKey(Keys.R,Callback.RB_FRM_RENAME);Context(KeyContexts.WORKFLOWBUILDER).addKey(Keys.R,Callback.WB_WF_RENAME);Context(KeyContexts.WORKFLOWBUILDER).addKey(Keys.ESCAPE,Callback.WB_CLOSE);
-1<navigator.platform.indexOf("Mac")?(Context(KeyContexts.PAGEBUILDER).addKey(Keys.BACK,Callback.DELETE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.delElem"]),Context(KeyContexts.CUSTOMLAYOUT).addKey(Keys.BACK,Callback.DELETE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.delElem"])):(Context(KeyContexts.PAGEBUILDER).addKey(Keys.DELETE,Callback.DELETE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.delElem"]),Context(KeyContexts.CUSTOMLAYOUT).addKey(Keys.DELETE,Callback.DELETE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.delElem"]));
Context(KeyContexts.PAGEBUILDER).addKey([Keys.COMMAND,Keys.S],Callback.SAVE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.savePage"]);Context(KeyContexts.PAGEBUILDER).addKey([Keys.COMMAND,Keys.D],Callback.DUPLICATE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.duplicateElem"]);Context(KeyContexts.PAGEBUILDER).addKey(Keys.TAB,Callback.NAVIGATE_ELEMENTS_FORWARD,i18n["zc.appedit.shortcut.navigateforward"]);Context(KeyContexts.PAGEBUILDER).addKey([Keys.SHIFT,Keys.TAB],Callback.NAVIGATE_ELEMENTS_BACKWARD,i18n["zc.appedit.shortcut.navigatebackward"]);
Context(KeyContexts.PAGEBUILDER).addKey(Keys.ESCAPE,Callback.PB_CLOSE);Context(KeyContexts.CUSTOMLAYOUT).addKey(Keys.ESCAPE,Callback.PB_CLOSE);Context(KeyContexts.TEMPLATEBUILDER).addKey(Keys.BACK,Callback.DELETE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.delElem"]);Context(KeyContexts.TEMPLATEBUILDER).addKey([Keys.COMMAND,Keys.S],Callback.SAVE_ON_KEY_PRESS,i18n["zc.appedit.shortcut.savePage"]);function ZCHeader(a){var b=this;this.parentContainer=$("#appbuilder-main-head");this.init=function(){$(b.parentContainer).find(".zc-dem-user-image").append("\x3cimg src\x3d'"+a.userProfile+"'\x3e");$(b.parentContainer).find(".zc-cplus-user-info-profile").append("\x3cimg class\x3d'zc-cplus-user-info-profile' src\x3d'"+a.userProfile+"'\x3e");ZCGlobal.isOnPremiseVersion&&$("#licensediv").html(getLicenseTemplate());this.getEditableApps();this.bindEvents();this.initKeyboardShortcuts()};this.softInit=function(){this.bindEvents();
this.initKeyboardShortcuts()};this.getEditableApps=function(){$.ajax({type:"GET",url:appbuilder.component.APP.getAppEditUrl()+"/getEditableApps",success:function(a,d,e){b.constructAccordian(a)}})};this.constructAccordian=function(a){if(ZCGlobal.isC6Account)$("#accordionmenu").zcScrollPane({autoReinit:!0});else{var b=document.getElementById("applicationList").offsetHeight,c=0,f=a.NO_OF_APPLICATIONS;a=a.APPLICATIONS instanceof Object?a.APPLICATIONS:JSON.parse(a.APPLICATIONS);var g=document.getElementById("applicationList");
if(0==f){c=document.createElement("li");c.className="zc-no-recent-apps";var h=document.createElement("span");h.innerHTML=i18n["zc.accacordian.noapps"];c.appendChild(h);g.appendChild(c)}else for(f=0;f<a.length&&!(b<c);f++){var k=a[f];c=document.createElement("li");c.className="clearBoth zc-recent-app-cont";var l=document.createElement("a");l.href=k.EDIT_MODE_URL;l.setAttribute("tabindex","-1");l.setAttribute("onclick","urlRedirection(this)");var m=document.createElement("div");m.className="zc-dem-clearfix custom-userIcons zc-dem-app-logo color-"+
k.APP_ICON_THEME;var n=document.createElement("div");3==k.APP_ICON_TYPE?(n.className="zc-app-brand iconimages",h=document.createElement("span"),h.className="zc-dem-brand-appicon",h.innerText=k.APP_ICON_NAME,n.appendChild(h)):n.className="zc-app-brand iconimages "+k.APP_ICON_NAME;m.appendChild(n);l.appendChild(m);h=document.createElement("span");h.className="zc-recent-app-name";h.innerText=k.APPLICATION_NAME;l.appendChild(h);c.appendChild(l);g.appendChild(c);c=c.offsetHeight;b-=c}a.length>$("#applicationList li").length&&
$("#dashboardUrl").attr("href","/userhome/dashboard").show();$("#recentApps").zcScrollPane({autoReinit:!0})}};this.bindEvents=function(){var c=$(b.parentContainer);$(c).find("#creatorPlusHome").off("click").on("click",function(a){a.stopPropagation();window.location=variable.creatorPlusUrl});$(c).find("#creatorPlatformHome").off("click").on("click",function(a){a.stopPropagation();window.location=variable.creatorPlatformUrl});$(c).find("#creatorplus-account").on("click",function(a){$(".zc-cplus-user-info").toggleClass("zc-cplus-popover");
$(".zc-cplus-freeze").toggle()});$(c).find(".zc-cplus-freeze").on("click",function(){$(".zc-cplus-user-info").toggleClass("zc-cplus-popover");$(this).toggle()});$(c).find("#appIcon").off("click").on("click",function(a){c.hasClass("zc-dem-compmenu-open")&&$(c).find("#zc-component-switch").trigger("click");var b=c.find(".zc-liveaccess-dropdown .zc-dem-drop-dwn-box");b.is(":visible")&&b.hide();c.toggleClass("zc-dem-appmenu-open");b=$(c).find("#zc-account-accordion-menu");"false"==$(b).attr("isselected")?
$(b).active().attr("isselected","true"):$(b).deActive().attr("isselected","false");a.stopPropagation()});$(c).find("#zc-component-switch").add("#zcAppAccordian").off("click").on("click",function(b){var d=variable.moduleName;d=d==Modules.FORMBUILDER||d==Modules.REPORTBUILDER||d==Modules.PAGEBUILDER||d==Modules.WORKFLOWBUILDER||d==Modules.APPROVALBUILDER;isCrmIntegDomain&&d||(c.hasClass("zc-dem-appmenu-open")&&$(c).find("#appIcon").trigger("click"),d=$(c).find("#zc-component-accordion-menu"),"false"==
$(d).attr("isselected")?$(d).active().attr("isselected","true"):$(d).deActive().attr("isselected","false"),variable.isMobile||$(c).find("#zc-dem-q-search").focus(),$(c).find("#zc-dem-q-search").val(""),c.hasClass("zc-dem-compmenu-open")||(AccordionMenu.doneLoading?a.accordianMenu.showComps():AccordionMenu.showPreloader()),c.toggleClass("zc-dem-compmenu-open"),d=c.find(".zc-liveaccess-dropdown .zc-dem-drop-dwn-box"),d.is(":visible")&&d.hide(),$(c).find("#zc-component-accordion-menu").find(".zc-dem-view-rightclick-menu").hasClass("show")&&
($(c).find("#zc-component-accordion-menu").find(".zc-dem-view-rightclick-menu.show").removeClass("show").addClass("hide"),$(".zc-accordion-scroll-mask").remove()),stopEventBubbling(b))});$(c).find("#zcAppAccordian .zc-dem-brand-close").off("click").on("click",function(a){var b=$(c).find("#zc-account-accordion-menu");"true"==$(b).attr("isselected")&&($(c).find("#appIcon").trigger("click"),stopEventBubbling(a))});$(c).find("#licenseInfo").off("click").on("click",function(a){getLicenseContent()});var d=
$(c).find("#appbuilder-header");$(d).off("click.newTab").on("click.newTab",function(a){!a.ctrlKey&&!a.metaKey||a.altKey||a.stopImmediatePropagation()});$(d).off("click.moduleAjax").on("click.moduleAjax",function(a){c.hasClass("zc-dem-appmenu-open")&&$(c).find("#appIcon").trigger("click");c.hasClass("zc-dem-compmenu-open")&&$(c).find("#zc-component-switch").trigger("click")});$(d).find("#builderheader").find("li[elname\x3dworkflow],li[elname\x3dsettings]").off("click.hideHeader").on("click.hideHeader",
function(a){$("#appearance-header-content").hide()});$(document).off("keydown").on("keydown",function(a){"undefined"!=typeof zgssearch&&zgssearch.isGSOpened||(27==a.keyCode&&"true"==$(c).find("#zc-account-accordion-menu").attr("isselected")?($(c).find("#appIcon").trigger("click"),a.stopPropagation()):27==a.keyCode&&"true"==$(c).find("#zc-component-accordion-menu").attr("isselected")&&($(c).find("#zc-component-switch").trigger("click"),a.stopPropagation()))});$(d).find("#zc-dem-topLinkOptions, li.zc-dem-notify-li").off("click").on("click",
function(a){a="true"==$("body").find("#formPropArea").find("#formButtons").attr("isIntegrationForm");2==$("body").find("#formPropArea").find("#formButtons").attr("formType")||a?$(d).find(".zc-dem-top-links .zc-dem-sub-menu #zc-dupl-comp").hide():$(d).find(".zc-dem-top-links .zc-dem-sub-menu #zc-dupl-comp").show();$(this).addClass("active")});$(d).find("#zc-dem-topLinkOptions, li.zc-dem-notify-li").off("mouseleave").on("mouseleave",function(a){a=a.toElement||a.relatedTarget;void 0!=a&&$(a).parents("#zc-dem-topLinkOptions").length||
$(this).removeClass("active")});$("#zc-dem-switchToOldBuilder").add("#zc-dem-plus-switchToOldBuilder").on("click",function(a){a={isEnable:!1};a[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;showLoading();$.ajax({type:"POST",url:appbuilder.component.APP.getAppEditUrl()+"/switchC5Property",data:a,success:function(a,b,c){hideLoading();a.success?window.location.reload():a.error&&"noPermission"==a.errorType?iAlert(a.error):a.error&&"sandboxDependency"==a.errorType&&(a.htmlContent?iCustomizePopup({title:"",
body:a.htmlContent,button:i18n.ok,success:function(){return!0},failure:$.noop}):iAlert("Something went wrong.."))}})});$(d).find("#zc-share-link").on("click",function(b){if(!ZCGlobal.isOnPremiseVersion||SMTPChecker.isMailSettingsConfigured())b.preventDefault(),getQuickShareContent(a)});$(d).find("#zo-share-link").on("click",function(a){"undefined"!=typeof CrmPlusLib&&"undefined"!=typeof CrmPlusLib.getFrameOriginForURL()&&(CrmPlusImpl.trigger("addUser",[ZCGlobal.applicationId]),a.preventDefault())});
$(d).find("#zc-share-link-test").on("click",function(a){a.preventDefault();isWorkspaceOwner?iCustomizePopup({title:i18n["zc.builder.accountsetup.users.confirmemail.title"],buttons:[{name:i18n["zc.builder.accountsetup.users.confirmemail.proceedbutton"],type:ZCModalConstants.MODAL_SUBMIT}],body:"\x3cp\x3e"+i18n["zc.builder.accountsetup.share.confirmemail.popup"]+"\x3c/p\x3e",containerClass:"zc-dem-user-unconfirmed",success:function(){window.open(iamProfileUrl,"_blank");return!0}},function(){$(".zc-dem-dialogue-content.zc-dem-user-unconfirmed.zc-dem-hideicon i").addClass("zc-dem-email-unconfirmed-icon")}):
iCustomizePopup({title:i18n["zc.builder.accountsetup.users.confirmemail.title"],body:"\x3cp\x3e"+i18n["zc.builder.accountsetup.share.confirmemail.popupfordeveloper"]+"\x3c/p\x3e",buttons:[{name:ZCButton.OKAY,type:ZCModalConstants.MODAL_SUBMIT}],success:function(){return!0},containerClass:"zc-dem-user-unconfirmed"},function(){$(".zc-dem-dialogue-content.zc-dem-user-unconfirmed.zc-dem-hideicon i").addClass("zc-dem-email-unconfirmed-icon")})});$(c).find(".zc-dem-menuoverlay").off("click").on("click",
function(){$("#appbuilder-main-head").removeClass("zc-dem-compmenu-open zc-dem-appmenu-open");var a=$("#zc-account-accordion-menu"),b=$("#zc-component-accordion-menu");"true"==$(a).attr("isselected")&&$(a).deActive().attr("isselected","false");"true"==$(b).attr("isselected")&&$(b).deActive().attr("isselected","false");$(c).find("#accordian-menu-list").find(".zc-dem-view-rightclick-menu.show").removeClass("show").addClass("hide");$(".zc-accordion-scroll-mask").remove()});ZCGlobal.isProductionApp||
(c.find("#zc-live-options").off("click").on("click",function(a){$(this).next(".zc-dem-drop-dwn-box").toggle();c.hasClass("zc-dem-compmenu-open")&&$(c).find("#zc-component-switch").trigger("click");c.hasClass("zc-dem-appmenu-open")&&$(c).find("#appIcon").trigger("click");a.stopPropagation()}),$(document).on("click",function(a){a=c.find(".zc-liveaccess-dropdown .zc-dem-drop-dwn-box");a.is(":visible")&&a.hide()}))};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.GLOBAL)}}
function AccordionMenu(a){var b=this,c=!1,d=!1;this.parentContainer=$("#appbuilder-main-head");this.accordionMenuList=$(b.parentContainer).find("#accordian-menu-list");this.pageCompsJSON=a.getPageComponents();this.init=function(){AccordionMenu.fetch(a,function(a){b.pageCompsJSON=a;b.showComps()})};this.showComps=function(){b.pageCompsJSON&&(b.constructMenu(),b.bindEvents())};this.bindEvents=function(){$(b.parentContainer).find("#zc-dem-q-search").off("click").on("click",function(c){""==$(b.parentContainer).find("#zc-dem-q-search").val()&&
(c=a.compLinkName,b.removeFilter("*"),b.bindEvents(),$(b.parentContainer).find(".zc-comp-link[cname\x3d"+c+"]").addClass("zc-dem-active-compt"))});$(b.parentContainer).find("#zc-component-accordion-menu").off("click").on("click",function(a){a.stopPropagation()});$(b.parentContainer).find("#zc-dem-q-search").off("keyup").on("keyup",function(e){8==e.keyCode&&$(b.accordionMenuList).find("a.zc-dem-compt-navigate").removeClass("zc-selected-loader zc-dem-compt-navigate");if(!c&&d&&""!=$(this).val()){var f=
a.compLinkName;b.removeFilter("*");b.bindEvents();$(b.accordionMenuList).find(".zc-comp-link[cname\x3d"+f+"]").addClass("zc-dem-active-compt")}$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height("");var g=$(b.accordionMenuList);f=$(g).find("li:visible").find("a.zc-selected-loader");0!=f.length&&(g=$(f).closest("div"));g=$(g).find("li:visible").find(".zc-comp-link");var h=g.index(f);if(e.keyCode===Keys.ENTER.code)$(f).trigger("click");else if(e.keyCode===Keys.DOWN.code)0===f.length||
g.last().hasClass("zc-selected-loader")?g.first().addClass("zc-selected-loader zc-dem-compt-navigate"):g.eq(h+1).addClass("zc-selected-loader zc-dem-compt-navigate"),1!=g.length&&f.removeClass("zc-selected-loader zc-dem-compt-navigate");else if(e.keyCode===Keys.UP.code)0===f.length||g.first().hasClass("zc-selected-loader")?g.last().addClass("zc-selected-loader zc-dem-compt-navigate"):g.eq(h-1).addClass("zc-selected-loader zc-dem-compt-navigate"),1!=g.length&&f.removeClass("zc-selected-loader zc-dem-compt-navigate");
else if(e.keyCode===Keys.RIGHT.code){var k=$(b.accordionMenuList).find(".zc-dem-compnt-container"),l=$(k).length;if(1!==l&&$(f).length){var m=$(f).closest("ul"),n;$.each(k,function(a,b){if(m.is(b))return n=a,!1});e=function(a){a+1==l?a=0:a++;return a};g=function(a){a=$(k).get(q);return $(a).find("li:visible").first().find(".zc-comp-link")};var q=e(n);for(h=g(q);0==$(h).length;)q=e(q),h=g(q);f.removeClass("zc-selected-loader zc-dem-compt-navigate");$(h).addClass("zc-selected-loader zc-dem-compt-navigate")}}else if(e.keyCode===
Keys.LEFT.code){if(k=$(b.accordionMenuList).find(".zc-dem-compnt-container"),l=$(k).length,1!==l&&$(f).length){m=$(f).closest("ul");$.each(k,function(a,b){if(m.is(b))return n=a,!1});e=function(a){0==a?a=l-1:a--;return a};g=function(a){a=$(k).get(q);return $(a).find("li:visible").first().find(".zc-comp-link")};q=e(n);for(h=g(q);0==$(h).length;)q=e(q),h=g(q);f.removeClass("zc-selected-loader zc-dem-compt-navigate");$(h).addClass("zc-selected-loader zc-dem-compt-navigate")}}else f=$(this).val(),""==
f?(c=!1,$(b.accordionMenuList).find(".zc-dem-compnt-accdn").show(),$(b.accordionMenuList).find(".zc-comp-link").parent().show(),$(b.accordionMenuList).find("#zc-settings-list").hide(),$(b.accordionMenuList).find("#zc-search-help-link").hide(),$(b.accordionMenuList).find(".zc-dem-nocomp").remove(),$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height(""),$(b.accordionMenuList).find(".zc-dem-compnt-primary").removeClass("zc-dem-compnt-primary-filtered")):(e=$(b.accordionMenuList).find("#zc-search-help-link .zc-comp-link"),
$(e).attr("href","https://www.zoho.com/creator/help/search-results.html?search\x3d"+f),$(e).find("span").text(b.getTranslatedKey("searchhelp")+' "'+f+'"'),b.getSearchResults(f))});$(b.accordionMenuList).find(".zc-comp-link[ajax\x3dtrue]").on("contextmenu",function(a){if("appsettings"!==$(this).attr("modulename")){var c=$(this),d=$(c).parent(),e=c.attr("cname"),k=c.attr("ctype");4!=k&&(0==d.find("#viewMenu").length&&d.append(b.constructRightClickMenu(e,parseInt(k))),a.preventDefault());$(b.accordionMenuList).find(".zc-dem-compnt-accdn").find("ul li a.zc-dem-comp-rightclick-hover").removeClass("zc-dem-comp-rightclick-hover");
$(b.accordionMenuList).find(".zc-accordion-scroll-mask").remove();4!=k&&(c.addClass("zc-dem-comp-rightclick-hover"),c.closest("div.zc-dem-compnt-accdn").append('\x3cdiv class\x3d"zc-accordion-scroll-mask"\x3e\x3c/div\x3e'));$(b.accordionMenuList).find(".zc-dem-compnt-accdn").find("ul li ul.show").removeClass("show").addClass("hide");d=c.siblings("ul");e=$(d).height();k=$(window).height()-28;$(d).attr("style","");a.pageY+e>=k?(e=$(window).height()-a.pageY,$(d).css("left",a.pageX+"px"),$(d).css("bottom",
e+"px")):($(d).css("left",a.pageX+"px"),$(d).css("top",a.pageY+"px"));$(d).css("position","fixed");c.siblings("ul").removeClass("hide").addClass("show");b.compRightClick(d)}});$(b.accordionMenuList).find(".zc-comp-rightclick-menu").on("click",function(a){if(!a.ctrlKey&&!a.metaKey||a.altKey){a=$(this).attr("mode");$(this).closest("ul").siblings("a").removeClass("zc-dem-comp-rightclick-hover");$(this).closest("ul").removeClass("show").addClass("hide");$(".zc-accordion-scroll-mask").remove();$(this).attr("viewmenu")&&
"builder"===a?b.preProcess():"";var c={};c.type=parseInt($(this).attr("ctype"));c.compName=$(this).attr("cname");1==c.type&&(c.isThirdPartyForm=$(this).closest("ul").siblings("a").attr("isthirdpartymodule"));b.compRightClickMenuAction(c,a);$(b.accordionMenuList).find(".zc-comp-rightclick-menu").off("click");return!1}a.stopImmediatePropagation()});$(b.accordionMenuList).find(".zc-comp-link[ajax\x3dtrue]").off("click").on("click",function(a){a.preventDefault();let c=this;variable.moduleName==Modules.BLUEPRINTBUILDER?
(window.onbeforeunload=null,Blueprint.isUnsavedChangesPresents()?b.switchAccordion(c):iConfirm({title:i18n["zc.workflowbuilder.unsavedchanges"],message:i18n["zc.workflowbuilder.changeslost"],button:ZCButton.CLOSE,cbutton:ZCButton.CANCEL,success:function(){b.switchAccordion(c)},failure:function(){window.onbeforeunload=Blueprint.onbeforeunload}})):b.switchAccordion(c)});this.switchAccordion=function(c){var d=$(c).attr("url"),e=$(c).text(),h=$(c).attr("targetContainer"),k=$(c).attr("modulename");variable.isWorkflowV2Enabled&&
(e=$(c).children()[0],e=$(e).text());var l={};l.type=parseInt($(c).attr("ctype"));l.compName=$(c).attr("cname");a.isBuilder?b.preProcess():"";ZCHistory.historyPush(d,!0);$("#zc-dem-container").find("div").remove(" #zctemplate-dialog");if(4==a.componentType||6==a.componentType){if(k==Modules.WEBFORMAPPEARANCE||k==Modules.WEBREPORTAPPEARANCE||k==Modules.WEBPAGEAPPEARANCE||k==Modules.MOBILEFORMAPPEARANCE||k==Modules.MOBILEREPORTAPPEARANCE||k==Modules.MOBILEPAGEAPPEARANCE)d=$(b.parentContainer).find("#appearance-design").attr("href"),
h=$(b.parentContainer).find("#appearance-design").attr("targetcontainer")}else if(k==Modules.WEBFORMAPPEARANCE||k==Modules.WEBREPORTAPPEARANCE||k==Modules.WEBPAGEAPPEARANCE)return a.updateComponent(l.type,l.compName),appbuilder.updateModule(k,!0),$(b.accordionMenuList).find(".zc-comp-link").removeClass("selected"),$(c).addClass("selected"),AccordionMenu.updateStaticName(e),AccordionMenu.close(),!1;var m,n=k==Modules.FORMBUILDER||k==Modules.REPORTBUILDER||k==Modules.PAGEBUILDER||k==Modules.WORKFLOWBUILDER||
k==Modules.APPROVALBUILDER,q;k==Modules.FORMBUILDER&&(q=$(c).attr("isthirdpartymodule"));$.ajax({url:d,data:{xajazc:!0},type:"GET",beforeSend:function(){AccordionMenu.close();AccordionMenu.updateStaticName(e);if(n){var a=$("#appbuilder-popup");$(a).html("");$(a).append(ComponentBuilder.getTemplateWrapper());var b=$("#builder-template");ComponentBuilder.setupBuilder();switch(k){case Modules.FORMBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-form-icon");"true"==q?$(b).append(FormCompBuilder.getTPTemplate()):
$(b).append(FormCompBuilder.getTemplate());break;case Modules.REPORTBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em");$(b).append(ReportCompBuilder.getTemplate());break;case Modules.PAGEBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon");$(b).append(PageCompBuilder.getTemplate());break;case Modules.WORKFLOWBUILDER:case Modules.APPROVALBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon"),$(b).append(WorkflowCompBuilder.getTemplate())}$(a).append(ComponentBuilder.getContentWrapper())}else m=
setTimeout(showLoading,500)},success:function(c,d,f){clearTimeout(m);"#appbuilder-main"==h&&$("#appbuilder-popup").hasClass("active")&&($(h).html(c),$("#appbuilder-popup").removeClass("fadeIn").deActive(),$(b.parentContainer).addClass("zc-compappearance-hdr").removeClass("zc-compbuilder-hdr"),$("#appbuilder-main-nav").show(),$(h).show(),$("#appIcon").show(),$(b.parentContainer).find(".zc-dem-left-navigation").show(),$(b.parentContainer).find(".zc-dem-left-menu-container").attr("style","width: calc(100% - 68px)"));
"#appbuilder-main"==h&&k!=Modules.APPSETTINGS&&WebAppearance.showAppearance(a,l);k!=Modules.APPSETTINGS?a.updateComponent(l.type,l.compName):"";hideLoading();n?$("#builder-cont").html(c).show():$(h).html(c);appbuilder.updateModule(k,!0);c=[Modules.FORMBUILDER,Modules.PAGEBUILDER,Modules.WORKFLOWBUILDER,Modules.APPROVALBUILDER];k==Modules.REPORTBUILDER&&reportProps.isZohoReport&&c.push(Modules.REPORTBUILDER);-1==$.inArray(k,c)&&ComponentBuilder.fadeOutTemplate(800);$(b.accordionMenuList).find(".zc-comp-link").removeClass("selected");
$(this).addClass("selected");AccordionMenu.updateStaticName(e);"1"!=a.deviceType&&(a.updateMobileJSON($.extend(variable.mobileContent,variable.mobileCompsJSON)),k!=Modules.MOBILEFORMAPPEARANCE&&k!=Modules.MOBILEREPORTAPPEARANCE&&k!=Modules.MOBILEPAGEAPPEARANCE||MobileAppearance.showAppearance(a,l))}})};$(b.accordionMenuList).find(".zc-filter-close-reports").off("click").on("click",function(){b.removeFilter("reports");b.bindEvents()});$(b.accordionMenuList).find(".zc-filter-close-workflows").off("click").on("click",
function(){b.removeFilter("workflows");b.bindEvents()});$(b.accordionMenuList).find(".zc-rb-filter").off("click").on("click",function(a){$(b.accordionMenuList).find(".zc-dem-forms a").removeClass("selected");$(this).closest("a").addClass("selected");var c=b.getFormForComponent(1,$(this).closest("a").attr("cname"));b.getReportsByForm(b.pageCompsJSON.reports,"reports",2,"filterajax",c);b.getWorkflowsByForm(b.pageCompsJSON.workflows,"workflows",4,"filterajax",c);b.bindEvents();a.stopImmediatePropagation();
a.preventDefault()})};this.compRightClick=function(a){$(b.parentContainer).find("#zc-component-accordion-menu").off("click").on("click",function(){$(a).removeClass("show").addClass("hide");$(a).siblings("a").removeClass("zc-dem-comp-rightclick-hover");$(".zc-accordion-scroll-mask").remove()})};this.compRightClickMenuAction=function(c,d){var e={};e.cname=c.compName;if("builder"===d)e.targetContainer="#appbuilder-popup",e.module=b.getCompBuilderModuleName(parseInt(c.type)),e.url=b.getCompBuilderURL(e.cname,
c.type);else if("appearance"===d)e.targetContainer="#appearance-content",e.module=b.getCompPreviewModuleName(parseInt(c.type)),e.url=b.getCompPreviewURL(e.cname,c.type);else return;ZCHistory.historyPush(e.url,!0);if(4==a.componentType||6==a.componentType||variable.prevModuleName==Modules.APPSETTINGS||variable.prevModuleName==Modules.APPWORKFLOW)switch(e.module){case Modules.WEBFORMAPPEARANCE:case Modules.WEBREPORTAPPEARANCE:case Modules.WEBPAGEAPPEARANCE:case Modules.MOBILEFORMAPPEARANCE:case Modules.MOBILEREPORTAPPEARANCE:case Modules.MOBILEPAGEAPPEARANCE:e.url=
$(b.parentContainer).find("#appearance-design").attr("href"),e.targetContainer=$(b.parentContainer).find("#appearance-design").attr("targetcontainer")}else if((e.module==Modules.WEBFORMAPPEARANCE||e.module==Modules.WEBREPORTAPPEARANCE||e.module==Modules.WEBPAGEAPPEARANCE)&&!a.isBuilder)return a.updateComponent(c.type,c.compName),appbuilder.updateModule(module,!0),$(b.accordionMenuList).find(".zc-comp-link").removeClass("selected"),AccordionMenu.updateStaticName(e.cname),AccordionMenu.close(),$(b.accordionMenuList).find(".zc-comp-rightclick-menu").off("click"),
!1;var f=e.module==Modules.FORMBUILDER||e.module==Modules.REPORTBUILDER||e.module==Modules.PAGEBUILDER||e.module==Modules.WORKFLOWBUILDER||e.module==Modules.APPROVALBUILDER,k;b.compAjaxCall(e,c,function(){AccordionMenu.close();if(f){var a=$("#appbuilder-popup");$(a).html("");$(a).append(ComponentBuilder.getTemplateWrapper());var b=$("#builder-template");ComponentBuilder.setupBuilder();switch(e.module){case Modules.FORMBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-form-icon");
"true"==c.isThirdPartyForm?$(b).append(FormCompBuilder.getTPTemplate()):$(b).append(FormCompBuilder.getTemplate());break;case Modules.REPORTBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em");$(b).append(ReportCompBuilder.getTemplate());break;case Modules.PAGEBUILDER:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon"),$(b).append(PageCompBuilder.getTemplate())}$(a).append(ComponentBuilder.getContentWrapper())}else k=setTimeout(showLoading,500)},function(d,
g,h){clearTimeout(k);"#appearance-content"!=e.targetContainer&&"#appbuilder-main"!=e.targetContainer||!$("#appbuilder-popup").hasClass("active")||($("#appbuilder-popup").removeClass("fadeIn").deActive(),$(b.parentContainer).addClass("zc-compappearance-hdr").removeClass("zc-compbuilder-hdr"),$(b.parentContainer).find("#appbuilder-main-nav").show(),$(e.targetContainer).show(),$(b.parentContainer).find(".zc-dem-left-navigation").show(),$(b.parentContainer).find(".zc-dem-left-menu-container").attr("style",
"width: calc(100% - 68px)"),$("#appbuilder-main").show(),$("#appIcon").show());"#appbuilder-main"==e.targetContainer&&WebAppearance.showAppearance(a,c);a.updateComponent(c.type,c.compName);hideLoading();f?$("#builder-cont").html(d).show():$(e.targetContainer).html(d);appbuilder.updateModule(e.module,!0);d=[Modules.FORMBUILDER,Modules.PAGEBUILDER,Modules.WORKFLOWBUILDER,Modules.APPROVALBUILDER];e.module==Modules.REPORTBUILDER&&reportProps.isZohoReport&&d.push(Modules.REPORTBUILDER);-1==$.inArray(e.module,
d)&&ComponentBuilder.fadeOutTemplate(800);$(b.accordionMenuList).find(".zc-comp-link").removeClass("selected");AccordionMenu.updateStaticName(e.cname);"1"!=a.deviceType&&(a.updateMobileJSON($.extend(variable.mobileContent,variable.mobileCompsJSON)),e.module!=Modules.MOBILEFORMAPPEARANCE&&e.module!=Modules.MOBILEREPORTAPPEARANCE&&e.module!=Modules.MOBILEPAGEAPPEARANCE||MobileAppearance.showAppearance(a,c))})};this.compAjaxCall=function(a,b,c,d){$.ajax({url:a.url,data:{xajazc:!0},type:"GET",beforeSend:c(),
success:function(a,b,c){d(a,b,c)}})};this.preProcess=function(){2==a.componentType&&($(self.parentContainer).removeClass("zc-dem-report-header"),$(self.parentContainer).find(".zc-dem-notify-li").show(),reportProps.isZohoReport&&(ZCReportEditor.getXMLConfigDetails(),$("#appbuilder-popup").html("")),reportProps.isZohoReport=!1);3==a.componentType&&($("#zpsavePage").trigger("click"),$("#zc-load-editor").remove(),$("#zc-switchtooldpage-comp").remove());4==a.componentType&&$(self.parentContainer).removeClass("zc-dem-workflow-header");
5==a.componentType&&($(self.parentContainer).removeClass("zc-dem-workflow-header"),$.approvalObj.processSave());$(".zc-dem-pageeditor-li").remove();$("#appbuilder-popup").removeClass("zc-dem-page-open");$("#appbuilder-popup").removeClass("pivot-report-header")};this.removeFilter=function(a){d=!1;$(b.accordionMenuList).find(".zc-dem-"+a+".zc-dem-filter").remove();$(b.accordionMenuList).find(".zc-dem-"+a+".zc-comp-link.selected").removeClass("selected");$(b.accordionMenuList).find(".zc-dem-compnt-accdn").show();
$(b.accordionMenuList).find(".zc-comp-link").parent().show();$(b.accordionMenuList).find("#zc-settings-list").hide();$(b.accordionMenuList).find("#zc-search-help-link").hide();$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height("");$(b.accordionMenuList).find(".zc-dem-compnt-primary").removeClass("zc-dem-compnt-primary-filtered");switch(a){case "reports":$(b.accordionMenuList).find(".zc-dem-workflows").find(".zc-dem-filter").length||$(".zc-dem-forms").find(".zc-comp-link.selected").removeClass("selected");
b.getCompMenu(b.pageCompsJSON.reports,"reports",2);break;case "workflows":$(b.accordionMenuList).find(".zc-dem-reports").find(".zc-dem-filter").length||$(b.accordionMenuList).find(".zc-dem-forms").find(".zc-comp-link.selected").removeClass("selected");b.getWorkflowsList(b.pageCompsJSON.workflows,"workflows",4);break;default:$(b.accordionMenuList).find(".zc-dem-forms").find(".zc-comp-link.selected").removeClass("selected"),b.getCompMenu(b.pageCompsJSON.reports,"reports",2),b.getWorkflowsList(b.pageCompsJSON.workflows,
"workflows",4)}};this.constructMenu=function(){$(b.accordionMenuList).find(".zc-dem-compnt-primary").html("");$(b.accordionMenuList).find(".zc-dem-compnt-secondary").html("");$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height("");$(b.accordionMenuList).find(".zc-dem-compnt-primary").removeClass("zc-dem-compnt-primary-filtered");""==a.compLinkName||3==a.componentType?(this.getCompMenu(b.pageCompsJSON.forms,"forms",1),this.getCompMenu(b.pageCompsJSON.reports,"reports",2,"common"),
this.getWorkflowsList(b.pageCompsJSON.workflows,"workflows",4,"common")):($(b.accordionMenuList).find(".zc-dem-compnt-primary").html(""),$(b.accordionMenuList).find(".zc-dem-compnt-secondary").html(""),$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height(""),$(b.accordionMenuList).find(".zc-dem-compnt-primary").removeClass("zc-dem-compnt-primary-filtered"),this.getCompMenu(b.pageCompsJSON.forms,"forms",1),this.getReportsByForm(b.pageCompsJSON.reports,"reports",2),this.getWorkflowsByForm(b.pageCompsJSON.workflows,
"workflows",4));this.getCompMenu(b.pageCompsJSON.pages,"pages",3);this.getSettingsList(b.pageCompsJSON.settings,5);this.addHelpLink();$(b.accordionMenuList).find('.zc-comp-link[cname\x3d"'+a.compLinkName+'"]').addClass("selected zc-selected-loader zc-dem-active-compt");$.each(["forms","reports","workflows","pages"],function(a,b){a=$("#zc-dem-compnt-listing-"+b);void 0===$(a).data("zcsp")&&$(a).zcScrollPane({autoReinit:!0})})};this.getFormForComponent=function(a,c){var d="";switch(a){case 1:d=c;break;
case 2:$.each(b.pageCompsJSON.formToReport,function(a,b){if(-1!=b.indexOf(c))return d=a,!1});break;case 4:$.each(b.pageCompsJSON.formToWorkflow,function(a,b){if(-1!=b.indexOf(c))return d=a,!1});break;case 5:$.each(b.pageCompsJSON.workflows,function(a,b){void 0!=b.ApprovalList&&$.each(b.ApprovalList,function(b,e){e.approvalLinkName==c&&(d=a)})})}return d};this.getCompMenu=function(c,d,g,h){var e=$('\x3cdiv class\x3d"zc-dem-compnt-accdn expand zc-dem-'+d+'"\x3e'),f=$('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+
b.getTranslatedKey(d)+"\x3c/span\x3e\x3c/a\x3e"),m=$('\x3cul class\x3d"zc-dem-compnt-container"\x3e'),n=$('\x3cdiv id\x3d"zc-dem-compnt-listing-'+d+'" class\x3d"zc-dem-compnt-listing-common" comptype\x3d"'+g+'"\x3e'),q=a.isBuilder?"#appbuilder-popup":"#appearance-content";$.each(c,function(a,c){a=c.dn;var e=c.cn,f=c.icon,h=c.isThirdPartyForm;c=$("\x3cli\x3e");a=$('\x3ca elname\x3d"appComponent" class\x3d"zc-comp-link '+f+'" ajax\x3d"true" href\x3d"'+b.getPreviewURL(e,d)+'" modulename\x3d"'+b.getModuleName(g)+
'" url\x3d"'+b.getPreviewURL(e,d)+'" modulename\x3d"'+b.getModuleName(g)+'"  targetContainer \x3d '+q+' ctype\x3d"'+g+'" cname\x3d"'+e+'" isThirdPartyModule\x3d'+h+"\x3e").append($('\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e').text(a));$(m).append($(c).append(a))});if(0==c.length){c="";switch(d){case "forms":c=i18n["zc.appedit.accordion.noformstodisplay"];break;case "reports":c=i18n["zc.appedit.accordion.noreportstodisplay"];break;case "pages":c=i18n["zc.appedit.accordion.nopagestodisplay"];break;
case "workflows":c=i18n["zc.appedit.accordion.noworkflowstodisplay"]}$(m).append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+c+"\x3c/span\x3e\x3c/li\x3e")}"reports"==d?"common"==h?($(e).append(f),$(n).append(m),$(e).append(n),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append($(e))):($(n).append(m),$(b.accordionMenuList).find(".zc-dem-reports").empty().append($(f),$(n))):($(b.accordionMenuList).find(".zc-dem-forms .zc-comp-link .zc-dem-text-ellipsis").append('\x3ci class\x3d"zc-em zc-rb-filter"\x3e\x3c/i\x3e'),
$(e).append(f),$(n).append(m),$(e).append(n),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append($(e)));h=$(b.accordionMenuList).find("#zc-dem-compnt-listing-"+d);void 0===$(h).data("zcsp")&&$(h).zcScrollPane({autoReinit:!0,success:function(){"reports"!=d&&b.scrollSelectedComp(g)}})};this.getReportsByForm=function(c,f,g,h,k){d=!0;var e=$('\x3cdiv class\x3d"zc-dem-compnt-accdn expand zc-dem-'+f+'"\x3e'),m=$('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey(f)+
"\x3c/span\x3e\x3c/a\x3e"),n=$('\x3cul class\x3d"zc-dem-compnt-container"\x3e'),q=$('\x3cdiv id\x3d"zc-dem-compnt-listing-'+f+'" class\x3d"zc-dem-compnt-listing-common" comptype\x3d"'+g+'"\x3e'),w=a.isBuilder?"#appbuilder-popup":"#appearance-content";"filterajax"!=h&&(k=b.getFormForComponent(parseInt(a.componentType),a.compLinkName),$(b.accordionMenuList).find('.zc-comp-link[cname\x3d"'+k+'"]').addClass("selected"));if(""==k)b.getCompMenu(b.pageCompsJSON.reports,"reports",2,"common");else{var r="";
$.each(b.pageCompsJSON.forms,function(a,b){b.cn==k&&(r=b.dn)});var I=$('\x3cdiv class\x3d"zc-dem-filter"\x3e\x3clabel\x3e'+b.getTranslatedKey("filteredby")+'\x3c/label\x3e\x3cdiv id\x3d"zc-formfilter-name"\x3e'+$("\x3cdiv\x3e").text(r).html()+'\x3cspan class\x3d"zc-filter-close-reports"\x3e\x3ci class\x3d"zc-em zc-common-close"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e');$(q).addClass("zc-dem-compnt-filter-applied");$(m).append(I);$.each(c,function(a,c){a=$("\x3cli\x3e");var d=c.dn,e=c.cn,
h=c.icon;c.fcn==k&&(c=$('\x3ca elname\x3d"appComponent" class\x3d"zc-comp-link '+h+'" ajax\x3d"true" href\x3d"'+b.getPreviewURL(e,f)+'" modulename\x3d"'+b.getModuleName(g)+'" url\x3d"'+b.getPreviewURL(e,f)+'" modulename\x3d"'+b.getModuleName(g)+'"  targetContainer \x3d '+w+' ctype\x3d"'+g+'" cname\x3d"'+e+'"\x3e').append($('\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e').text(d)),$(n).append($(a).append(c)))});"filterajax"==h?($(q).append(n),$(b.accordionMenuList).find(".zc-dem-reports").empty().append($(m),
$(q))):($(e).append(m),$(q).append(n),$(e).append(q),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append($(e)));0==$(b.accordionMenuList).find(".zc-dem-reports").find("ul li").length&&(c=i18n["zc.appedit.accordion.noreportstodisplay"],$(n).append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+c+"\x3c/span\x3e\x3c/li\x3e"));c=$(b.accordionMenuList).find("#zc-dem-compnt-listing-"+f);void 0===$(c).data("zcsp")&&$(c).zcScrollPane({autoReinit:!0,success:function(){b.scrollSelectedComp(g)}})}};
this.getWorkflowIcon=function(a){switch(a){case Constants.FORM_WF:case Constants.PRE_ONCOMMIT_WF:case Constants.CUSTOM_WF:case Constants.STATELESS_BUTTON_WF:return"zc-em zc-common-whileusing-form";case Constants.APPROVAL_WF:return"zc-em zc-wb-success-message";case Constants.FORM_SCHEDULE_WF:case Constants.DATE_SCHEDULE_WF:return"zc-em zc-common-scheduleddate";case Constants.PAYMENT_WF:return"zc-em zc-wb-currency";default:return"zc-em zc-common-whileusing-form"}};this.getWorkflowsList=function(c,d,
g,h){var e=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-compnt-accdn expand zc-dem-"+d);$(e).append($('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey(d)+"\x3c/span\x3e\x3c/a\x3e"));var f=$("\x3cul\x3e\x3c/ul\x3e").attr("class","zc-dem-compnt-container");g=$('\x3cdiv id\x3d"zc-dem-compnt-listing-'+d+'" class\x3d"zc-dem-compnt-listing-common" comptype\x3d"'+g+'"\x3e');$.each(c,function(c,d){void 0!=d.workflowList&&$.each(d.workflowList,function(c,
e){c=e[WorkflowConstants.TYPE];var g=e[WorkflowConstants.WF_LINK_NAME],h=e[WorkflowConstants.SUB_EVENT_TYPE],k=e[WorkflowConstants.EVENT_TYPE],l=e[WorkflowConstants.FIELD_NAME],m=e[WorkflowConstants.SUB_FIELD_NAME];g=$("\x3ca\x3e\x3c/a\x3e").attr("elname","workflowComponent").attr("class","zc-comp-link "+b.getWorkflowIcon(c)).attr("cname",g).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","workflowbuilder").attr("url","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/workflowbuilder/"+
g+"/edit").attr("href","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/workflowbuilder/"+g+"/edit").attr("ctype","4").attr("modulename",b.getModuleName(4));var n=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").html(e[WorkflowConstants.WF_NAME]);$(g).append($(n));if(d.isWorkflowV2Enabled){if((c==Constants.FORM_WF||c==Constants.STATELESS_BUTTON_WF)&&void 0!=h&&0!=h){n=WorkflowUtil.getSubTypeNames(k,h);if(h==Constants.ONUSERINPUT||h==Constants.ONUPDATE||h==Constants.ONADDROW||h==Constants.ONDELETEROW)n=
void 0!=m?n.replace("{0}",l+"."+m):n.replace("{0}",l);h==Constants.CLICKOFBUTTON&&(n=n.replace("{0}",e[WorkflowConstants.BUTTON_NAME]));WorkflowUtil.getEventTypeNames(k);c==Constants.STATELESS_BUTTON_WF?$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+n+"\x3c/span\x3e\x3c/div\x3e"):$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getEventTypeNames(k)+'\x3c/span\x3e\x3ci class\x3d"zc-em zc-common-angle-right"\x3e\x3c/i\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+
n+"\x3c/span\x3e\x3c/div\x3e")}c==Constants.DATE_SCHEDULE_WF&&(e=WorkflowUtil.getAccordionOneLiner(Constants.DATE_SCHEDULE_WF).replace("{date}",e[WorkflowConstants.EVENT_DATE]).replace("{time}",e[WorkflowConstants.EVENT_TIME]),$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+e+"\x3c/span\x3e\x3c/div\x3e"));c==Constants.FORM_SCHEDULE_WF&&$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+
WorkflowUtil.getAccordionOneLiner(Constants.FORM_SCHEDULE_WF).replace("{field-name}",l)+"\x3c/span\x3e\x3c/div\x3e");c==Constants.PAYMENT_WF&&$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.PAYMENT_WF)+"\x3c/span\x3e\x3c/div\x3e");c==Constants.CUSTOM_WF&&$(g).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.CUSTOM_WF)+
"\x3c/span\x3e\x3c/div\x3e")}$(f).append($("\x3cli\x3e\x3c/li\x3e").append(g))});void 0!=d.ApprovalList&&$.each(d.ApprovalList,function(c,e){c=$("\x3ca\x3e\x3c/a\x3e").attr("elname","approvalWFComponent").attr("class","zc-comp-link "+e.icon).attr("cname",e.approvalLinkName).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","approvalbuilder").attr("url","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/"+d.formLinkName+"/approvalWorkFlow/"+e.approvalLinkName+"/edit").attr("href",
"/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/"+d.formLinkName+"/approvalWorkFlow/"+e.approvalLinkName+"/edit").attr("ctype","5").attr("modulename",b.getModuleName(5));e=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").text(e.ApprovalName);$(c).append($(e));d.isWorkflowV2Enabled&&$(c).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.APPROVAL_WF)+"\x3c/span\x3e\x3c/div\x3e");
$(f).append($("\x3cli\x3e\x3c/li\x3e").append(c))});void 0!=d.BPWorkflowList&&$.each(d.BPWorkflowList,function(b,c){b="/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/blueprint/"+c.blueprintId+"/edit";b=$("\x3ca\x3e\x3c/a\x3e").attr("elname","workflowComponent").attr("class","zc-comp-link zc-em zc-blue_print_icon").attr("cname",c.blueprintId).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","blueprintbuilder").attr("url",b).attr("href",b).attr("ctype","8").attr("modulename",
"blueprintbuilder");c=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").text(c.blueprintName);$(b).append($(c));d.isWorkflowV2Enabled&&$(b).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.BLUEPRINT)+"\x3c/span\x3e\x3c/div\x3e");$(f).append($("\x3cli\x3e\x3c/li\x3e").append(b))})});"workflows"==d?"common"==h?($(g).append(f),$(e).append(g),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append(e)):
($(g).append(f),$(b.accordionMenuList).find(".zc-dem-workflows").empty().append($('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey(d)+"\x3c/span\x3e\x3c/a\x3e"),g)):($(g).append(f),$(e).append(g),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append(e));0==$(b.accordionMenuList).find(".zc-dem-workflows").find("ul li").length&&$(f).append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+i18n["zc.appedit.accordion.noworkflowstodisplay"]+"\x3c/span\x3e\x3c/li\x3e");
c=$(b.accordionMenuList).find("#zc-dem-compnt-listing-"+d);void 0===$(c).data("zcsp")&&$(c).zcScrollPane({autoReinit:!0})};this.getWorkflowsByForm=function(c,f,g,h,k){d=!0;var e=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-compnt-accdn expand zc-dem-"+f),m=$('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey(f)+"\x3c/span\x3e\x3c/a\x3e"),n=$('\x3cdiv id\x3d"zc-dem-compnt-listing-'+f+'" class\x3d"zc-dem-compnt-listing-common" comptype\x3d"'+g+'"\x3e');
"filterajax"!=h&&(k=b.getFormForComponent(parseInt(a.componentType),a.compLinkName),$(b.accordionMenuList).find('.zc-comp-link[cname\x3d"'+k+'"]').addClass("selected"));if(""==k)b.getWorkflowsList(b.pageCompsJSON.workflows,"workflows",4,"common");else{var q="";$.each(b.pageCompsJSON.forms,function(a,b){b.cn==k&&(q=b.dn)});var w=$('\x3cdiv class\x3d"zc-dem-filter"\x3e\x3clabel\x3e'+b.getTranslatedKey("filteredby")+"\x3c/label\x3e\x3cdiv\x3e"+$("\x3cdiv\x3e").text(q).html()+'\x3cspan class\x3d"zc-filter-close-workflows"\x3e\x3ci class\x3d"zc-em zc-common-close"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e'),
r=$("\x3cul\x3e\x3c/ul\x3e").attr("class","zc-dem-compnt-container");$(n).addClass("zc-dem-compnt-filter-applied");$(m).append(w);$.each(c,function(c,d){void 0!=d.workflowList&&$.each(d.workflowList,function(c,e){c=e[WorkflowConstants.TYPE];var f=e[WorkflowConstants.WF_LINK_NAME],g=e[WorkflowConstants.SUB_EVENT_TYPE],h=e[WorkflowConstants.EVENT_TYPE],l=e[WorkflowConstants.FIELD_NAME],n=e[WorkflowConstants.SUB_FIELD_NAME];if(void 0!=b.pageCompsJSON.formToWorkflow[k]&&-1!=b.pageCompsJSON.formToWorkflow[k].indexOf(f)){f=
$("\x3ca\x3e\x3c/a\x3e").attr("elname","workflowComponent").attr("class","zc-comp-link "+b.getWorkflowIcon(c)).attr("cname",f).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","workflowbuilder").attr("url","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/workflowbuilder/"+f+"/edit").attr("href","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/workflowbuilder/"+f+"/edit").attr("ctype","4").attr("modulename",b.getModuleName(4));var m=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").html(e[WorkflowConstants.WF_NAME]);
$(f).append($(m));if(d.isWorkflowV2Enabled){if((c==Constants.FORM_WF||c==Constants.STATELESS_BUTTON_WF)&&void 0!=g&&0!=g){m=WorkflowUtil.getSubTypeNames(h,g);if(g==Constants.ONUSERINPUT||g==Constants.ONUPDATE||g==Constants.ONADDROW||g==Constants.ONDELETEROW)m=void 0!=n?m.replace("{0}",l+"."+n):m.replace("{0}",l);g==Constants.CLICKOFBUTTON&&(m=m.replace("{0}",e[WorkflowConstants.BUTTON_NAME]));WorkflowUtil.getEventTypeNames(h);c==Constants.STATELESS_BUTTON_WF?$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+
m+"\x3c/span\x3e\x3c/div\x3e"):$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getEventTypeNames(h)+'\x3c/span\x3e\x3ci class\x3d"zc-em zc-common-angle-right"\x3e\x3c/i\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+m+"\x3c/span\x3e\x3c/div\x3e")}c==Constants.DATE_SCHEDULE_WF&&(e=WorkflowUtil.getAccordionOneLiner(Constants.DATE_SCHEDULE_WF).replace("{date}",e[WorkflowConstants.EVENT_DATE]).replace("{time}",e[WorkflowConstants.EVENT_TIME]),
$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+e+"\x3c/span\x3e\x3c/div\x3e"));c==Constants.FORM_SCHEDULE_WF&&$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.FORM_SCHEDULE_WF).replace("{field-name}",l)+"\x3c/span\x3e\x3c/div\x3e");c==Constants.PAYMENT_WF&&$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+
WorkflowUtil.getAccordionOneLiner(Constants.PAYMENT_WF)+"\x3c/span\x3e\x3c/div\x3e");c==Constants.CUSTOM_WF&&$(f).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.CUSTOM_WF)+"\x3c/span\x3e\x3c/div\x3e")}$(r).append($("\x3cli\x3e\x3c/li\x3e").append(f))}});void 0!=d.ApprovalList&&d.formLinkName==k&&$.each(d.ApprovalList,function(c,e){c=$("\x3ca\x3e\x3c/a\x3e").attr("elname","approvalWFComponent").attr("class",
"zc-comp-link "+e.icon).attr("cname",e.approvalLinkName).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","approvalbuilder").attr("url","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/"+d.formLinkName+"/approvalWorkFlow/"+e.approvalLinkName+"/edit").attr("href","/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/"+d.formLinkName+"/approvalWorkFlow/"+e.approvalLinkName+"/edit").attr("ctype","5").attr("modulename",b.getModuleName(5));e=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").text(e.ApprovalName);
$(c).append($(e));d.isWorkflowV2Enabled&&$(c).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+WorkflowUtil.getAccordionOneLiner(Constants.APPROVAL_WF)+"\x3c/span\x3e\x3c/div\x3e");$(r).append($("\x3cli\x3e\x3c/li\x3e").append(c))});void 0!=d.BPWorkflowList&&d.formLinkName==k&&$.each(d.BPWorkflowList,function(b,c){b="/appbuilder/"+a.scopeName+"/"+a.appLinkName+"/blueprint/"+c.blueprintId+"/edit";b=$("\x3ca\x3e\x3c/a\x3e").attr("elname",
"workflowComponent").attr("class","zc-comp-link zc-em zc-blue_print_icon").attr("cname",c.blueprintId).attr("ajax","true").attr("targetContainer","#appbuilder-popup").attr("module","blueprintbuilder").attr("url",b).attr("href",b).attr("ctype","8").attr("modulename","blueprintbuilder");c=$("\x3cspan class\x3d'zc-dem-text-ellipsis'\x3e\x3c/span\x3e").text(c.blueprintName);$(b).append($(c));d.isWorkflowV2Enabled&&$(b).append('\x3cdiv class\x3d"zc-wf-comp-filter zc-wf-single-comp-filter"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+
WorkflowUtil.getAccordionOneLiner(Constants.BLUEPRINT)+"\x3c/span\x3e\x3c/div\x3e");$(r).append($("\x3cli\x3e\x3c/li\x3e").append(b))})});"filterajax"==h?($(n).append(r),$(b.accordionMenuList).find(".zc-dem-workflows").empty().append($(m),n)):($(e).append(m),$(n).append(r),$(e).append(n),$(b.accordionMenuList).find(".zc-dem-compnt-primary").append($(e)));0==$(".zc-dem-workflows").find("ul li").length&&$(r).append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+i18n["zc.appedit.accordion.noworkflowstodisplay"]+
"\x3c/span\x3e\x3c/li\x3e");c=$(b.accordionMenuList).find("#zc-dem-compnt-listing-"+f);void 0===$(c).data("zcsp")&&$(c).zcScrollPane({autoReinit:!0,success:function(){b.scrollSelectedComp(g)}})}};this.getSettingsList=function(c,d){var e='\x3cdiv id\x3d"zc-settings-list" class\x3d"zc-dem-compnt-accdn expand hide"\x3e';e+='\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey("settings")+"\x3c/span\x3e\x3c/a\x3e";e+='\x3cdiv id\x3d"zc-dem-settings-listing" class\x3d"zc-dem-compnt-listing-common"\x3e';
e+='\x3cul class\x3d"zc-dem-compnt-container"\x3e';$.each(c,function(c,d){e+='\x3cli\x3e\x3ca elname\x3d"settingComponent" ajax\x3d"true" class\x3d"zc-comp-link" modulename \x3d '+b.getModuleName(6)+' targetContainer\x3d"#appbuilder-main" href\x3d"/appbuilder/'+a.scopeName+"/"+a.appLinkName+"/settings/edit#"+d.cn+'" url\x3d"/appbuilder/'+a.scopeName+"/"+a.appLinkName+"/settings/edit#"+d.cn+'"\x3e \x3cspan class\x3d"zc-dem-text-ellipsis"\x3e'+d.dn+"\x3c/span\x3e \x3c/a\x3e\x3c/li\x3e"});e+="\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e";
$(".zc-dem-compnt-secondary").append($(e));c=$(b.accordionMenuList).find("#zc-dem-settings-listing");void 0===$(c).data("zcsp")&&$(c).zcScrollPane({autoReinit:!0})};this.addHelpLink=function(){var a='\x3cdiv id\x3d"zc-search-help-link" class\x3d"zc-dem-compnt-accdn expand hide"\x3e'+('\x3ca href\x3d"javascript:;" class\x3d"zc-dem-allcompnt-head"\x3e\x3cspan\x3e'+b.getTranslatedKey("help")+"\x3c/span\x3e\x3c/a\x3e");a+='\x3cul class\x3d"zc-dem-compnt-container"\x3e\x3cli\x3e\x3ca class\x3d"zc-comp-link" href\x3d"" target\x3d"_blank"\x3e\x3cspan class\x3d"zc-dem-text-ellipsis"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e';
$(b.accordionMenuList).find(".zc-dem-compnt-secondary").append($(a))};this.getSearchResults=function(a){var d=new RegExp(a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26"),"i"),e=$(b.accordionMenuList).find(".zc-comp-link");a=!1;c=!0;$(b.accordionMenuList).find(".zc-dem-compnt-primary").addClass("zc-dem-compnt-primary-filtered");$(b.accordionMenuList).find("#zc-settings-list").show();e.parent().hide();$(b.accordionMenuList).find(".zc-dem-nocomp").remove();$.each(e,function(a){a=e[a];var b=
$(a).find("span").html(),c=$(a).attr("cname");if(d.test(b)||d.test(c))$(a).parents(".zc-dem-compnt-accdn").show(),$(a).parent().show()});if(0==$(b.accordionMenuList).find(".zc-dem-reports ul li:visible").length){a=!0;var h=i18n["zc.appedit.accordion.noreportstodisplay"];$(b.accordionMenuList).find(".zc-dem-reports ul").append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+h+"\x3c/span\x3e\x3c/li\x3e")}0==$(b.accordionMenuList).find(".zc-dem-forms ul li:visible").length&&(a=!0,h=i18n["zc.appedit.accordion.noformstodisplay"],
$(b.accordionMenuList).find(".zc-dem-forms ul").append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+h+"\x3c/span\x3e\x3c/li\x3e"));0==$(b.accordionMenuList).find(".zc-dem-workflows ul li:visible").length&&(a=!0,h=i18n["zc.appedit.accordion.noworkflowstodisplay"],$(b.accordionMenuList).find(".zc-dem-workflows ul").append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+h+"\x3c/span\x3e\x3c/li\x3e"));0==$(b.accordionMenuList).find(".zc-dem-pages ul li:visible").length&&(a=!0,h=i18n["zc.appedit.accordion.nopagestodisplay"],
$(b.accordionMenuList).find(".zc-dem-pages ul").append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+h+"\x3c/span\x3e\x3c/li\x3e"));0==$(b.accordionMenuList).find("#zc-settings-list ul li:visible").length&&(a=!0,h=i18n["zc.appedit.accordion.nosettingstodisplay"],$(b.accordionMenuList).find("#zc-settings-list ul").append('\x3cli class\x3d"zc-dem-nocomp"\x3e\x3cspan\x3e'+h+"\x3c/span\x3e\x3c/li\x3e"));a||$(b.accordionMenuList).find(".zc-dem-nocomp").remove();$(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height($(b.accordionMenuList).find(".zc-dem-compnt-primary-filtered").height())};
this.scrollSelectedComp=function(c){if(c==a.componentType){if(0<$(".zc-dem-compnt-listing-common[comptype\x3d"+a.componentType+"]").length){var d=$(".zc-dem-compnt-listing-common[comptype\x3d"+a.componentType+"]");var e=d.find(".zc-comp-link[cname\x3d"+a.compLinkName+"]").position()}if(2==a.componentType||4==a.componentType)c=b.getFormForComponent(a.componentType,a.compLinkName),0<$(".zc-dem-compnt-listing-common[comptype\x3d1]").length&&(d=$(".zc-dem-compnt-listing-common[comptype\x3d1]"),e=d.find(".zc-comp-link[cname\x3d"+
c+"]").position());d&&d.height()&&d.data("zcsp")&&(e=void 0!=e?e.top:0,d.data("zcsp").scrollToPosition(e,!1,800))}};this.getTranslatedKey=function(a){switch(a){case "forms":var b=i18n["zc.appedit.accordion.forms"];break;case "reports":b=i18n["zc.appedit.accordion.reports"];break;case "workflows":b=i18n["zc.appedit.accordion.workflows"];break;case "pages":b=i18n["zc.appedit.accordion.pages"];break;case "settings":b=i18n["zc.appedit.accordion.settings"];break;case "help":b=i18n["zc.appedit.accordion.help"];
break;case "filteredby":b=i18n["zc.appedit.accordion.filteredby"];break;case "searchhelp":b=i18n["zc.appedit.accordion.searchhelp"]}return b};this.getPreviewURL=function(b,c){var d=a.isBuilder?"builder":"";switch(c){case "forms":return appbuilder.component.APP.getAppEditUrl()+"/form"+d+"/"+b+"/edit";case "reports":return appbuilder.component.APP.getAppEditUrl()+"/report"+d+"/"+b+"/edit";case "pages":return appbuilder.component.APP.getAppEditUrl()+"/page"+d+"/"+b+"/edit";default:return""}};this.getCompPreviewURL=
function(a,b){switch(b){case 1:return appbuilder.component.APP.getAppEditUrl()+"/form/"+a+"/edit";case 2:return appbuilder.component.APP.getAppEditUrl()+"/report/"+a+"/edit";case 3:return appbuilder.component.APP.getAppEditUrl()+"/page/"+a+"/edit";default:return""}};this.getCompBuilderURL=function(a,b){switch(b){case 1:return appbuilder.component.APP.getAppEditUrl()+"/formbuilder/"+a+"/edit";case 2:return appbuilder.component.APP.getAppEditUrl()+"/reportbuilder/"+a+"/edit";case 3:return appbuilder.component.APP.getAppEditUrl()+
"/pagebuilder/"+a+"/edit";default:return""}};this.getCompLiveURL=function(a,b){switch(b){case 1:return appbuilder.component.APP.getLiveURL()+"#Form:"+a;case 2:return appbuilder.component.APP.getLiveURL()+"#Report:"+a;case 3:return appbuilder.component.APP.getLiveURL()+"#Page:"+a;default:return""}};this.getModuleName=function(b){switch(b){case 1:return a.isBuilder?Modules.FORMBUILDER:a.deviceType==Constants.DEVICE_WEB?Modules.WEBFORMAPPEARANCE:Modules.MOBILEFORMAPPEARANCE;case 2:return a.isBuilder?
Modules.REPORTBUILDER:a.deviceType==Constants.DEVICE_WEB?Modules.WEBREPORTAPPEARANCE:Modules.MOBILEREPORTAPPEARANCE;case 3:return a.isBuilder?Modules.PAGEBUILDER:a.deviceType==Constants.DEVICE_WEB?Modules.WEBPAGEAPPEARANCE:Modules.MOBILEPAGEAPPEARANCE;case 4:return Modules.WORKFLOWBUILDER;case 5:return Modules.APPROVALBUILDER;case 6:return Modules.APPSETTINGS;default:return""}};this.getCompPreviewModuleName=function(b){switch(b){case 1:return a.deviceType==Constants.DEVICE_WEB?Modules.WEBFORMAPPEARANCE:
Modules.MOBILEFORMAPPEARANCE;case 2:return a.deviceType==Constants.DEVICE_WEB?Modules.WEBREPORTAPPEARANCE:Modules.MOBILEREPORTAPPEARANCE;case 3:return a.deviceType==Constants.DEVICE_WEB?Modules.WEBPAGEAPPEARANCE:Modules.MOBILEPAGEAPPEARANCE;default:return""}};this.getCompBuilderModuleName=function(a){switch(a){case 1:return Modules.FORMBUILDER;case 2:return Modules.REPORTBUILDER;case 3:return Modules.PAGEBUILDER;default:return""}};this.constructRightClickMenu=function(a,c){var d='\x3cli\x3e\x3ca class\x3d"zc-comp-rightclick-menu" href\x3d"'+
b.getCompPreviewURL(a,c)+'" ctype\x3d"'+c+'" cname\x3d"'+a+'" mode\x3d"appearance" viewmenu\x3d"true"\x3e'+i18n["zc.appedit.accordion.opendesign"]+"\x3c/a\x3e\x3c/li\x3e",e='\x3cli\x3e\x3ca class\x3d"zc-comp-rightclick-menu" href\x3d"'+b.getCompBuilderURL(a,c)+'" ctype\x3d"'+c+'" cname\x3d"'+a+'" mode\x3d"builder" viewmenu\x3d"true"\x3e'+i18n["zc.appedit.accordion.openbuilder"]+"\x3c/a\x3e\x3c/li\x3e",f='\x3cli\x3e\x3ca class\x3d"" href\x3d"'+b.getCompLiveURL(a,c)+'"\x3e'+i18n["zc.appedit.accordion.accesslive"]+
"\x3c/a\x3e\x3c/li\x3e",l=$('\x3cul id\x3d"viewMenu" class\x3d"zc-dem-view-rightclick-menu hide"\x3e\x3c/ul\x3e');if("2"==c){var m=!1;$.each(b.pageCompsJSON.reports,function(c,d){if(d.cn==a){var e=d.fcn;$.each(b.pageCompsJSON.forms,function(a,b){b.cn==e&&(m=b.isThirdPartyForm)})}});m?$(l).append(d).append(f):$(l).append(d).append(e).append(f)}else $(l).append(d).append(e).append(f);return l}}AccordionMenu.doneLoading=!0;
AccordionMenu.showPreloader=function(){var a=$("#accordion-template");0>=$(a).length&&($("#zc-component-accordion-menu").prepend(AccordionMenu.getTemplateWrapper()),a=$("#accordion-template"));var b=$("#accordian-menu-list");$(b).find(".zc-dem-compnt-primary").html("");$(b).find(".zc-dem-compnt-secondary").html("");$(a).append(AccordionMenu.getTemplate());$(a).show()};AccordionMenu.close=function(){$(".zc-dem-menuoverlay").trigger("click")};
AccordionMenu.fetch=function(a,b){$.ajax({beforeSend:function(){AccordionMenu.doneLoading=!1;AccordionMenu.showPreloader()},url:a.APP.getURL()+"/fetchAccordian",type:"GET",success:function(c,d,e){$("#accordion-template").fadeOut(800);AccordionMenu.doneLoading=!0;b(c);a.accordianMenu.showComps()}})};AccordionMenu.reinit=function(a){AccordionMenu.fetch(a,function(b){a.refreshPageComponents(b)})};AccordionMenu.updateStaticName=function(a){$("#zc-dem-comp-name").text(a);return!1};
AccordionMenu.updateName=function(a,b){function c(a){this.data=this.data||b;var c=parseInt(b.type);$.each(1==c?a.forms:2==c?a.reports:3==c?a.pages:[],function(a,c){if(c.cn==b.compName)return $("#zc-dem-comp-name").text(c.dn),$("#zc-dem-comp-name").attr("pageCompId",c.pcid),$("#zc-dem-comp-name").attr("pageId",c.pgid),!1})}function d(a){this.data=a;return c}if(a.hasPageComponents())c.call({data:b},a.getPageComponents());else{var e=d(b);AccordionMenu.fetch(a,e)}};AccordionMenu.getTemplateWrapper=function(){return'\x3cdiv id\x3d"accordion-template" class\x3d"zc-dem-accordion-template"\x3e\x3c/div\x3e'};
AccordionMenu.getTemplate=function(){return'\x3cdiv class\x3d"zc-dem-navigation-loading"\x3e\x3cdiv class\x3d"zc-dem-navigation-column"\x3e\x3cdiv class\x3d"zc-dem-navigation-column-title"\x3e\x3c/div\x3e\x3cul\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-navigation-column"\x3e\x3cdiv class\x3d"zc-dem-navigation-column-title"\x3e\x3c/div\x3e\x3cul\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-navigation-column"\x3e\x3cdiv class\x3d"zc-dem-navigation-column-title"\x3e\x3c/div\x3e\x3cul\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-navigation-column"\x3e\x3cdiv class\x3d"zc-dem-navigation-column-title"\x3e\x3c/div\x3e\x3cul\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'};var ConnectionConstant={ZC_BASIC:20,PAYMENT:5,POST:"POST",GET:"GET",PATCH:"PATCH",HEAD:"HEAD",DELETE:"DELETE"},IntegrationContext={SETUP:1,BUILDER:2,LIVE:3,ADMINDASHBOARD:4},ReferenceContext={REFERENCE_ONLY:1,DELETE:2,ENABLE:3,DISABLE:4},ConnectionPopupContext={INTEGRATION_FORM:1,INTEGRATION_FIELD:2,SETUP:3,WORKFLOW_ACTION:4,NOTIFICATION_ACTION:5,PAYMENT_WORKFLOW:6,PAGES_PANEL:7,DATASOURCE:8,BOOKINGS:9},ConnectionType={SYSTEM:1,USER:2,I18N:{1:i18n["zc.c5.setup.connections.services.systemtag"],2:i18n["zc.c5.setup.connections.services.usertag"]}},
ConnectionStatus={DISABLED:0,ENABLED:1,SYSTEM_DISABLED:2},connAuthRequiredElement="\x3cdiv class\x3d'zc-dem-clearfix'\x3e\x3c/div\x3e \x3cdiv id\x3d'connection-auth-required' class\x3d'zc-dem-error-connection-source'\x3e\x3clabel class\x3d'zc-dem-error-info-text'\x3e"+i18n["zc.builder.connectionauth.requireauth"]+" \x3c/label\x3e\x3cinput type\x3d'button' class\x3d'zc-dem-btn zc-dem-author-btn' tabindex\x3d'1' value\x3d'"+i18n["zc.common.builder.label.authorise"]+"'\x3e\x3c/div\x3e",dataSourceAuthRequired=
"\x3cdiv class\x3d'zc-dem-clearfix'\x3e\x3c/div\x3e \x3cdiv id\x3d'connection-auth-required' class\x3d'zc-dem-error-connection-source'\x3e\x3clabel class\x3d'zc-dem-error-text'\x3e"+i18n["zc.builder.connectionauth.requireauth"]+" \x3c/label\x3e\x3cinput type\x3d'button' class\x3d'zc-dem-btn zc-dem-author-btn' tabindex\x3d'1' value\x3d'"+i18n["zc.common.builder.label.authorise"]+"'\x3e\x3c/div\x3e";
function isFlowProxied(a){return a.isProxied&&void 0!=a.proxyService&&"zohoflow"==a.proxyService.linkName}
var ConnectionRegexValidator={validateDisplayName:function(a){return a&&""!=a?(new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\ \\*\\@\\/\\\\!\\:\\|\\~\\\x26\\.\\+]+$")).test(a):!1}},AppServiceContext={FORM:1,FIELD:2},ServiceAuthType=new function(){this.ISC_TICKET=0;this.AUTH_TOKEN=1;this.ORG_OAUTH=2;this.USER_OAUTH=3;this.USER_TICKET=4;this.OAUTH_1=21;this.OAUTH_2=22;this.BASIC_AUTH=23;this.API_KEY=24};
function isNull(a){return a&&null!=a&&"undefined"!=a&&"undefined"!=typeof a&&"NULL"!=a&&"null"!=a&&""!=a?!1:!0}bindListener();function bindListener(){sdkListener=function(a){a.origin&&(a=a.data,void 0!=a&&"actionSdk"==a.type?ComponentContext.processActionConfigData(a):void 0!=a&&"actionSdkDimension"==a.type&&ComponentContext.updateActionSDKDimensions(a))};window.addEventListener?window.addEventListener("message",sdkListener,!1):window.attachEvent("onmessage",sdkListener)};class ZCIntegUrl{constructor(a){this.sharedByDisp=a.sharedByDisp;this.integContext=a.integContext}getUrlPrefix(){switch(this.integContext){case IntegrationContext.SETUP:case IntegrationContext.ADMINDASHBOARD:return"/userhome/"+this.sharedByDisp;case IntegrationContext.BUILDER:return"/appbuilder/"+this.sharedByDisp+"/"+ZCGlobal.appLinkName;case IntegrationContext.LIVE:return"/"+GlobalUrls.getAppUrlFragment();default:return"/userhome/"+this.sharedByDisp}}getUpdateConnectionUrl(a){return this.getUrlPrefix()+
"/connection/"+a}getDeleteConnectionUrl(a){return this.getUrlPrefix()+"/connection/"+a}getConnectionInfoUrl(a){return this.getUrlPrefix()+"/connection/"+a}getConnectionReferenceUrl(a){return this.getUrlPrefix()+"/connection/"+a+"/refs"}getEnableOrDisableUrl(a){return this.getUrlPrefix()+"/connection/"+a+"/status"}getShowConnectionsUrl(){return this.getUrlPrefix()+"/showAllConnections"}getActionSDKFrameUrl(a){return this.getUrlPrefix()+"/loadActionFrame?isOperationsUI\x3d"+a}getAddConnectionUrl(){return this.getUrlPrefix()+
"/connection"}fetchAllServicesUrl(){return this.getUrlPrefix()+"/integrationservice"}getAuthorizeUrl(){return this.getUrlPrefix()+"/connection/authorize"}getModules(){return this.getUrlPrefix()+"/getModules"}getFields(){return this.getUrlPrefix()+"/getFields"}getConnections(a){return this.getUrlPrefix()+"/"+a+"/connections"}createAuthorizationUrl(a){return this.getUrlPrefix()+"/connection/"+a+"/authorisation"}reuseAuthorizationUrl(a,b){return this.getUrlPrefix()+"/connection/"+a+"/authorisation/"+
b}unlinkAuthorizationUrl(a,b){return this.getUrlPrefix()+"/connection/"+a+"/authorisation/"+b}authNameAssertionUrl(a){return this.getUrlPrefix()+"/connection/"+a+"/authorisation"}authAssertionUrl(a,b){return this.getUrlPrefix()+"/connection/"+a+"/authorisation/"+b}fetchAuthorizationsUrl(a){return this.getUrlPrefix()+"/connection/"+a+"/authorisation"}getPortals(){return this.getUrlPrefix()+"/getPortals"}getProjects(){return this.getUrlPrefix()+"/getProjects"}fetchDataSources(){return this.getUrlPrefix()+
"/datasources"}fetchDataSourcesForServiceVersion(a){return this.getUrlPrefix()+"/datasources/"+a}fetchDataSource(a){return this.getUrlPrefix()+"/datasource/"+a}fetchDataSourceFields(a){return this.getUrlPrefix()+"/datasource/"+a+"/fields"}fetchLookupSupportedDataSourceFields(a){return this.getUrlPrefix()+"/datasource/"+a+"/lookupFields"}fetchModules(a){return this.getUrlPrefix()+"/connection/"+a+"/modules"}fetchModule(a,b){return this.getUrlPrefix()+"/connection/"+a+"/modules/"+b}createDataSource(){return this.getUrlPrefix()+
"/datasource/create"}updateDataSource(a){return this.getUrlPrefix()+"/datasource/"+a+"/update"}getAuthParams(a){return this.getUrlPrefix()+"/connection/"+a+"/authparams"}authorize(a){return this.getUrlPrefix()+"/"+a+"/authorization"}getServiceVersionInfoUrl(a){return this.getUrlPrefix()+"/connector/"+a}getIntegrationService(a){return this.getUrlPrefix()+"/integrationservice/"+a}getStatesForCountryUrl(){return this.getUrlPrefix()+"/getStatesForCountry"}getComponentsUrl(a){return this.getUrlPrefix()+
"/connection/"+a+"/references"}}ZCIntegUrl.getInstance=function(a){return new ZCIntegUrl(a)};class ZCServiceConnection{constructor(a){this.ZCIntegUrl=ZCIntegUrl.getInstance(a);this.CSRFParamName=a.csrfParamName;this.CSRFParamToken=a.csrfToken;this.integContext=a.integContext;this.sharedByDisp=a.sharedByDisp}getCSRFMap(){return{"X-ZCSRF-TOKEN":this.CSRFParamName+"\x3d"+this.CSRFParamToken}}getLoader(){ZCServiceConnection.getLoader(this.integContext)}hideLoader(){ZCServiceConnection.hideLoader(this.integContext)}getSharedByDisp(){return this.sharedByDisp}getAllServiceList(a,b){let c=this;$.ajax({url:this.ZCIntegUrl.fetchAllServicesUrl(),
type:ConnectionConstant.GET,beforeSend:c.getLoader(),data:a,success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)}})}getIntegrationService(a,b){let c=this;$.ajax({beforeSend:c.getLoader(),url:this.ZCIntegUrl.getIntegrationService(a),type:ConnectionConstant.GET,success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)}})}getService(a,b){$.ajax({beforeSend:this.getLoader(),url:this.ZCIntegUrl.getServiceVersionInfoUrl(a),type:ConnectionConstant.GET,success:function(a,d,e){void 0!=b&&b(a)}})}getServiceVersion(a,
b){let c=this;$.ajax({beforeSend:c.getLoader(),url:this.ZCIntegUrl.getServiceVersionInfoUrl(a),type:ConnectionConstant.GET,success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)}})}getServiceActions(a){$.ajax({})}getModules(a,b){$.ajax({url:this.ZCIntegUrl.getModules(),type:ConnectionConstant.GET,data:a,success:function(a,d,e){void 0!=b&&b(a)}})}getPortals(a,b){$.ajax({url:this.ZCIntegUrl.getPortals(),type:ConnectionConstant.GET,data:{connectionId:a},success:function(a,d,e){void 0!=b&&b(a)}})}getProjects(a,
b,c){$.ajax({url:this.ZCIntegUrl.getProjects(),type:ConnectionConstant.GET,data:{connectionId:a,portalId:b},success:function(a,b,f){void 0!=c&&c(a)}})}getFields(a,b){$.ajax({url:this.ZCIntegUrl.getFields(),type:ConnectionConstant.GET,data:a,success:function(a,d,e){void 0!=b&&b(a)}})}getModuleOperations(a){$.ajax({})}getAllConnections(a,b,c){$.ajax({url:this.ZCIntegUrl.getConnections(a),type:ConnectionConstant.GET,data:b,success:function(a,b,f){void 0!=c&&c(a)}})}getConnection(a,b){let c=this;$.ajax({url:this.ZCIntegUrl.getConnectionInfoUrl(a),
type:ConnectionConstant.GET,beforeSend:c.getLoader(),success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)}})}getAuthFields(){$.ajax({})}addConnection(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.getAddConnectionUrl(),type:ConnectionConstant.POST,headers:d.getCSRFMap(),beforeSend:function(){b==ServiceAuthType.BASIC_AUTH&&d.getLoader()},data:a,dataType:"json",success:function(a,b,g){d.hideLoader();void 0!=c&&c(a)}})}updateConnection(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.getUpdateConnectionUrl(b),
type:ConnectionConstant.PATCH,headers:d.getCSRFMap(),beforeSend:d.getLoader(),data:a,dataType:"json",success:function(a,b,g){d.hideLoader();void 0!=c&&c(a)}})}getAuthParams(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.getAuthParams(a),type:ConnectionConstant.GET,dataType:"json",data:b,success:function(a,b,g){d.hideLoader();void 0!=c&&c(a)}})}connectAndGetAuthParams(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.getAuthParams(a),type:ConnectionConstant.POST,dataType:"json",data:c,beforeSend:d.getLoader(),
success:function(a,c,g){d.hideLoader();void 0!=b&&b(a)},error:function(){d.hideLoader()}})}getComponents(a,b){var c=this;$.ajax({url:this.ZCIntegUrl.getComponentsUrl(a),type:ConnectionConstant.GET,dataType:"json",beforeSend:c.getLoader(),success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)},error:function(){c.hideLoader()}})}authorize(a,b,c,d){let e=this;$.ajax({url:this.ZCIntegUrl.createAuthorizationUrl(a),type:ConnectionConstant.POST,headers:e.getCSRFMap(),beforeSend:e.getLoader(),success:function(a,
b,d){e.hideLoader();void 0!=c&&c(a)},error:function(){e.hideLoader()}})}enableOrDisableConnection(a,b,c){let d=this;$.ajax({beforeSend:d.getLoader(),url:this.ZCIntegUrl.getEnableOrDisableUrl(b),type:ConnectionConstant.POST,headers:d.getCSRFMap(),data:a,success:function(a,b,g){d.hideLoader();void 0!=c&&c(a)}})}showConnections(a,b){let c=this;$.ajax({beforeSend:c.getLoader(),url:this.ZCIntegUrl.getShowConnectionsUrl(),type:ConnectionConstant.GET,data:a,success:function(a,e,f){c.hideLoader();void 0!=
b&&b(a)},error:function(){c.hideLoader();void 0!=b&&b(!1)}})}deleteConnection(a,b,c){let d=this;$.ajax({beforeSend:d.getLoader,url:this.ZCIntegUrl.getDeleteConnectionUrl(b),type:ConnectionConstant.DELETE,headers:d.getCSRFMap(),success:function(a,b,g){d.hideLoader();void 0!=c&&c(a)},error:function(){var a={status:!1};d.hideLoader();void 0!=c&&c(a)}})}getAuthorizeUrl(a,b,c){let d=this;$.ajax({beforeSend:d.getLoader(),url:this.ZCIntegUrl.getAuthorizeUrl(),type:ConnectionConstant.GET,data:a,dataType:"json",
success:function(a,c,g){d.hideLoader();void 0!=b&&b(a)},error:function(){d.hideLoader();void 0!=c&&c()}})}testConnection(){$.ajax({})}toggleConnectionStatus(){$.ajax({})}getReferences(a,b){let c=this;$.ajax({url:this.ZCIntegUrl.getConnectionReferenceUrl(a),type:ConnectionConstant.GET,beforeSend:c.getLoader(),success:function(a,e,f){c.hideLoader();void 0!=b&&b(a)}})}getStates(a,b){$.ajax({url:this.ZCIntegUrl.getStatesForCountryUrl(),type:ConnectionConstant.GET,data:{country:a},success:function(a,d,
e){void 0!=b&&b(a)}})}handleResponse(){$.ajax({})}OAuthGlobalCallBack(){$.ajax({})}getMatchingAuthorizations(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.fetchAuthorizationsUrl(a),data:b,type:ConnectionConstant.GET,beforeSend:d.getLoader(),statusCode:{200:function(a){d.hideLoader();void 0!=c&&c(a)},204:function(a){d.hideLoader();void 0!=c&&c(a)},401:function(){d.hideLoader();var a={authorizeAllowed:!1};void 0!=c&&c(!1,a)}}})}createAuthorization(a,b,c){let d=this;$.ajax({url:this.ZCIntegUrl.createAuthorizationUrl(a),
type:ConnectionConstant.POST,headers:d.getCSRFMap(),data:b,statusCode:{201:function(a){void 0!=c&&c(!0);d.hideLoader()},200:function(a){void 0!=c&&c(!1,a)}},error:function(){d.hideLoader()}})}reuseAuthorization(a,b,c,d){let e=this;$.ajax({url:this.ZCIntegUrl.reuseAuthorizationUrl(a,b),type:ConnectionConstant.PATCH,headers:e.getCSRFMap(),data:c,beforeSend:e.getLoader(),statusCode:{204:function(a){e.hideLoader();void 0!=d&&d(!0,a)},200:function(a){e.hideLoader();void 0!=d&&d(!1,a)}},error:function(){e.hideLoader()}})}unlinkAuthorization(a,
b,c){let d=this;$.ajax({url:this.ZCIntegUrl.unlinkAuthorizationUrl(a,b),type:ConnectionConstant.DELETE,headers:d.getCSRFMap(),beforeSend:d.getLoader(),statusCode:{200:function(a){d.hideLoader();void 0!=c&&c(!1,a)}},error:function(){d.hideLoader()}})}authNameAvailability(a,b,c){var d=this;$.ajax({url:this.ZCIntegUrl.authNameAssertionUrl(a),type:ConnectionConstant.HEAD,data:b,statusCode:{204:function(){void 0!=c&&c(!1)},200:function(){void 0!=c&&c(!0)}},error:function(){d.hideLoader()}})}authAvailability(a,
b,c){var d=this;$.ajax({url:this.ZCIntegUrl.authAssertionUrl(a,b),type:ConnectionConstant.HEAD,statusCode:{204:function(){void 0!=c&&c(!1)},200:function(){void 0!=c&&c(!0)}},error:function(){d.hideLoader()}})}getDataSources(a){$.ajax({url:this.ZCIntegUrl.fetchDataSources(),type:ConnectionConstant.GET,success:function(b,c,d){void 0!=a&&a(b)}})}getDataSourcesForServiceVersion(a,b){$.ajax({url:this.ZCIntegUrl.fetchDataSourcesForServiceVersion(a),type:ConnectionConstant.GET,success:function(a,d,e){void 0!=
b&&b(a)}})}getDataSource(a,b){$.ajax({url:this.ZCIntegUrl.fetchDataSource(a),type:ConnectionConstant.GET,success:function(a,d,e){void 0!=b&&b(a)}})}getDataSourceFields(a,b){$.ajax({url:this.ZCIntegUrl.fetchDataSourceFields(a),type:ConnectionConstant.GET,success:function(a,d,e){void 0!=b&&b(a)}})}getLookupSupportedDataSourceFields(a,b){$.ajax({url:this.ZCIntegUrl.fetchLookupSupportedDataSourceFields(a),type:ConnectionConstant.GET,success:function(a,d,e){void 0!=b&&b(a)}})}fetchModules(a,b){$.ajax({url:this.ZCIntegUrl.fetchModules(a),
type:ConnectionConstant.GET,success:function(a,d,e){void 0!=b&&b(a)}})}fetchModule(a,b,c){$.ajax({url:this.ZCIntegUrl.fetchModule(a,b),type:ConnectionConstant.GET,success:function(a,b,f){void 0!=c&&c(a)}})}createDataSource(a,b){$.ajax({url:this.ZCIntegUrl.createDataSource(),type:ConnectionConstant.POST,headers:this.getCSRFMap(),data:a,statusCode:{200:function(a){void 0!=b&&b(!1,a.responseText,!0)},201:function(a){void 0!=b&&b(!0,a)},204:function(a){void 0!=b&&b(!1,a)}}})}updateDataSource(a,b,c){$.ajax({url:this.ZCIntegUrl.updateDataSource(b),
type:ConnectionConstant.PATCH,headers:this.getCSRFMap(),data:{displayName:a},success:function(a,b,f){void 0!=c&&c(a)}})}}ZCServiceConnection.getInstance=function(a){return new ZCServiceConnection(a)};ZCServiceConnection.getLoader=function(a){switch(a){case IntegrationContext.LIVE:if(void 0==$zcmodal.getModal("loaderPopup"))return showLoader();break;default:return showLoading()}};
ZCServiceConnection.hideLoader=function(a){switch(a){case IntegrationContext.LIVE:if(void 0!=$zcmodal.getModal("loaderPopup"))return $zcmodal.getModal("loaderPopup").close();break;default:return hideLoading()}};class ConnectionContext{init(a,b){this.meta=ZCServiceConnection.getInstance(a);ConnectionContext.initHandlebars(a.integContext,b)}constructDOM(a,b){return Handlebars.compile(b)(a)}bindEvents(){}destroy(){}}
ConnectionContext.initHandlebars=function(a,b){function c(){Handlebars.registerHelper("ifEquals",function(a,b,c){return a===b?c.fn(this):c.inverse(this)});Handlebars.registerHelper("ifNotEquals",function(a,b,c){return a!=b?c.fn(this):c.inverse(this)});Handlebars.registerHelper("isContained",function(a,b,c){return void 0!=a&&-1!=a.indexOf(b)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("ifNotContained",function(a,b,c){return-1==a.indexOf(b)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("ifNotNull",
function(a,b){return void 0!=a||null!=a?b.fn(this):b.inverse(this)});Handlebars.registerHelper("isExternal",function(a,b){return 2==a.connectionType?b.fn(this):b.inverse(this)});Handlebars.registerHelper("isPaymentServiceDisabled",function(a,b){return void 0==a.connector||5!=a.connector.category||a.isEnabled?b.inverse(this):b.fn(this)});Handlebars.registerHelper("isAuthAllowed",function(a,b){let c=void 0!=a.connector&&5==a.connector.category&&(23==a.connector.authType||!a.isConnected);return void 0==
a.connector||!c&&5==a.connector.category?b.inverse(this):b.fn(this)});Handlebars.registerHelper("isSystemType",function(a,b){return"system"==a.toLowerCase()?b.fn(this):b.inverse(this)});Handlebars.registerHelper("isNotEmpty",function(a,b){return void 0!=a?Array.isArray(a)?0!=a.length?b.fn(this):b.inverse(this):0!=Object.keys(a).length?b.fn(this):b.inverse(this):b.inverse(this)});Handlebars.registerHelper("isEmpty",function(a,b){return void 0!=a?Array.isArray(a)?0===a.length?b.fn(this):b.inverse(this):
0===Object.keys(a).length?b.fn(this):b.inverse(this):b.inverse(this)});Handlebars.registerHelper("getComponents",function(a){var b="";if(void 0!=a){for(var c=0;c<a.length;c++)0<c&&(b+=", "),b+=a[c].displayName;return b}return"-"});Handlebars.registerHelper("isNotConnected",function(a,b,c){return a.type!=ConnectionType.SYSTEM||a.connected||b?c.inverse(this):c.fn(this)});Handlebars.registerHelper("geti18nKey",function(a){return i18n[a]});Handlebars.registerHelper("getInfoBanner",function(a){switch(a){case ReferenceContext.ENABLE:return i18n["zc.c5.setup.connections.enable.referencepopup.info"];
case ReferenceContext.DISABLE:return i18n["zc.c5.setup.connections.disable.referencepopup.info"];case ReferenceContext.DELETE:return i18n["zc.setup.connection.deleteref.removeeachconnection"];default:return""}});Handlebars.registerHelper("getReferenceHeader",function(a,b){switch(a){case ReferenceContext.ENABLE:return i18n["zc.c5.setup.connections.enable.referencepopup.header"].replace("{0}",b);case ReferenceContext.DISABLE:return i18n["zc.c5.setup.connections.disable.referencepopup.newheader"].replace("{0}",
b);case ReferenceContext.DELETE:return i18n["zc.c5.setup.connections.delete.referencepopup.header"].replace("{0}",b);case ReferenceContext.REFERENCE_ONLY:return i18n["zc.c5.setup.connections.references.referencepopup.header"].replace("{0}",b)}});Handlebars.registerHelper("getButtonName",function(a){switch(a){case ReferenceContext.ENABLE:return i18n["zc.c5.setup.connections.enable.referencepopup.button.primary"];case ReferenceContext.DISABLE:return i18n["zc.c5.setup.connections.proceedtodisable.buttonlabel"];
case ReferenceContext.DELETE:return i18n["zc.setup.connection.deleteref.proceed"];default:return i18n["zc.message.okbutton"]}});Handlebars.registerHelper("geti18nKeyWithParam",function(a,...b){a=i18n[a];let c=0;for(let d of b)a=a.replace("{"+c+"}",d),c++;return a});let a=$("#datasourceCard").html();a&&Handlebars.registerPartial("datasourceCard",a)}void 0==window.Handlebars?useCompression&&(a==IntegrationContext.LIVE?require(["handlebar"],function(a){window.Handlebars=a;c();b&&b()}):require(["handleBar"],
function(a){window.Handlebars=a;c();b&&b()})):(c(),b&&b())};class ComponentContext extends ConnectionContext{init(a,b){super.init(a,b)}defineMeta(a){this.meta=ZCServiceConnection.getInstance(a)}destroy(){}initSDKFrame(a,b){let c=$('iframe[name\x3d"zc-action-frame"]');$("#zf-actionConfigId").val("");$(c).removeAttr("style");window._TIME_STAMP_POLLING=void 0;if(isNull(a.connection_ref_id))c.attr("src",""),c.addClass("zc-hidden-frame");else{var d=function(){void 0!=b&&(e?b.hideModuleLoader():$(b).hideMiniLoader())};let e=c.hasClass("zc-action-sdk-frame-c6");
c.off("load").on("load",function(){this.contentWindow.postMessage(a)});c.attr("src",this.meta.ZCIntegUrl.getActionSDKFrameUrl(e));a.has_config_fields?(setTimeout(d,4E3),setTimeout(function(){$(c).removeClass("zc-hidden-frame")},4E3)):(setTimeout(d,4E3),$(c).addClass("zc-hidden-frame"))}}getModulesInputData(a,b){b={};b.connectorId=a.connectorId;return b}getFieldsInputData(a,b,c){c={moduleLinkName:c};c.connectorId=a.connectorId;void 0!=b&&isFlowProxied(a)&&(c.connectionId=b);return c}loadActionSDK(a,
b){void 0!=a.connection_ref_id?(a.proxy_service.domain=0<a.proxy_service.domain.indexOf("://")?a.proxy_service.domain.split("://")[1]:a.proxy_service.domain,this.initSDKFrame(a,b)):(a=$('iframe[name\x3d"zc-action-frame"]').hasClass("zc-action-sdk-frame-c6"),void 0!=b&&(a?b.hideModuleLoader():$(b).hideMiniLoader()))}processSDKConfiguration(a,b,c){if(a){var d=function(){a==window._TIME_STAMP_POLLING&&void 0!=b?b(c):setTimeout(d,1E3)};let a=Date.now();$('iframe[name\x3d"zc-action-frame"]')[0].contentWindow.postMessage({actionEvent:!0,
eventIdentifier:a});setTimeout(d,1E3)}else void 0!=b&&b(c)}disableFields(a){var b=$(a).find("select[name\x3dmodule]");$(b).prop("disabled",!0);errorClearCallback($(b).prev());b=$(a).find("select[name\x3dfields]");$(b).prop("disabled",!0);errorClearCallback($(b).prev());$(a).find("#proceedBtn").prop("disabled",!0);$(a).find("#proceedBtn").addClass("zc-dem-disabledbtn")}enableFields(a){$(a).find("select[name\x3dmodule]").prop("disabled",!1);$(a).find("#proceedBtn").prop("disabled",!1);$(a).find("#proceedBtn").removeClass("zc-dem-disabledbtn");
$(a).find("select[name\x3dfields]").prop("disabled",!1)}}ComponentContext.processActionConfigData=function(a){1==a.code&&"error"==a.status?$("#zf-actionConfigId").attr("is-valid","false"):($("#zf-actionConfigId").val(a.action_config_id),$("#zf-actionConfigId").attr("is-valid","true"));window._TIME_STAMP_POLLING=a.timestamp};
ComponentContext.updateActionSDKDimensions=function(a){let b=$('iframe[name\x3d"zc-action-frame"]');0<a.height&&$(b).removeClass("zc-hidden-frame");var c={};c.height=a.height;b.hasClass("zc-action-sdk-frame-c6")&&(c.width="365px");$(b).css(c)};ComponentContext.getInstance=function(){return new ComponentContext};class ZCIntegAuthorize extends ConnectionContext{init(a){function b(){void 0!=a.versionLinkName&&void 0==c.connectorInfo?c.meta.getServiceVersion(a.versionLinkName,function(a){c.connectorInfo=a;c.setParamsAndAuthorize()}):c.setParamsAndAuthorize()}let c=this;this.mainEl=a.mainEl;this.cancelCallback=a.cancelCallback;this.successCallback=a.successCallback;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.appLinkName=a.appLinkName;this.sharedByDisp=a.sharedByDisp;this.connectionLinkName=
a.connectionLinkName;this.connectionType=a.connectionType;this.isConnected=a.isConnected;this.isNewFlow=a.isNewFlow;this.connectorInfo=a.connectorInfo;this.constructPopup=a.constructPopup;this.contextLoader=a.contextLoader;this.isAuthAssociation=a.isAuthAssociation;this.integContext=a.integContext;this.authName=a.authName;this.isMatchingAuthAvailable=!1;void 0==this.contextLoader.showAuthorizeLoader&&(this.contextLoader.showAuthorizeLoader=c.showAuthorizeLoader);this.contextLoader.hideAuthorizeLoader=
c.hideAuthorizeLoader;void 0!=a.meta?(this.meta=a.meta,b()):super.init({sharedByDisp:a.sharedByDisp,integContext:a.integContext,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},b)}setParamsAndAuthorize(){OAuthGlobalCallBack.setMeta(this.meta);OAuthGlobalCallBack.setCallBK(this.successCallback);OAuthGlobalCallBack.setIsNewFlow(this.isNewFlow);OAuthGlobalCallBack.setConnectionLinkName(this.connectionLinkName);OAuthGlobalCallBack.setServiceDisplayName(this.connectorInfo.displayName);OAuthGlobalCallBack.setContextLoader(this.contextLoader);
OAuthGlobalCallBack.setIntegContext(this.integContext)}constructAuthorizePopup(a,b,c){function d(b){$(b).find("select").zcDropDown({minimumResultsForSearch:10});$(b).find("select[name\x3dcountry]").off("change").on("change",function(){$(b).find("select[name\x3dzc_pg_state]").closest(".fieldGroup").remove();var c=$(this).val();if("India"==c||"U.A.E"==c)showLoading(),e.meta.getStates(c,function(c){var d=$(b).find("select[name\x3dcountry]").val(),f=$(b).find("select[name\x3dcountry]").closest(".fieldGroup");
$(f).find("select").data("zcdd").destroy();var g=$(f).clone();a==IntegrationContext.LIVE?$(g).find("label").html("\x3cspan class\x3d'zc-label-text'\x3eState\x3cspan class\x3d'fieldMandate'\x3e*\x3c/span\x3e\x3c/span\x3e"):$(g).find("label").html("State\x3cem\x3e*\x3cem\x3e");$(g).find("select").attr("name","zc_pg_state").attr("displayname","State").html("");$.each(c,function(a,b){a=$("\x3coption/\x3e").val(b.id).html(b.text);$(g).find("select").append(a)});$(f).find("select").zcDropDown();$(g).find("select").zcDropDown();
$(f).find("select[name\x3dcountry]").data("zcdd").setValue(d);$(f).after(g);e.contextLoader.hideAuthLoader()})})}let e=this;if(a==IntegrationContext.LIVE){var f={zcmodalId:"authPopup",type:ZCModalConstants.JIT_MODAL,overrideActions:!0,showClose:!1,bindActions:function(a){$(a.$container).find(".zc-footer-wrapper").find("input[name\x3dauthorize]").off("click").on("click",function(b){c(a.$body);stopEventBubbling(b)});$(a.$container).find(".zc-footer-wrapper").find("input[name\x3dcancel]").off("click").on("click",
function(){void 0!=$zcmodal.getTopPopup()&&$zcmodal.getTopPopup().close()})},buildDOM:function(){return b},afterOpen:function(a){d(a)}};$.zcmodal(f)}else f={popupId:"authPopup",title:"\x3ci class\x3d'zc-dem-setup-authorize-icon'\x3e\x3cdiv class\x3d"+e.connectorInfo.logoUrl+"\x3e\x3c/div\x3e\x3c/i\x3e\x3ch4\x3e"+(e.isConnected?i18n["zc.c5.setup.connections.reauthorize.header"]:i18n["zc.c5.setup.connections.authorize.header"]).replace("{0}",e.connectorInfo.displayName)+"\x3c/h4\x3e",parentClass:"zc-dem-setup-link-your-account-popup",
body:b,buttons:[{name:i18n["zc.c5.setup.connections.authorizebutton"],type:ZCModalConstants.MODAL_SUBMIT},{name:i18n.cancel,type:ZCModalConstants.MODAL_CANCEL}],afterOpen:function(a){d(a)},success:function(a){c(a.parentContainer)}},iCustomizePopup(f)}alertMessage(a,b){this.integContext==IntegrationContext.LIVE?$.alert({msg:a}):b?iAlert(a):ZCToast({message:a,autoHide:!0,type:ZCType.ERROR,timeOut:6E3,showClear:!0}).show()}startTimer(a,b){var c=a,d,e;setInterval(function(){d=parseInt(c/60,10);e=parseInt(c%
60,10);d=10>d?"0"+d:d;e=10>e?"0"+e:e;b.attr("value",d+":"+e);0>--c&&(c=a)},1E3)}showSuccess(a){this.integContext==IntegrationContext.LIVE?$.successMsg(a,2E3):showToast(a,ZCType.SUCCESS,2E3)}encryptByRSA(a,b,c){var d=new RSAKey;d.setPublic(b,c);return d.encrypt(a)}showAuthorizeLoader(){iCustomizePopup({body:'\x3cdiv class\x3d"zc-authorizing-popup"\x3e\x3cdiv class\x3d"zc-dem-loader-container" style\x3d"display: block;"\x3e\x3cdiv class\x3d"ball-pulse-container"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cp class\x3d"zc-authorizing-load-txt"\x3e'+
i18n["zc.c5.setup.connections.authorize.process"]+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",showClose:!1})}hideAuthorizeLoader(a){$zcmodal.getTopPopup().close();this.contextLoader&&this.contextLoader.hideAuthLoader(a)}triggerAuthorizeAction(a){let b=this;b.connectionLinkName=a.connectionLinkName;b.csrfParamName=a.csrfParamName;b.csrfToken=a.csrfToken;b.connectorInfo=a.connectorInfo;b.authSuccessCallback=a.authSuccessCallback;b.cancelCallback=a.cancelCallback;b.isSystemConnection=a.isSystemConnection;
b.integContext=a.integContext;b.isConnected=a.isConnected;b.authName=a.authName;!b.isSystemConnection||b.isSystemConnection&&ZCGlobal.superAdminEmailId==ZCGlobal.loginEmail?a.meta?(b.meta=a.meta,b.doAuthorize()):super.init({sharedByDisp:a.sharedByDisp,integContext:a.integContext,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){b.doAuthorize()}):b.alertMessage(i18n["zc.connection.auth.contactadmin"])}showPopup(a){let b=this;b.integContext==IntegrationContext.LIVE?$.zcmodal({pareantClass:a.parentClass,
buildDOM:function(){return a.body},overrideActions:!0,showClose:!0,hideHeader:!0,hideFooter:!0,closeOnEsc:!0,bindActions:function(c){var d=c.$container;$(d).find(".popupClose").click(function(){c.close()});$(d).find(".zc-footer-wrapper").find("input[name\x3dauthorize]").click(function(){a.success.call(a,c)&&c.close()});$(d).find(".zc-footer-wrapper").find("input[name\x3dcancel]").click(function(){c.close()});$(d).find(".zc-footer-wrapper").find("input[name\x3dlinkNewAcc]").click(function(){c.close();
b.triggerLinkNewAccountPopup()})},afterOpen:function(b){$(b).parents(".popupbox").addClass("formWithinPopup");a.afterOpen(b);$(b).find(":input:first").trigger("focus")}}):(a.submitOnEnterKey=!0,iCustomizePopup(a))}doAuthorize(){let a=this,b;void 0==a.connectorInfo&&(b={connectorInfoRequired:!0});a.meta.getMatchingAuthorizations(a.connectionLinkName,b,function(b){if(b){var c=function(b,c){b&&c?a.showPopup({parentClass:"zc-dem-integration-reuseauth-popup",title:a.constructDOM(a.connectorInfo,$("#reuse-popup-title").html()),
body:a.constructDOM(c,$("#reuse-auth").html()),buttons:[{name:i18n["zc.live.connections.authorize.service.linkexistingaccount.reusebutton"],type:ZCModalConstants.MODAL_SUBMIT,id:"proceedBtn"},{name:i18n["zc.live.connections.authorize.linkexistingaccount.linkbutton"],type:ZCModalConstants.MODAL_BUTTON,action:function(){a.triggerLinkNewAccountPopup()},id:"cancelBtn"}],afterOpen:function(b){a.bindReuseAuthPopupEvents(b)},success:function(b){a.integContext==IntegrationContext.LIVE&&(b.parentContainer=
b.$container,b.container=b.$container);ZCServiceConnection.getLoader(a.integContext);let c={};var d=!0,e=$(b.container).find("select[name\x3dauthorizationId]"),f=$(e).val();f&&""!=f?c.authorizationId=f:(d=$(e).parent().parent().find(".field-display-name").text(),$(e).showError(i18n["zc.connection.auth.linkacc.enterfieldvalues"].replace("{0}",d)),d=!1);f="true"==$(e).find("option:selected").attr("isAuthName");let g;f||""==$(e).find("option:selected").val()||(e=$(b.container).find("input[name\x3dzc_auth_name]"),
(g=$(e).val().trim())&&""!=g?a.integContext==IntegrationContext.LIVE||ConnectionRegexValidator.validateDisplayName(g)?50<g.length?($(e).showError(i18n["zc.connection.namevalidation.limit"]),d=!1):c.zc_auth_name=g:($(e).showError(i18n["zc.connection.namevalidation.characters"]),d=!1):($(e).showError(i18n["zc.connection.auth.linkacc.authorizedaccname"]),d=!1));if(d){var q=function(){let d=c.authorizationId;delete c.authorizationId;a.meta.reuseAuthorization(a.connectionLinkName,d,c,function(c,d){ZCServiceConnection.hideLoader(a.integContext);
c?(a.authSuccessCallback(),a.showSuccess(i18n["zc.connection.auth.reusesuccess"]),b.close()):$(b.container).find("input[name\x3dzc_auth_name]").showError(i18n["zc.connection.auth.authnameexists"])})};f?q():a.meta.authNameAvailability(a.connectionLinkName,{zc_auth_name:g},function(c){c?(ZCServiceConnection.hideLoader(a.integContext),$(b.container).find("input[name\x3dzc_auth_name]").showError(i18n["zc.connection.auth.authnameexists"])):q()})}else ZCServiceConnection.hideLoader(a.integContext)}}):!b&&
c&&void 0==c.authInfo?c.authorizeAllowed||a.alertMessage(i18n["zc.builder.environment.contactadmin"]):a.triggerLinkNewAccountPopup()};a.isMatchingAuthAvailable=void 0!=b.authorizations;b.connector_info&&(a.connectorInfo=b.connector_info);b.serviceVersionDisplayName=a.connectorInfo.displayName;b.logoUrl=a.connectorInfo.logoUrl;b.hasMatchingAuth=a.isMatchingAuthAvailable;isNull(ZCGlobal.environmentName)?b.isEnvironmentBasedApp=!1:(b.isEnvironmentBasedApp=!0,b.is_environment_based&&(b.environmentName=
ZCGlobal.environmentName));b.authInfo?a.showPopup({parentClass:"zc-dem-integration-linknewauth-popup",title:a.constructDOM(a.connectorInfo,$("#auth-popup-title").html()),body:a.constructDOM(b,$("#link-new-auth").html()),buttons:[{name:i18n["zc.connection.incompleteauthorization.cta.continue"],type:ZCModalConstants.MODAL_SUBMIT},{name:i18n.cancel,type:ZCModalConstants.MODAL_BUTTON,action:function(){a.isMatchingAuthAvailable&&a.meta.unlinkAuthorization(a.connectionLinkName,b.authInfo.authId,function(){c(a.isMatchingAuthAvailable,
b)})},id:"cancelBtn"}],afterOpen:function(d){a.bindLinkNewAuthPopupEvents(d);a.integContext==IntegrationContext.LIVE&&($(d).find("#cancelBtn").off("click").on("click",function(){a.isMatchingAuthAvailable?a.meta.unlinkAuthorization(a.connectionLinkName,b.authInfo.authId,function(){$zcmodal.getTopPopup().close();c(a.isMatchingAuthAvailable,b)}):$zcmodal.getTopPopup().close()}),$(d).find("#proceedBtn").attr("value",i18n["zc.connection.incompleteauthorization.cta.continue"]));a.isMatchingAuthAvailable&&
$(d).find("#cancelBtn").attr("value",i18n["zc.connection.incompleteauthorization.cta.reuseaccount"])},success:function(b){a.integContext!=IntegrationContext.LIVE?$(b.parentContainer).find("#proceedBtn").showTextLoading(i18n["zc.connection.auth.authinprogress"]):(ZCServiceConnection.getLoader(IntegrationContext.LIVE),b.parentContainer=b.$container,b.container=b.$container);let c=$(b.container).find("input[name\x3dzc_auth_name]"),d={};d.authId=$(c).attr("id");d.zc_auth_name=$(c).val().trim();a.meta.authNameAvailability(a.connectionLinkName,
{authId:d.authId,zc_auth_name:d.zc_auth_name},function(c){c?(a.integContext!=IntegrationContext.LIVE?$(b.parentContainer).find("#proceedBtn").hideTextLoading(i18n["zc.common.builder.label.authorise"]):ZCServiceConnection.hideLoader(IntegrationContext.LIVE),$(b.container).find("input[name\x3dzc_auth_name]").showError(i18n["zc.connection.auth.authnameexists"])):a.createAuthorization(d,function(c){void 0!=c&&"redirect"==c.status?a.oauthHandling(c,b,d):(a.integContext==IntegrationContext.LIVE&&ZCServiceConnection.hideLoader(a.integContext),
b.close(),a.authSuccessCallback())})})}}):c(a.isMatchingAuthAvailable,b)}else a.triggerLinkNewAccountPopup()})}triggerLinkNewAccountPopup(){let a=this,b;void 0==a.connectorInfo&&(b={connectorInfoRequired:!0});ZCServiceConnection.getLoader(a.integContext);a.meta.getAuthParams(a.connectionLinkName,b,function(b){b.connector_info&&(a.connectorInfo=b.connector_info);b.error?a.alertMessage(b.error_message):(isNull(ZCGlobal.environmentName)?b.isEnvironmentBasedApp=!1:(b.isEnvironmentBasedApp=!0,b.is_environment_based&&
(b.environmentName=ZCGlobal.environmentName)),b.logoUrl=a.connectorInfo.logoUrl,b.serviceVersionDisplayName=a.connectorInfo.displayName,b.isConnected=a.isConnected,b.authName=a.authName,a.showPopup({parentClass:"zc-dem-integration-linknewauth-popup",title:a.constructDOM(a.connectorInfo,$("#auth-popup-title").html()),body:a.constructDOM(b,$("#link-new-auth").html()),buttons:[{name:i18n["zc.common.builder.label.authorise"],type:ZCModalConstants.MODAL_SUBMIT},{name:i18n.cancel,type:ZCModalConstants.MODAL_CANCEL}],
afterOpen:function(b){a.bindLinkNewAuthPopupEvents(b)},success:function(b){a.integContext!=IntegrationContext.LIVE?$(b.parentContainer).find("#proceedBtn").showTextLoading(i18n["zc.connection.auth.authinprogress"]):(ZCServiceConnection.getLoader(IntegrationContext.LIVE),b.parentContainer=b.$container,b.container=b.$container);let c={},d=!0,g=!1,h,k=$(b.container).find(".zc-connection-auth-input:not(.select2-container)");$.each(k,function(b,e){var f=$(e).val().trim();let k="true"==$(e).attr("ismandatory");
b=$(e).attr("name");if(f&&""!=f)"zc_auth_name"==b&&(h=f,a.integContext==IntegrationContext.LIVE||ConnectionRegexValidator.validateDisplayName(f)?50<f.length&&($(e).showError(i18n["zc.connection.namevalidation.limit"]),d=!1):($(e).showError(i18n["zc.connection.namevalidation.characters"]),d=!1),""!=$(e).attr("id")&&(c.authId=$(e).attr("id"),g=!0)),"password_field1"==b||"password_field2"==b?(e=a.connectorInfo.paymentEncryptionMap,c[b]=a.encryptByRSA(f,e.modulus,e.exponent)):c[b]=f;else if(k||"zc_auth_name"==
b)f=$(e).parent().parent().find(".field-display-name").text(),"zc_auth_name"==b?$(e).showError(i18n["zc.connection.auth.linkacc.authorizedaccname"]):$(e).showError(i18n["zc.connection.auth.linkacc.enterfieldvalues"].replace("{0}",f)),d=!1});d?a.meta.authNameAvailability(a.connectionLinkName,g?{zc_auth_name:c.zc_auth_name,authId:c.authId}:{zc_auth_name:h},function(d){d?(a.integContext!=IntegrationContext.LIVE?$(b.parentContainer).find("#proceedBtn").hideTextLoading(i18n["zc.common.builder.label.authorise"]):
ZCServiceConnection.hideLoader(IntegrationContext.LIVE),$(b.container).find("input[name\x3dzc_auth_name]").showError(i18n["zc.connection.auth.authnameexists"])):a.createAuthorization(c,function(d){void 0!=d&&"redirect"==d.status?a.oauthHandling(d,b,c):(a.integContext==IntegrationContext.LIVE&&ZCServiceConnection.hideLoader(a.integContext),b.close(),a.authSuccessCallback())})}):a.integContext!=IntegrationContext.LIVE?$(b.parentContainer).find("#proceedBtn").hideTextLoading(i18n["zc.common.builder.label.authorise"]):
ZCServiceConnection.hideLoader(IntegrationContext.LIVE)}}))})}oauthHandling(a,b,c){function d(a){$.extend(c,a);e.createAuthorization(c,function(a){void 0!=a&&"redirect"==a.status?e.oauthHandling(a,b,c):(e.integContext==IntegrationContext.LIVE&&ZCServiceConnection.hideLoader(IntegrationContext.LIVE),e.authSuccessCallback(),b.close())})}let e=this;if(a.window_open&&void 0!=a.authorize_url){var f=function(){$(b.container).find("input[name\x3dzc_auth_name]").attr("id",a.zc_auth_id);g();window.removeEventListener("message",
h,{capture:!1,once:!0});$(b.parentContainer).find("#proceedBtn").attr("value",i18n["zc.connection.incompleteauthorization.cta.continue"]);e.isMatchingAuthAvailable?($(b.parentContainer).find("#cancelBtn").attr("value",i18n["zc.connection.incompleteauthorization.cta.reuseaccount"]),$(b.parentContainer).find("#cancelBtn").off("click").on("click",function(){e.meta.unlinkAuthorization(e.connectionLinkName,a.zc_auth_id,function(){b.close();e.doAuthorize()})})):$(b.parentContainer).find("#cancelBtn").attr("value",
i18n.cancel);if(e.integContext==IntegrationContext.LIVE){var c=$(b.parentContainer).find(".zc-info-message").attr("environmentName");void 0!=c?(c=e.isMatchingAuthAvailable?i18n["zc.connection.incompleteauthorization.environments.prepopulatedinputs"].replace("{0}",c):i18n["zc.connection.incompleteauthorization.noexistingauthaccount"].replace("{0}",c),$(b.parentContainer).find(".zc-content-text").html(c)):void 0!=$(b.parentContainer).find(".zc-info-message").attr("isEnvEnabled")?(c=e.isMatchingAuthAvailable?
i18n["zc.connection.incompleteauthorization.allenvironments.prepopulatedinputs"]:i18n["zc.connection.incompleteauthorization.allenvironments.noexistingauthaccount"],$(b.parentContainer).find(".zc-content-text").html(c)):(c=e.isMatchingAuthAvailable?i18n["zc.connection.incompleteauthorization.prepopulatedinputs"]:i18n["zc.connection.incompleteauthorization.environmentsdisabled.noexistingauthaccount"],$(b.parentContainer).find(".zc-content-text").text(c));$(b.parentContainer).find(".zc-info-message").removeClass("zc-hideinfo-message").addClass("zc-showinfo-message")}else c=
$(b.parentContainer).find(".zc-dem-notify.zc-dem-notify-info").attr("environmentName"),void 0!=c?(c=e.isMatchingAuthAvailable?i18n["zc.connection.incompleteauthorization.environments.prepopulatedinputs"].replace("{0}",c):i18n["zc.connection.incompleteauthorization.noexistingauthaccount"].replace("{0}",c),$(b.parentContainer).find(".zc-dem-content").html(c)):void 0!=$(b.parentContainer).find(".zc-dem-notify.zc-dem-notify-info").attr("isEnvEnabled")?(c=e.isMatchingAuthAvailable?i18n["zc.connection.incompleteauthorization.allenvironments.prepopulatedinputs"]:
i18n["zc.connection.incompleteauthorization.allenvironments.noexistingauthaccount"],$(b.parentContainer).find(".zc-dem-content").html(c)):(c=e.isMatchingAuthAvailable?i18n["zc.connection.incompleteauthorization.prepopulatedinputs"]:i18n["zc.connection.incompleteauthorization.environmentsdisabled.noexistingauthaccount"],$(b.parentContainer).find(".zc-dem-content").text(c)),$(b.parentContainer).find(".zc-dem-notify.zc-dem-notify-info").addClass("zc-dem-hidenotify-banner"),$(b.parentContainer).find(".zc-dem-notify.zc-dem-notify-info.zc-dem-notify-new").removeClass("zc-dem-hidenotify-banner").addClass("zc-dem-shownotify-banner")},
g=function(){e.integContext!=IntegrationContext.LIVE?(void 0!=e.cancelCallback&&e.cancelCallback(),$(b.parentContainer).find("#proceedBtn").hideTextLoading(i18n["zc.connection.incompleteauthorization.cta.continue"])):ZCServiceConnection.hideLoader(IntegrationContext.LIVE);e.alertMessage(i18n["zc.connections.authorizefailure.timeout"],!1)},h=function(b){var c=JSON.parse(b.data);c.status&&"error"!=c.status?isFlowProxied(e.connectorInfo)&&(c=JSON.parse(b.data),d({authReferenceId:c.credential_id,authId:a.zc_auth_id})):
f()},k=window.open(a.authorize_url);window.addEventListener("message",h,{capture:!1,once:!0});if("undefined"!=typeof k&&null!=k&&(e.connectorInfo.category!=ConnectionConstant.PAYMENT||"Stripe"!=e.connectorInfo.displayName)&&"stripe"!=e.connectorInfo.displayName||isFlowProxied(e.connectorInfo))m=setInterval(function(){k.closed&&(clearInterval(m),isFlowProxied(e.connectorInfo)?f():e.meta.authAvailability(e.connectionLinkName,a.zc_auth_id,function(a){a?(ZCServiceConnection.hideLoader(e.integContext),
e.authSuccessCallback(),b.close()):f()}))},1E3);else var l=0,m=setInterval(function(){l++;e.meta.authAvailability(e.connectionLinkName,a.zc_auth_id,function(a){a?(clearInterval(m),ZCServiceConnection.hideLoader(e.integContext),e.authSuccessCallback(),b.close()):9<=l&&(clearInterval(m),f())})},1E4)}}createAuthorization(a,b){let c=this;c.meta.createAuthorization(c.connectionLinkName,a,function(a,e){if(a)c.showSuccess(i18n["zc.connection.auth.createsuccess"]),b&&b();else if("redirect"==e.status&&b&&
b(e),e&&e.message||"auth_error"==e.status)c.integContext!=IntegrationContext.LIVE?$(".zc-dem-integration-linknewauth-popup").find("#proceedBtn").hideTextLoading(i18n["zc.common.builder.label.authorise"]):ZCServiceConnection.hideLoader(IntegrationContext.LIVE),c.alertMessage(e.message,!0),ZCServiceConnection.hideLoader(c.integContext)})}bindLinkNewAuthPopupEvents(a){var b=this;$(a).find("select").each(function(){$(this).zcDropDown()});b.bindLiveAndSetupTooltip(a);$(a).find("form").submit(function(a){a.preventDefault()});
$(a).find("select[name\x3dcountry]").off("change").on("change",function(){$(a).find("select[name\x3dzc_pg_state]").closest(".zc-connection-auth-form-group").remove();var c=$(this).val();if("India"==c||"U.A.E"==c)ZCServiceConnection.getLoader(b.integContext),b.meta.getStates(c,function(d){var e=$(a).find("select[name\x3dcountry]").closest(".zc-connection-auth-form-group"),f=$(e).find("select");f.data("zcdd").destroy();var g=$(e).clone();$(g).find("label").html("State\x3cem\x3e*\x3cem\x3e");$(g).find("select").attr("name",
"zc_pg_state").attr("displayname","State").text("");$.each(d,function(a,b){a=$("\x3coption/\x3e").val(b.id).text(b.text);$(g).find("select").append(a)});f.zcDropDown().setValue(c);$(g).find("select").zcDropDown();$(e).after(g);ZCServiceConnection.hideLoader(b.integContext)})})}bindReuseAuthPopupEvents(a){$(a).find("select").each(function(){$(this).zcDropDown()});this.bindLiveAndSetupTooltip(a);$(a).find("input[name\x3dauthorizationId]").trigger("change");$(a).find("select[name\x3dauthorizationId]").off("change").on("change",
function(){let b="false"==$("option:selected",this).attr("isAuthName"),c=$(a).find("#authNameWrapper");b?$(c).removeClass("hide"):$(c).addClass("hide")})}bindLiveAndSetupTooltip(a){var b=this;b.integContext==IntegrationContext.LIVE&&($(a).parent().addClass("zc-connection-popup-outer"),$(a).find(".zc-dem-dark-tooltip-wrapper .info-outline").on("mouseover",function(a){$(this).find(".zc-tooltip").removeClass("hide");$(this).find(".zc-tooltip").css({top:"",left:""});a=b.calcBottomTooltipPosition($(this));
$(this).find(".zc-tooltip").css({top:a.top,left:a.left});$(this).find(".zc-tooltip").addClass("zc-tooltip-"+a.position)}),$(a).find(".zc-dem-dark-tooltip-wrapper").on("mouseleave",function(a){$(this).find(".zc-tooltip").addClass("hide")}));b.integContext==IntegrationContext.SETUP&&$(a).zcTooltip({selector:":not([data-title-ignore])"})}calcBottomTooltipPosition(a){var b=$(a).height(),c=$(a).position().left,d=$(a).position().top,e=$(a).width(),f=$(a).find("span").width();a=$(a).find("span").height();
$("body").hasClass("zc-mobile")?(b=d+(b-a)/2-5,$("body").hasClass("zc-rtl-wrapper")?(c=c-f-30,d="left"):(c=e+c+10,d="right")):(c=c-(f-e)/2-5,b=d+b+10,d="bottom");return{left:c,top:b,position:d}}}
ZCIntegAuthorize.bindAuthEvents=function(a,b){var c={sharedByDisp:ZCGlobal.scopeName,integContext:b.integContext};$(a).off("click").on("click",function(b){0==$(b.target).parents(".zc-more-popover-wrapper").length&&$(a).find(".zc-more-popover-wrapper").removeClass("moreComponentsList")});$(a).find(".authorizeAcc, .reauthorizeConnection").off("click").on("click",function(){ZCIntegAuthorize.getInstance().triggerAuthorizeAction({sharedByDisp:ZCGlobal.scopeName,csrfParamName:ZCGlobal.csrfTokenName,csrfToken:ZCGlobal.csrfToken,
connectionLinkName:$(this).attr("connectionLinkName"),isSystemConnection:$(this).attr("connectionType")==ConnectionType.SYSTEM,integContext:b.integContext,authSuccessCallback:b.contextLoader.showAuthSuccess})});$(a).find(".moreComponents").off("click").on("click",function(b){var d=$(this),f=$(this).parent();ZCServiceConnection.getInstance(c).getComponents($(this).attr("connectionLinkName"),function(c){c=0<c.length?c:[{displayName:i18n["zc.connection.authorize.references.empty"]}];var e=$("#componentsList").html();
c=Handlebars.compile(e)(c);f.find("ul").empty();f.find("ul").append(c);$(a).find(".zc-more-popover-wrapper").not(f.find(".zc-more-popover-wrapper")).removeClass("moreComponentsList");f.find(".zc-more-popover-wrapper").toggleClass("moreComponentsList");var g=$(b.target).offset();c=$(a).find(".zc-more-popover-wrapper.moreComponentsList");e=g.top-c.outerHeight(!0)/2;g=$("body").hasClass("zc-rtl-wrapper")?g.left-c.width()-14:g.left+d.width()+14;c.css({top:e,left:g,right:"auto"});ifreeze({container:f,
type:ZCFreezeConstants.MASK_ONLY_TYPE,clickCallBack:function(){unfreeze({container:$("body")})}});b.stopPropagation()})})};ZCIntegAuthorize.getInstance=function(){return new ZCIntegAuthorize};
var OAuthGlobalCallBack=new function(){var a=this;this.setIsNewFlow=function(b){a.isNewFlow=void 0!=b?b:!1};this.setCallBK=function(b){a.callBK=void 0!=b?b:""};this.setScope=function(b){a.scope=void 0!=b?b:""};this.setMeta=function(b){a.meta=void 0!=b?b:""};this.setConnectionLinkName=function(b){a.connectionLinkName=void 0!=b?b:""};this.setServiceDisplayName=function(b){a.serviceName=void 0!=b?b:""};this.setIsOperationsTab=function(b){a.isOperationsTab=void 0!=b?b:!1};this.setContextLoader=function(b){a.contextLoader=
b};this.setIntegContext=function(b){a.integContext=b};this.parentReturn=function(b){a.isNewFlow&&(void 0!=b?(void 0!=b.connectionAction&&delete b.connectionAction,a.isOperationsTab?a.callBK(b):a.meta.authorize(a.connectionLinkName,ServiceAuthType.OAUTH_2,function(b){b.error?($zcmodal.getTopPopup().close(),b.errorMessage&&a.alertMessage(b.errorMessage)):(a.integContext!=IntegrationContext.BUILDER&&a.integContext!=IntegrationContext.LIVE||$zcmodal.getTopPopup().close(),a.contextLoader.showAuthSuccess(a.serviceName),
a.integContext==IntegrationContext.SETUP&&$(window).trigger("hashchange"))},b)):a.contextLoader.hideAuthorizeLoader(a.serviceName))}};class ZCNewConnection extends ConnectionContext{constructor(){super()}init(a){function b(){function b(a){c.connectorInfo=a;c.connectorInfo.actions=["Create","Read","Update"];e();c.openPopup(c.successCallback);OAuthGlobalCallBack.setMeta(c.meta);c.bindEvents()}function e(){a.isNewFlow=!0;a.constructPopup=c.constructPopup;a.connectorInfo=c.connectorInfo;a.contextLoader={showAuthLoader:c.showAuthLoader,hideAuthLoader:c.hideAuthLoader};c.zcIntegAuthorize.init(a)}void 0==c.connectorInfo?c.meta.getServiceVersion(c.serviceVersionLinkName,
b):c.integContext==IntegrationContext.SETUP?(e(),OAuthGlobalCallBack.setMeta(c.meta),OAuthGlobalCallBack.setCallBK(c.successCallback),OAuthGlobalCallBack.setScope(""),c.preProcess()):b(c.connectorInfo)}let c=this;this.mainEl=a.mainEl;this.serviceVersionLinkName=a.serviceVersionLinkName;this.versionId=a.versionId;this.cancelCallback=a.cancelCallback;this.successCallback=a.successCallback;this.authSuccessCallback=a.authSuccessCallback;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.connectorInfo=
a.connectorInfo;this.serviceInfo=a.serviceInfo;this.previousConnectionName=a.previousConnectionName;this.previousConnectionLinkName=a.previousConnectionLinkName;this.previousScopes=a.previousScopes;this.integContext=a.integContext;this.sharedByDisp=a.sharedByDisp;this.popupContext=a.popupContext;this.zcIntegAuthorize=ZCIntegAuthorize.getInstance();void 0!=a.meta?(this.meta=a.meta,b()):super.init({sharedByDisp:a.sharedByDisp,integContext:a.integContext,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},
b)}bindEvents(){var a=this,b=$(this.mainEl).find("#zcAddConnectionForm");$(b).find("#authorizeConnection").off("click").on("click",function(b){a.preProcess();b.preventDefault();b.stopPropagation()});$(b).find("select").each(function(){$(this).zcDropDown()});$(a.mainEl).find("[elName\x3d'authLoader']").find(":input[name\x3d'ok']").off("click").on("click",function(){$(a.mainEl).find("#authError").removeClass("hide").addClass("hide");$(a.mainEl).find("[elName\x3d'authLoader']").removeClass("hide").addClass("hide")});
a.bindPermissionRelatedEvents(a,b);a.isProductionOnlyConnectionAllowed()&&($(b).find("#enable-all-env").prop("checked",!0),$(b).find("#enable-all-env").prop("disabled",!0));$(b).find("#allActions").prop("checked",!0).change();a.popupContext==ConnectionPopupContext.DATASOURCE&&($("#action").prop("disabled",!0),$("#action").parent().attr("title",i18n["zc.c6.datasource.reqallactions"]),$("label[for\x3denable-all-env]").find(".zc-dem-dark-tooltip-wrapper").removeClass("zc-hide"));$(a.mainEl).find("input[elename\x3dconnectionNameEle]").attr("serviceVersionId",
a.connectorInfo.connectorId);$(a.mainEl).find('input[type\x3d"text"]:first').focus();OAuthGlobalCallBack.setCallBK(a.successCallback);OAuthGlobalCallBack.setScope("")}isProductionOnlyConnectionAllowed(){switch(this.popupContext){case ConnectionPopupContext.INTEGRATION_FORM:case ConnectionPopupContext.DATASOURCE:case ConnectionPopupContext.INTEGRATION_FIELD:case ConnectionPopupContext.PAYMENT_WORKFLOW:return!0;default:return!1}}bindPermissionRelatedEvents(a,b){function c(a,c){a=$(b).find('.zc-dem-checkbox.individual-action-wrapper[groupname\x3d"'+
a+'"]');$.each(a,function(a,b){$(b).find("input").prop("checked",c).change()})}$(b).find("input[name\x3dactionSeletionType]").off("change").on("change",function(){let a="all"==$("input[name\x3dactionSeletionType]:checked").val();a?($(b).find(".zc-dem-connection-access-container").find("input[type\x3dcheckbox]").prop("disabled",!0),$("#action-search-input").prop("disabled",!0),$("#action-search-input").addClass("zc-dem-disabledbtn")):($(b).find(".zc-dem-connection-access-container").find("input[type\x3dcheckbox]").prop("disabled",
!1),$("#action-search-input").prop("disabled",!1),$("#action-search-input").removeClass("zc-dem-disabledbtn"));let c=$(b).find(".header-checkbox");$.each(c,function(b,c){$(c).prop("checked",a).change()})});$(b).find("#view-selected-actions").off("click").on("click",function(){let a=$(b).find(".individual-action-checkbox:checked").length;$(b).find("#view-selection-wrapper").removeClass("hide");a?($(b).find("#selected-actions").removeClass("hide"),$(b).find("#no-selected-actions").addClass("hide")):
($(b).find("#selected-actions").addClass("hide"),$(b).find("#no-selected-actions").removeClass("hide"))});$(document).on("click",function(a){if(a.target!=$(b).find("#view-selected-actions")[0]){let a=$(b).find("#view-selection-wrapper");a.is(":visible")&&a.addClass("hide")}a.stopPropagation()});$(b).find("#modules-filter-select").off("change").on("change",function(){let a=$(this).val(),c=$(b).find(".action-group-wrapper");$.each(c,function(b,c){$(c).attr("group")==a||"-all-"==a?$(c).show():$(c).hide()})});
$(b).find("#action-search-input").off("keyup").on("keyup",function(){let a=$(this).val().toLowerCase();if(void 0!=a&&0<a.length){$(b).find("#action-search-clear").removeClass("zc-hide");var c=$(b).find(".action-group-wrapper");$.each(c,function(b,c){b=$(c).find(".action-group-header");let d=!1;c=$(c).find(".individual-action-wrapper");$.each(c,function(b,c){$(c).find("label").text().toLowerCase().includes(a)?($(c).removeClass("hide"),d=d||!0):($(c).addClass("hide"),d=d||!1)});d?$(b).removeClass("hide"):
$(b).addClass("hide")})}else $(b).find("#action-search-clear").addClass("zc-hide"),c=$(b).find(".action-group-wrapper"),$.each(c,function(a,b){a=$(b).find(".action-group-header");b=$(b).find(".individual-action-wrapper");$.each(b,function(a,b){$(b).removeClass("hide")});$(a).removeClass("hide")})});$(b).find("#action-search-clear").off("click").on("click",function(){$(b).find("#action-search-input").val("").trigger("keyup")});$(b).find(".header-checkbox").off("change").on("change",function(){let a=
$(this).attr("id"),b=$(this).prop("checked");c(a,b)});$(b).find(".individual-action-checkbox").off("change").on("change",function(){var a=$(this).parent().attr("groupname");let c=$(this).attr("id");a=a+"--"+c;a=$(b).find("#selected-actions").find("input[action\x3d"+a+"]");$(a).prop("checked",this.checked);this.checked?$(a).parent().removeClass("hide"):$(a).parent().addClass("hide");a=$(a).closest(".actions-group");$(a).find(".zc-dem-checkbox:not(.hide)").length?$(a).removeClass("hide"):$(a).addClass("hide");
a=$(this).parents(".action-group-wrapper").find(".individual-action-checkbox");let f=!0;$.each(a,function(a,b){f=f&&b.checked});$(this).parent().siblings(".zc-dem-checkbox-title").find(".header-checkbox").prop("checked",f)})}preProcess(){let a=this.connectorInfo;if(this.doValidation()){let c={};c.connectionName=$(this.mainEl).find("#zcAddConnectionForm").find(":input[name\x3dconnectionName]").val();this.connectionName=c.connectionName;c.isUserBased=!1;var b=$(this.mainEl).find("#zcAddConnectionForm");
let d=$(b).find(":input[name\x3dconnectionId]").val();b=$(b).find("input[elename\x3dpermissions]:checked");if(void 0!=b&&b.length){let a=[];$.each(b,function(b,c){a.push($(c).val())});b=a.sort().join();c.permissions=b}void 0!=d&&""!=d?this.updateConnection(c,this.previousConnectionLinkName,d):(c.connectorId=a.connectorId,c.isEnvironmentBased=0==$(this.mainEl).find("input[id\x3denable-all-env]").prop("checked"),this.addConnection(c))}}doValidation(){let a=!0,b=$(this.mainEl).find("#zcAddConnectionForm");
var c=b.find(":input[name\x3dconnectionName]").val();let d=b.find("#connectionLinkName").val(),e=$(b).find(":input[name\x3dconnectionId]").val(),f=/^[A-Za-z0-9_]+$/,g=new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\ \\*\\@\\/\\\\!\\:\\|\\~\\\x26\\.\\+]+$");""==c.trim()?($(b).find(":input[name\x3dconnectionName]").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",i18n["zc.setup.connection.connectionname"])),a=!1):50<c.length?($(b).find(":input[name\x3dconnectionName]").showError(i18n["zc.connection.namevalidation.limit"]),
a=!1):g.test(c)||($(b).find(":input[name\x3dconnectionName]").showError(i18n["zc.connection.namevalidation.characters"]),a=!1);void 0!=e&&""!=e&&(""==d.trim()?($(b).find("#connectionLinkName").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",i18n["zc.setup.connection.connectionname"])),a=!1):50<d.length?($(b).find("#connectionLinkName").showError(i18n["zc.c5.setup.connection.linknamevalidation.limit"]),a=!1):f.test(d)||($(b).find("#connectionLinkName").showError(i18n["zc.c5.setup.connection.linknamevalidation.characters"]),
a=!1));c=this.connectorInfo.permissionType;2==c?(c=$(b).find(".individual-action-checkbox:checked"),c&&c.length||($(b).find(".zc-dem-connection-access-container").showError(i18n["zc.builder.connectionauth.selectoneaction"]),a=!1)):3!=c||$(b).find("input[elename\x3dpermissions]:checked").length||this.connectorInfo.isDatasource||this.connectorInfo.isInternal?3==c&&50<$(b).find("input[elename\x3dpermissions]:checked").length&&($(b).find(".zc-integ-scope-list").showError(i18n["zc.setup.connection.maxscopeslimit"]),
a=!1):($(b).find(".zc-integ-scope-list").showError(i18n["zc.setup.addconnection.selectscope"]),a=!1);return a}constructPopup(a,b,c,d){iCustomizePopup({title:a,body:b,buttons:c,success:function(a){d(a)}})}openPopup(a){function b(b){a(b);c()}function c(){$(e).find(".zc-dem-dialogue-close").trigger("click")}let d=this,e;iCustomizePopup({parentClass:"zc-dem-integration-addconnection-popup zc-dem-integ-popup-new",title:d.constructDOM(d.connectorInfo,$("#connectionPopupTitle").html()),body:d.constructDOM(d.connectorInfo,
$("#connectionPage").html()),submitOnEnterKey:!0,buttons:[{name:i18n["zc.builder.connectionauth.createauth"],type:ZCModalConstants.MODAL_SUBMIT},{name:ZCButton.CANCEL,type:ZCModalConstants.MODAL_CANCEL}],afterOpen:function(a){e=a;d.mainEl=$(a).find(".zc-dem-integration-addconnection-container");d.successCallback=b;d.cancelCallback=c;d.zcIntegAuthorize.mainEl=d.mainEl;d.serviceInfo&&d.serviceInfo.hasMultipleVersion&&$("#versionDrop").zcDropDown({onChange:function(){d.meta.getServiceVersion($("#versionDrop").val(),
function(a){d.connectorInfo=a})}}).setValue(d.serviceVersionLinkName)},success:function(){d.preProcess()}})}updateConnection(a,b,c){var d=this;a.connectionLinkName=$(d.mainEl).find("#zcAddConnectionForm").find("#connectionLinkName").val();a.connectionId=c;d.meta.updateConnection(a,b,function(a){a.hasOwnProperty("status")&&"success"==a.status&&(d.successCallback(a),showToast(i18n["zc.c5.setup.connections.connectionupdated"],ZCType.SUCCESS,2E3))})}addConnection(a){let b=this;b.meta.addConnection(a,
ServiceAuthType.BASIC_AUTH,function(a){a.hasOwnProperty("ADD_CONNECTION_ERROR")?iAlert(a.ADD_CONNECTION_ERROR):a.error?b.hideAuthLoader():b.integContext==IntegrationContext.SETUP?(showToast(i18n["zc.c5.setup.connections.authorizesuccess"].replace("{0}",b.connectorInfo.displayName),ZCType.SUCCESS,2E3),b.successCallback(a)):(b.successCallback(a),showToast(i18n["zc.c5.setup.connections.authorizesuccess"].replace("{0}",b.connectorInfo.displayName),ZCType.SUCCESS,2E3),b.zcIntegAuthorize.connectionLinkName=
a.linkName,b.zcIntegAuthorize.authSuccessCallback=b.authSuccessCallback,b.zcIntegAuthorize.doAuthorize())})}showAuthLoader(){var a=$(this.mainEl).find("[elName\x3d'authLoader']");$(a).find(".zc-dem-integration-popup-freeze").showLoading();$(a).removeClass("hide");$(a).find("#authSuccess").removeClass("hide")}hideAuthLoader(){var a=$("[elName\x3d'authLoader']");$(a).find(".zc-dem-integration-popup-freeze").hideLoading();$(a).find("#authSuccess").addClass("hide");$(a).find("#authError").removeClass("hide")}skipAuthLoader(){var a=
$("[elName\x3d'authLoader']");$(a).find(".zc-dem-integration-popup-freeze").hideLoading();$(a).find("#authSuccess").addClass("hide")}}ZCNewConnection.getInstance=function(){return new ZCNewConnection};class ZCIntegFormContext extends ComponentContext{constructor(){super()}init(a){function b(a){c.connectorInfo=a;c.serviceVersionLinkName=a.linkName;c.serviceLinkName=a.serviceLinkName;var b=isFlowProxied(c.connectorInfo);c.showModules=!b||!c.connectorInfo.isDynamic;c.proxiedStaticServiceVersion=b&&!c.connectorInfo.isDynamic;c.proxiedDynamicServiceVersion=b&&c.connectorInfo.isDynamic;c.meta.getDataSourcesForServiceVersion(c.serviceLinkName,function(b){a.datasources=b;$(c.mainEl).append(c.constructDOM(a,
$("#servicePage").html()));hideLoading();c.bindEvents()})}var c=this;this.mainEl=a.mainEl;this.cancelCallback=a.cancelCallback;this.successCallback=a.successCallback;this.versionId=a.versionId;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.serviceVersionLinkName=a.serviceVersionLinkName;showLoading();super.init({sharedByDisp:a.sharedByDisp,integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){c.meta.getService(c.serviceVersionLinkName,
b)})}bindEvents(){function a(a){var c=$("ul[name\x3ddataSource]").width();let d=$("ul[name\x3ddataSource]").scrollLeft();if(a=a.currentTarget)c=$(a).get(0)==$("#rightNavArrow").get(0)?d+c:d-c,b.navigationArrowHandling(c),$("ul[name\x3ddataSource]").animate({scrollLeft:c},2E3)}var b=this,c=$(this.mainEl).find(".zc-dem-integration-service-maincontainer").find("form");$("#form-thirdparty-create").find("h3.zc-dem-integration-services-list-title").text("Create form using an Integrated Data Source");$("#form-thirdparty-create \x3e #serviceBack1").off("click").on("click",
function(a){b.cancelCallback(a)});b.showModules&&$("#zc-action-config").show();b.navigationArrowHandling();$(c).find("ul[name\x3ddataSource]").off("click").on("click",".zc-datasource-card",function(){let a=$(this).parent().children("li.selected").get(0);if(void 0!=a&&a==$(this).get(0))return!1;$(this).siblings(".selected").removeClass("selected").children().removeClass("selected").children("span:first-child").addClass("zc-hide");$(this).addClass("selected").children().addClass("selected").children("span:first-child").removeClass("zc-hide");
let c=$(this);b.meta.getDataSource($(this).attr("dataSourceLinkName"),function(a){function d(a){$(l).find("#dataSourceProp_account").addClass("zc-hide");$(l).find("#dataSourceProp_authorize").removeClass("zc-hide");$(l).find("#dataSourceProp_authorize \x3e input[type\x3dbutton]").removeAttr("disabled").removeAttr("title");$(l).find("#dataSourceProp_authorize \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",function(){var d=$(f).attr("linkname");d={meta:b.meta,csrfParamName:b.csrfParamName,
csrfToken:b.csrfToken,connectorInfo:b.connectorInfo,connectionLinkName:d,isSystemConnection:a==ConnectionType.SYSTEM,authSuccessCallback:function(){$(f).attr("isConnected",!0);e();$(c).removeClass("selected");$(c).trigger("click")}};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(d)})}function e(){$(l).find("div[id\x3dconnection-auth-required]").addClass("hide");$(l).find("#dataSourceProp_authorize").addClass("zc-hide");$(l).find("#dataSourceProp_account").removeClass("zc-hide");$(l).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize")}
$("#dataSourceProperties").removeClass("zc-hide");let f=$(c).find("input[name\x3dconnection]"),l=$(b.mainEl).find("div.zc-dem-integration-service-maincontainer");"false"==$(f).attr("isConnected")?d($(f).attr("connectiontype")):e();$("#dataSourceProp_connection").text(a.connection.displayName);a.connection.authorizedAccount?($(l).find("#dataSourceProp_account_wrapper").parent().removeClass("zc-hide"),$("#dataSourceProp_account").text(a.connection.authorizedAccount)):$(l).find("#dataSourceProp_account_wrapper").parent().addClass("zc-hide");
$("#dataSourceProp_module").text(a.module.displayName)})});$("#leftNavArrow").off("click").on("click",zcDebounce(a));$("#rightNavArrow").off("click").on("click",zcDebounce(a));$(c).find(".add-datasource").off("click").on("click",function(){b.processDataSourcePopup()});$(c).find("input[name\x3dcreate]").off("click").on("click",function(a){b.successCallback(a)});$(c).find("input[name\x3dcancel]").off("click").on("click",function(a){b.cancelCallback(a)})}navigationArrowHandling(a){a=void 0==a?0:a;let b=
$("ul[name\x3ddataSource] li:first").outerWidth(!0),c=$("ul[name\x3ddataSource]").width(),d=$("ul[name\x3ddataSource]").get(0).scrollWidth,e=$("ul[name\x3ddataSource] li").length;b*e<c?($("#rightNavArrow").addClass("zc-hide"),$("#leftNavArrow").addClass("zc-hide")):(a>=d-c?$("#rightNavArrow").addClass("zc-hide"):$("#rightNavArrow").removeClass("zc-hide"),a+b<=b?$("#leftNavArrow").addClass("zc-hide"):$("#leftNavArrow").removeClass("zc-hide"))}processDataSourcePopup(){let a=this;showLoading();a.meta.getAllConnections(a.connectorInfo.serviceId,
{context:ConnectionPopupContext.DATASOURCE},function(b){let c={};c.serviceLogo=a.connectorInfo.logoUrl;c.serviceDisplayName=a.connectorInfo.displayName;c.serviceLinkName=a.connectorInfo.linkName;b=a.constructDOM(b,$("#addDataSourcePopupContent").html());iCustomizePopup({title:a.constructDOM(c,$("#addDataSourcePopupTitle").html()),buttons:[{name:ZCButton.CREATE,type:ZCModalConstants.MODAL_SUBMIT},{name:ZCButton.CANCEL,type:ZCModalConstants.MODAL_CANCEL}],body:b,submitOnEnterKey:!0,parentClass:"zc-dem-integration-addconnection-popup",
afterOpen:function(b){a.dataSourcePopup=b;a.bindDataSourcePopupEvents();hideLoading()},success:function(b){if(!$("#proceedBtn").prop("disabled")){a.dataSourcePopup=b;var c=$(b.container).find("select[name\x3dconnection] option:selected").val(),d=$(b.container).find("select[name\x3dmodule]").val();let e=$(b.container).find("input[name\x3ddataSourceDisplayName]").val(),f=!0;isNull(c)&&(c=$(b.container).find("select[name\x3dconnection]").closest(".zc-dem-form-group").find("label span").text(),$(b.container).find("select[name\x3dconnection]").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",
c)),f=!1);isNull(d)&&(d=$(b.container).find("select[name\x3dmodule]").closest(".zc-dem-form-group").find("label span").text(),$(b.container).find("select[name\x3dmodule]").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",d)),f=!1);""==e.trim()&&($(b.container).find("input[name\x3ddataSourceDisplayName]").showError(i18n["zc.builder.datasource.entername"]),f=!1);ConnectionRegexValidator.validateDisplayName(e)||($(b.container).find("input[name\x3ddataSourceDisplayName]").showError(i18n["zc.connection.namevalidation.characters"]),
f=!1);f?a.processSDKConfiguration(isFlowProxied(a.connectorInfo),a.postSDKProcess,a):a.dataSourcePopup=$(b.container)}}})})}postSDKProcess(a){let b=a.dataSourcePopup,c={},d=$(b.container).find("input[name\x3dactionConfigId]").val();"true"!=$("#zf-actionConfigId").attr("is-valid")&&isFlowProxied(connectorInfo)?a.dataSourcePopup=$(b.container):(void 0!=d&&""!=d&&(c.actionConfigId=d),c.connectionId=a.connectionId,c.apiLinkName=$(b.container).find("select[name\x3dmodule]").val(),c.displayName=$(b.container).find("input[name\x3ddataSourceDisplayName]").val(),
showLoading(),a.meta.createDataSource(c,function(c,d,g){if(g)iAlert(d);else{if(c){c=$(a.mainEl).find(".zc-dem-integration-service-maincontainer").find("form");$(c).find("#datasource-listing-container").show();$(c).find("#no-datasources").hide();g=$(c).find("ul[name\x3ddataSource]");d.connectedService=d.connection.connector;let e=a.constructDOM(d,$("#datasourceCard").html());$(g).prepend(e);$(c).find("li[dataSourceLinkName\x3d"+d.linkName+"]").trigger("click");$("ul[name\x3ddataSource]").animate({scrollLeft:0});
b.close()}else iAlert(i18n["zc.builder.datasource.existingconfiguration"],function(){b.close()});hideLoading()}}))}bindDataSourcePopupEvents(){function a(){let a=$(b.dataSourcePopup).find("select[name\x3dconnection]");$(a).find("option:selected").attr("isConnected",!0);$(a).trigger("change")}let b=this,c=b.dataSourcePopup;$(c).find("select[name\x3dconnection]").zcDropDown();$(c).find("select[name\x3dconnection]").data("zcdd").setValue("");$(c).find("select[name\x3dmodule]").zcDropDown();$(c).find("select[name\x3dconnection]").off("change").on("change",
function(){function d(d){b.disableFields($(c));0==$(c).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source']").length&&(0<$(c).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source hide']").length?$(c).find("div[id\x3dconnection-auth-required]").removeClass("hide"):$(c).find('div[id\x3d"connection-listing-container"]').append($(dataSourceAuthRequired)),$(c).find("#connection-auth-required \x3e input[type\x3dbutton]").removeAttr("disabled").removeAttr("title"),
$(c).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",function(){var e=$(c).find("select[name\x3dconnection]").find("option:selected",this).attr("linkName");e={meta:b.meta,csrfParamName:b.csrfParamName,csrfToken:b.csrfToken,connectorInfo:b.connectorInfo,connectionLinkName:e,isSystemConnection:d==ConnectionType.SYSTEM,authSuccessCallback:a};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(e)}))}$(this).showMiniLoader();b.connectionLinkName=
$("option:selected",this).attr("linkName");b.connectionId=$("option:selected",this).val();"false"==$("option:selected",this).attr("isConnected")?d($("option:selected",this).attr("type")):($(c).find("div[id\x3dconnection-auth-required]").addClass("hide"),$(c).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize"),b.enableFields($(c)));errorClearCallback($(c).find("select[name\x3dmodule]").prev());errorClearCallback($("input[name\x3ddataSourceDisplayName]").parent());b.initModuleConfig()});
$(c).find("#addNewConnection").show();$(c).find("#addNewConnection, .add-newconnection").off("click").on("click",function(){let c={meta:b.meta,successCallback:function(a){$(b.dataSourcePopup).find(".zc-dem-integration-addconnection-maincontainer").showToast(i18n["zc.builder.connectionauth.connectionsuccess"],ZCType.SUCCESS,2E3);$(b.dataSourcePopup).find("#no-connection").hide();$(b.dataSourcePopup).find("#connection-listing-container").show();var c=$("\x3coption/\x3e",{value:a.connectionId,html:a.displayName,
isConnected:a.isConnected,type:a.connectionType,linkName:a.linkName}),d=$(b.dataSourcePopup).find("select[name\x3dconnection]"),e=$(d);if($(d).find("optgroup").length){var k=a.connectionType==ConnectionType.SYSTEM?ConnectionType.SYSTEM:ConnectionType.USER;e=$(d).find("optgroup[type\x3d"+k+"]");$(e).length||(e=$("\x3coptgroup/\x3e").attr("label",ConnectionType.I18N[k]).attr("type",k),$(d).append(e),e=$(d).find("optgroup[type\x3d"+k+"]"))}$(e).append(c);void 0==$(d).data("zcdd")&&$($(d)).zcDropDown();
$(d).data("zcdd").setValue(a.connectionId);$(d).trigger("change");errorClearCallback($(d).prev())},authSuccessCallback:a,csrfParamName:b.csrfParamName,csrfToken:b.csrfToken,versionId:b.connectorInfo.connectorId,serviceVersionLinkName:b.serviceVersionLinkName,integContext:IntegrationContext.BUILDER,popupContext:ConnectionPopupContext.DATASOURCE};ZCNewConnection.getInstance().init(c)})}initModuleConfig(){let a=this;a.meta.getModules(a.getModulesInputData(a.connectorInfo,a.connectionId),function(b){let c=
a.dataSourcePopup,d=$(c).find("select[name\x3dmodule]");void 0==$(d).data("zcdd")&&$($(d)).zcDropDown();$(d).data("zcdd").setValue("");$(d).data("zcdd").reset();$.each(b.modules,function(a,b){$("\x3coption /\x3e",{value:b.linkName,text:b.displayName,refKey:b.primaryActionConfigRef}).appendTo(d)});a.proxiedDynamicServiceVersion&&1==b.modules.length&&$(d).data("zcdd").setValue(b.modules[0].linkName);$(c).find("select[name\x3dconnection]").hideMiniLoader()});$('iframe[name\x3d"zc-action-frame"]').addClass("zc-hidden-frame");
if(a.proxiedDynamicServiceVersion)a.loadActionSDK(a.connectorInfo),$(a.dataSourcePopup).find("select[name\x3dconnection]").hideMiniLoader();else if(a.proxiedStaticServiceVersion)$(a.dataSourcePopup).find("select[name\x3dmodule]").off("change").on("change",function(){$('iframe[name\x3d"zc-action-frame"]').addClass("zc-hidden-frame");var b=this;$(b).showMiniLoader();a.meta.fetchModule(a.connectionLinkName,$(b).val(),function(c){a.loadActionSDK(c,b)})})}destroy(){}}ZCIntegFormContext.getInstance=function(){return new ZCIntegFormContext};class ZCIntegFieldContext extends ComponentContext{constructor(){super()}init(a){let b=this;this.mainEl=a.mainEl;this.cancelCallback=a.cancelCallback;this.successCallback=a.successCallback;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;super.init({sharedByDisp:a.sharedByDisp,integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){ZCGlobal.newIntegrationServiceEnabled?b.bindEventsForC6Mode():b.bindEventsForC5Mode()})}bindEventsForC6Mode(){let a=
this;$(a.mainEl).find("select[name\x3dservices]").off("change").on("change",function(){$(this).showMiniLoader();a.resetDatasourceSelect();$(a.mainEl).find("#moduleName").hide();a.versionId=$("option:selected",this).attr("versionId");a.serviceLinkName=$("option:selected",this).attr("serviceLinkName");a.versionLinkName=$("option:selected",this).val();a.meta.getServiceVersion(a.versionLinkName,function(b){a.connectorInfo=b});a.meta.getDataSourcesForServiceVersion(a.serviceLinkName,function(b){void 0!=
b&&0<b.length?($(a.mainEl).find("#dataSourceSelect").show(),$(a.mainEl).find("#addNewDatasource").show(),$(a.mainEl).find("#noDataSources").hide(),a.dataSourceListHandling(b)):($(a.mainEl).find("#dataSourceSelect").hide(),$(a.mainEl).find("#noDataSources").show());$(a.mainEl).find("select[name\x3dservices]").hideMiniLoader();a.enableFields($(a.mainEl))})});$(a.mainEl).find("select[name\x3ddatasources]").off("change").on("change",function(){function b(b){a.disableFields($(a.mainEl));0==$(a.mainEl).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source']").length&&
(0<$(a.mainEl).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source hide']").length?$(a.mainEl).find("div[id\x3dconnection-auth-required]").removeClass("hide"):$(a.mainEl).find("div[id\x3ddatasourceDiv]").append($(dataSourceAuthRequired)),$(a.mainEl).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",function(){var e=$(d).attr("connectionlinkname");e={meta:a.meta,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken,
connectionLinkName:e,connectorInfo:a.connectorInfo,isSystemConnection:b==ConnectionType.SYSTEM,authSuccessCallback:function(){$(d).attr("isConnected",!0);c();$(a.mainEl).find("select[name\x3ddatasources]").trigger("change")}};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(e)}))}function c(){$(a.mainEl).find("div[id\x3dconnection-auth-required]").addClass("hide");$(a.mainEl).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize");a.enableFields($(a.mainEl))}$(this).showMiniLoader();
let d=$("option:selected",this);a.dataSourceLinkName=$(d).val();a.resetFieldSelect();"false"==$(d).attr("isConnected")?b($(d).attr("connectiontype")):c();a.moduleNameHandling();a.meta.getLookupSupportedDataSourceFields(a.dataSourceLinkName,function(b){a.fieldsListHandling(b);$(a.mainEl).find("select[name\x3ddatasources]").hideMiniLoader()})});$(a.mainEl).find("#addDataSource").off("click").on("click",function(){a.triggerDataSourcePopup()});$(a.mainEl).find("#addNewDatasource").off("click").on("click",
function(){a.triggerDataSourcePopup()})}bindDataSourcePopupEvents(){let a=this,b=a.dataSourcePopup;$(b).find("select[name\x3dconnection]").zcDropDown();$(b).find("select[name\x3dconnection]").data("zcdd").setValue("");$(b).find("select[name\x3dmodule]").zcDropDown();$(b).find("select[name\x3dconnection]").off("change").on("change",function(){a.connectionChangeHandling(b,$(this),!1);errorClearCallback($(b).find("select[name\x3dmodule]").prev());errorClearCallback($("input[name\x3ddataSourceDisplayName]").parent())});
$(b).find("#addNewConnection").show();$(b).find("#addNewConnection, .add-newconnection").off("click").on("click",function(){a.triggerConnectionPopup(ConnectionPopupContext.DATASOURCE)})}bindEventsOfConnectionPopup(){$(this.connectionPopup).find("select[name\x3dauthCredential]").zcDropDown()}triggerDataSourcePopup(){let a=this;showLoading();a.meta.getAllConnections(a.connectorInfo.serviceId,{context:ConnectionPopupContext.DATASOURCE},function(b){let c={};c.serviceLogo=a.connectorInfo.logoUrl;c.serviceDisplayName=
a.connectorInfo.displayName;c.serviceLinkName=a.connectorInfo.linkName;b=a.constructDOM(b,$("#addDataSourcePopupContent").html());iCustomizePopup({title:a.constructDOM(c,$("#addDataSourcePopupTitle").html()),buttons:[{name:ZCButton.CREATE,type:ZCModalConstants.MODAL_SUBMIT},{name:ZCButton.CANCEL,type:ZCModalConstants.MODAL_CANCEL}],body:b,submitOnEnterKey:!0,parentClass:"zc-dem-integration-addconnection-popup",afterOpen:function(b){a.dataSourcePopup=b;a.bindDataSourcePopupEvents();hideLoading()},
success:function(b){if(!$("#proceedBtn").prop("disabled")){a.dataSourcePopup=b;var c=$(b.container).find("select[name\x3dconnection] option:selected").val(),d=$(b.container).find("select[name\x3dmodule]").val();let e=$(b.container).find("input[name\x3ddataSourceDisplayName]").val(),f=!0;isNull(c)&&(c=$(b.container).find("select[name\x3dconnection]").closest(".zc-dem-form-group").find("label span").text(),$(b.container).find("select[name\x3dconnection]").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",
c)),f=!1);isNull(d)&&(d=$(b.container).find("select[name\x3dmodule]").closest(".zc-dem-form-group").find("label span").text(),$(b.container).find("select[name\x3dmodule]").showError(i18n["zc.builder.connectionauth.linkacc.enterfieldvalues"].replace("{0}",d)),f=!1);""==e.trim()&&($(b.container).find("input[name\x3ddataSourceDisplayName]").showError(i18n["zc.builder.datasource.entername"]),f=!1);ConnectionRegexValidator.validateDisplayName(e)||($(b.container).find("input[name\x3ddataSourceDisplayName]").showError(i18n["zc.connection.namevalidation.characters"]),
f=!1);f?a.processSDKConfiguration(isFlowProxied(a.connectorInfo),a.postSDKProcess,a):a.dataSourcePopup=$(b.container)}}})})}initModuleConfig(){let a=this;a.meta.getModules(a.getModulesInputData(a.connectorInfo,a.connectionId),function(b){let c=a.dataSourcePopup,d=$(c).find("select[name\x3dmodule]");void 0==$(d).data("zcdd")&&$($(d)).zcDropDown();$(d).data("zcdd").setValue("");$(d).data("zcdd").reset();$.each(b.modules,function(a,b){$("\x3coption /\x3e",{value:b.linkName,text:b.displayName,refKey:b.primaryActionConfigRef}).appendTo(d)});
a.proxiedDynamicServiceVersion&&1==b.modules.length&&$(d).data("zcdd").setValue(b.modules[0].linkName);$(c).find("select[name\x3dconnection]").hideMiniLoader()});if(a.proxiedDynamicServiceVersion)a.loadActionSDK(a.connectorInfo),$(a.dataSourcePopup).find("select[name\x3dconnection]").hideMiniLoader();else if(a.proxiedStaticServiceVersion)$(a.dataSourcePopup).find("select[name\x3dmodule]").off("change").on("change",function(){$('iframe[name\x3d"zc-action-frame"]').addClass("zc-hidden-frame");var b=
this;$(b).showMiniLoader();a.meta.fetchModule(a.connectionLinkName,$(b).val(),function(c){a.loadActionSDK(c,b)})})}postSDKProcess(a){let b=a.dataSourcePopup,c={},d=$(b.container).find("input[name\x3dactionConfigId]").val(),e=$(b.container).find("select[name\x3dconnection] option:selected").val(),f=$(b.container).find("select[name\x3dmodule]").val(),g=$(b.container).find("input[name\x3ddataSourceDisplayName]").val();"true"!=$("#zf-actionConfigId").attr("is-valid")&&isFlowProxied(connectorInfo)?a.dataSourcePopup=
$(b.container):(void 0!=d&&""!=d&&(c.actionConfigId=d),c.connectionId=e,c.apiLinkName=f,c.displayName=g,showLoading(),a.meta.createDataSource(c,function(c,d,e){e?iAlert(d):c?(c=$(a.mainEl).find("select[name\x3ddatasources]"),$(a.mainEl).find("#dataSourceSelect").show(),$(a.mainEl).find("#noDataSources").hide(),e=d.connection,e=$("\x3coption/\x3e",{value:d.linkName,text:d.displayName,isConnected:e.isConnected,connectiontype:e.type,connectionlinkname:e.linkName}),$(c).append(e),$(c).data("zcdd").setValue(d.linkName),
$(c).data("preVal",d.linkName),$(c).trigger("change"),errorClearCallback($(c).prev()),b.close()):iAlert(i18n["zc.builder.datasource.existingconfiguration"],function(){b.close()});hideLoading()}))}moduleNameHandling(){let a=this;a.meta.getDataSource(a.dataSourceLinkName,function(b){$(a.mainEl).find("#moduleName").show();$(a.mainEl).find("#module").val(b.module.displayName)})}dataSourceListHandling(a){let b=this;$.each(a,function(a,d){a=d.connection;$(b.mainEl).find("select[name\x3ddatasources]").append($("\x3coption\x3e\x3c/option\x3e").attr("value",
d.linkName).text(d.displayName).attr("isConnected",a.isConnected).attr("connectiontype",a.type).attr("connectionlinkname",a.linkName))})}fieldsListHandling(a){let b=this;$.each(a,function(a,d){$(b.mainEl).find("select[name\x3dfields]").append($("\x3coption\x3e\x3c/option\x3e").attr("value",d.linkName).text(d.displayName))})}resetDatasourceSelect(){let a=$(this.mainEl).find("select[name\x3ddatasources]");$(a).data("zcdd").setValue("");$(a).data("zcdd").reset();errorClearCallback($(a).prev());$(this.mainEl).find("div[id\x3dconnection-auth-required]").addClass("hide");
this.resetFieldSelect()}bindEventsForC5Mode(){let a=this;$(a.mainEl).find("select[name\x3dservices]").off("change").on("change",function(){$(this).showMiniLoader();a.resetConnectionSelect();a.versionId=$("option:selected",this).attr("versionId");a.serviceId=$("option:selected",this).attr("serviceId");a.serviceLinkName=$("option:selected",this).attr("serviceLinkName");a.versionLinkName=$("option:selected",this).val();a.meta.getIntegrationService(a.serviceLinkName,function(b){a.serviceInfo=b;a.meta.getServiceVersion(a.versionLinkName,
function(b){a.connectorInfo=b;$(a.mainEl).find("#addNewConnection").show();$(a.mainEl).find("#connectionsDiv").addClass("zc-dem-loader-control");$(a.mainEl).find("#connectionsDiv").removeClass("zc-dem-error-message-control");a.enableFields($(a.mainEl));a.meta.getAllConnections(a.serviceId,{context:ConnectionPopupContext.INTEGRATION_FIELD},function(b){a.handleConnectionsListing(b)})})});hideLoading();$(a.mainEl).find("#addNewConnection, .add-newconnection").off("click").on("click",function(){a.triggerConnectionPopup(ConnectionPopupContext.INTEGRATION_FIELD)})});
$(a.mainEl).find("select[name\x3dconnection]").off("change").on("change",function(){a.connectionChangeHandling(a.mainEl,$(this),!0);a.resetModuleSelect()});$(a.mainEl).find("select[name\x3dmodule]").off("change").on("change",function(){$(this).showMiniLoader();a.resetFieldSelect();let b=$(a.mainEl).find("select[name\x3dfields]"),c={connectorId:a.versionId,moduleLinkName:$("option:selected",this).val()};a.meta.getFields(c,function(c){$.each(c.apiFields,function(a,c){$("\x3coption /\x3e",{value:c.linkName,
text:c.displayName}).appendTo(b)});$(a.mainEl).find("select[name\x3dmodule]").hideMiniLoader()})})}loadModuleConfiguration(){let a=this;a.meta.getModules(a.getModulesInputData(a.connectorInfo,a.connectionId),function(b){let c=$(a.mainEl).find("select[name\x3dmodule]");$(c).data("zcdd").setValue("");$(c).data("zcdd").reset();$.each(b.modules,function(a,b){$("\x3coption /\x3e",{value:b.linkName,text:b.displayName}).appendTo(c)});$(a.mainEl).find("select[name\x3dconnection]").hideMiniLoader()})}handleConnectionsListing(a){let b=
$(this.mainEl).find("select[name\x3dconnection]");$(b).data("zcdd").setValue("");$(b).data("zcdd").reset();let c=a.connections;Object.keys(c).length?($(this.mainEl).find("#connection-listing-container").show(),$(this.mainEl).find("#no-connection").hide()):($(this.mainEl).find("#connection-listing-container").hide(),$(this.mainEl).find("#no-connection").show());""!=c&&void 0!=c&&Object.keys(c).length&&$.each(a,function(a,c){var d=Object.keys(c).includes("SYSTEM");$.each(c,function(a,c){let e=$(b);
d&&(a="system"==a.toLowerCase()?ConnectionType.SYSTEM:ConnectionType.USER,e=$("\x3coptgroup\x3e\x3c/optgroup\x3e").attr("label",ConnectionType.I18N[a]).attr("type",a));$.each(c,function(a){a=c[a];if(a.isEnabled){let b=$("\x3coption\x3e\x3c/option\x3e").val(a.connectionId).text(a.displayName).attr("isConnected",a.isConnected).attr("type",a.connectionType);$(b).attr("linkName",a.linkName);$(e).append(b)}});d&&$(b).append(e)})});$(this.mainEl).find("select[name\x3dservices]").hideMiniLoader()}resetConnectionSelect(){let a=
$(this.mainEl).find("select[name\x3dconnection]");$(a).data("zcdd").setValue("");$(a).data("zcdd").reset();errorClearCallback($(a).prev());$(this.mainEl).find("div[id\x3dconnection-auth-required]").addClass("hide");this.resetModuleSelect()}resetModuleSelect(){let a=$(this.mainEl).find("select[name\x3dmodule]");$(a).data("zcdd").setValue("");$(a).data("zcdd").reset();errorClearCallback($(a).prev());this.resetFieldSelect()}resetFieldSelect(){let a=$(this.mainEl).find("select[name\x3dfields]");$(a).data("zcdd").setValue("");
$(a).data("zcdd").reset();errorClearCallback($(a).prev())}connectionChangeHandling(a,b,c){function d(b){e.disableFields($(a));0==$(a).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source']").length&&(0<$(a).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source hide']").length?$(a).find("div[id\x3dconnection-auth-required]").removeClass("hide"):$(a).find("div[id\x3dconnection-listing-container]").append($(dataSourceAuthRequired)),$(a).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",
function(){var c=$(a).find("select[name\x3dconnection]").find(f).attr("linkName");c={meta:e.meta,csrfParamName:e.csrfParamName,csrfToken:e.csrfToken,connectorInfo:e.connectorInfo,connectionLinkName:c,isSystemConnection:b==ConnectionType.SYSTEM,authSuccessCallback:function(){e.authSuccessCallback()}};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(c)}))}let e=this;$(b).showMiniLoader();let f=$("option:selected",b);e.connectionLinkName=$(f).attr("linkName");e.connectionId=$(f).val();"false"==
$(f).attr("isConnected")?d($(f).attr("type")):($(a).find("div[id\x3dconnection-auth-required]").addClass("hide"),$(a).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize"),e.enableFields($(a)));c?e.loadModuleConfiguration():e.initModuleConfig()}triggerConnectionPopup(a){let b=this;a={meta:b.meta,successCallback:function(a){if(ZCGlobal.newIntegrationServiceEnabled){var c=$(b.dataSourcePopup);$(b.dataSourcePopup).find(".zc-dem-integration-addconnection-maincontainer").showToast(i18n["zc.builder.connectionauth.connectionsuccess"],
ZCType.SUCCESS,2E3);$(b.dataSourcePopup).find("#no-connection").hide();$(b.dataSourcePopup).find("#connection-listing-container").show()}else c=$(b.mainEl),$(c).showToast(i18n["zc.builder.connectionauth.connectionsuccess"],ZCType.SUCCESS,2E3),$(c).find("#connection-listing-container").show(),$(c).find("#no-connection").hide();var e=$("\x3coption/\x3e",{value:a.connectionId,html:a.displayName,isConnected:a.isConnected,type:a.connectionType,linkName:a.linkName});c=$(c).find("select[name\x3dconnection]");
var f=$(c);if($(c).find("optgroup").length){var g=a.connectionType==ConnectionType.SYSTEM?ConnectionType.SYSTEM:ConnectionType.USER;f=$(c).find("optgroup[type\x3d"+g+"]");$(f).length||(f=$("\x3coptgroup/\x3e").attr("label",ConnectionType.I18N[g]).attr("type",g),$(c).append(f),f=$(c).find("optgroup[type\x3d"+g+"]"))}$(f).append(e);void 0==$(c).data("zcdd")&&$($(c)).zcDropDown();$(c).data("zcdd").setValue(a.connectionId);$(c).trigger("change");errorClearCallback($(c).prev())},authSuccessCallback:function(){b.authSuccessCallback()},
csrfParamName:b.csrfParamName,csrfToken:b.csrfToken,versionId:b.connectorInfo.connectorId,serviceVersionLinkName:b.connectorInfo.linkName,serviceInfo:b.serviceInfo,connectorInfo:b.connectorInfo,popupContext:a};ZCNewConnection.getInstance().init(a)}authSuccessCallback(){let a=$(ZCGlobal.newIntegrationServiceEnabled?this.dataSourcePopup:this.mainEl).find("select[name\x3dconnection]");$(a).find("option:selected").attr("isConnected",!0);$(a).trigger("change")}handlePortals(){let a=this,b=$(a.mainEl).find("select[name\x3dconnection]").val();
$(a.mainEl).find("div[id \x3d portal]").show();a.meta.getPortals(b,function(b){if("error"==b.status)return b=b.message,$(a.mainEl).find("select[name\x3dconnection]").hideMiniLoader(),iAlert(b),!1;var c=$(a.mainEl).find("select[name\x3dportalId]");$(c).data("zcdd").reset();$.each(b.portals,function(a,b){$("\x3coption /\x3e",{value:b.id,text:b.portalName}).appendTo(c)});$(c).data("zcdd").setValue("");$(c).data("zcdd").open();$(a.mainEl).find("select[name\x3dconnection]").hideMiniLoader();return!0})}handleProjects(a){let b=
this;a=$(b.mainEl).find("select[name\x3dconnection]").val();let c=$(b.mainEl).find("select[name\x3dportalId]").val();$(b.mainEl).find("div[id \x3d project]").show();b.meta.getProjects(a,c,function(a){if("error"==a.status)return a=a.message,$(b.mainEl).find("select[name\x3dmodules]").hideMiniLoader(),iAlert(a),!1;var c=$(b.mainEl).find("select[name\x3dprojectId]");$(c).data("zcdd").reset();$.each(a.projects,function(a,b){$("\x3coption /\x3e",{value:b.id,text:b.projectName}).appendTo(c)});$(c).data("zcdd").setValue("");
$(c).data("zcdd").open();$(b.mainEl).find("select[name\x3dmodules]").hideMiniLoader();return!0})}}ZCIntegFieldContext.getInstance=function(){return new ZCIntegFieldContext};class ZCIntegWorkflowContext extends ComponentContext{constructor(){super()}init(a){let b=this;this.mainEl=a.mainEl;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.versionId=a.versionId;this.serviceId=a.serviceId;this.serviceLinkName=a.serviceLinkName;this.serviceVersionLinkName=a.serviceVersionLinkName;this.formLinkName=a.formLinkName;this.workflowBuilder=a.workflowBuilder;this.isEdit=a.isEdit;this.integFieldsUrl="/appbuilder/"+b.workflowBuilder.constants.scopeName+"/"+b.workflowBuilder.constants.appLinkName+
"/form/"+b.formLinkName+"/settings/edit/getIntegFields";super.init({sharedByDisp:a.sharedByDisp,integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){b.meta.getIntegrationService(b.serviceLinkName,function(a){b.serviceInfo=a;b.meta.getService(b.serviceVersionLinkName,function(a){b.connectorInfo=a;b.versionId=a.connectorId;b.serviceId=a.serviceId;hideLoading();b.postInitProcess()})})})}postInitProcess(){this.bindEvents();this.hideUnrelatedElements();
this.fillConnections();$(this.mainEl).find("#addNewConnection").show();this.isEdit?this.registerFieldEvents():this.resetServiceDetails()}bindEvents(){let a=this,b=$(a.mainEl).find("select[name\x3dconnectionId]"),c=$(a.mainEl).find("select[name\x3dmoduleLinkName]");$(b).zcDropDown();$(c).zcDropDown();$(b).off("change").on("change",function(){function b(b){0==$(a.mainEl).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source']").length&&(0<$(a.mainEl).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source hide']").length?
$(a.mainEl).find("div[id\x3dconnection-auth-required]").removeClass("hide"):$(a.mainEl).find("a[id\x3daddNewConnection]").after($(connAuthRequiredElement)),$(a.mainEl).find("#connection-auth-required \x3e input[type\x3dbutton]").removeAttr("disabled").removeAttr("title"),$(a.mainEl).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",function(){var c=$(a.mainEl).find("select[name\x3dconnectionId]").find("option:selected",this).attr("linkName");
c={meta:a.meta,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken,connectorInfo:a.connectorInfo,connectionLinkName:c,isSystemConnection:b==ConnectionType.SYSTEM,authSuccessCallback:function(){a.authSuccessCallback()}};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(c)}))}$(this).showMiniLoader();"false"==$("option:selected",this).attr("isConnected")?b($("option:selected",this).attr("type")):a.hideConnectionAuthMessages();$(this).data("abortModuleRequest")?$(this).hideMiniLoader():($(this).showMiniLoader(),
a.meta.getModules(a.getModulesInputData(a.connectorInfo,$(this).val()),function(b){a.fillModules(b)}))});$(c).off("change").on("change",function(){$(this).showMiniLoader();a.moduleCallback()});$(a.mainEl).find("#addNewConnection, .add-newconnection").off("click").on("click",function(){a.showConnection()})}showConnection(){let a=this,b={meta:a.meta,successCallback:function(b){$(a.mainEl).find("#no-connection").hide();$(a.mainEl).find("#connection-listing-container").show();var c=$(a.mainEl).find("select[name\x3dconnectionId]"),
e=$(c);if($(c).find("optgroup").length){var f=b.connectionType==ConnectionType.SYSTEM?ConnectionType.SYSTEM:ConnectionType.USER;e=$(c).find("optgroup[type\x3d"+f+"]");$(e).length||(e=$("\x3coptgroup/\x3e").attr("label",ConnectionType.I18N[f]).attr("type",f),$(c).append(e),e=$(c).find("optgroup[type\x3d"+f+"]"))}f=$("\x3coption/\x3e",{value:b.connectionId,html:b.displayName,isConnected:b.isConnected,type:b.connectionType,linkName:b.linkName});$(e).append(f);void 0==$(c).data("zcdd")&&$($(c)).zcDropDown();
$(c).data("zcdd").setValue(b.connectionId);$(c).data("preVal",b.connectionId);$(c).trigger("change")},authSuccessCallback:function(){a.authSuccessCallback()},csrfParamName:a.csrfParamName,csrfToken:a.csrfToken,versionId:a.connectorInfo.connectorId,serviceId:a.connectorInfo.serviceId,serviceVersionLinkName:a.serviceVersionLinkName,serviceInfo:a.serviceInfo,connectorInfo:a.connectorInfo,integContext:IntegrationContext.BUILDER,popupContext:ConnectionPopupContext.WORKFLOW_ACTION};ZCNewConnection.getInstance().init(b)}authSuccessCallback(){let a=
$(this.mainEl).find("select[name\x3dconnectionId]");$(a).find("option:selected").attr("isConnected",!0);$(a).trigger("change")}fillConnections(){let a=this,b,c=!1;a.workflowBuilder.showLoadingContainer();let d=$(a.mainEl).find("select[name\x3dconnectionId]");$(d).data("zcdd").setValue("");$(d).data("zcdd").reset();if(a.isEdit)b=$(a.mainEl).find("input[elename\x3dselectedConnectionId]").val();else{let b=$(a.mainEl).find("select[name\x3dmoduleLinkName]");$(b).data("zcdd").setValue("");$(b).data("zcdd").reset()}a.meta.getAllConnections(a.serviceId,
{context:ConnectionPopupContext.WORKFLOW_ACTION},function(e){let f=e.connections;""!=f&&void 0!=f&&Object.keys(f).length?($(a.mainEl).find("#no-connection").hide(),$(a.mainEl).find("#connection-listing-container").show(),$.each(e,function(e,f){var g=Object.keys(f).includes("SYSTEM");$.each(f,function(e,f){let h=$(d);g&&(e="system"==e.toLowerCase()?ConnectionType.SYSTEM:ConnectionType.USER,h=$("\x3coptgroup\x3e\x3c/optgroup\x3e").attr("label",ConnectionType.I18N[e]).attr("type",e));$.each(f,function(d){d=
f[d];if(d.isEnabled){let e=$("\x3coption\x3e\x3c/option\x3e").val(d.connectionId).text(d.displayName).attr("isConnected",d.isConnected).attr("type",d.connectionType).attr("linkName",d.linkName);a.isEdit&&b&&b==d.connectionId&&($(e).attr("selected",!0),c=!0);$(h).append(e)}});g&&$(d).append(h)})})):($(a.mainEl).find("#no-connection").show(),$(a.mainEl).find("#connection-listing-container").hide());a.isEdit&&void 0!=b&&!c&&(e=$(a.mainEl).find("input[elename\x3dselectedConnectionId]"),e=$("\x3coption\x3e\x3c/option\x3e").val(b).text($(e).attr("displayName")).attr("isConnected",
$(e).attr("isConnected")).attr("type",$(e).attr("type")).attr("linkName",$(e).attr("linkName")),$(e).attr("selected",!0),c=!0,$(d).append(e),$(a.mainEl).find("#no-connection").hide(),$(a.mainEl).find("#connection-listing-container").show());c&&($(d).data("zcdd").setValue(b),$(d).trigger("change"));a.setDefaultFocus();a.workflowBuilder.hideLoadingContainer()})}fillModules(a){let b=$(this.mainEl).find("select[name\x3dmoduleLinkName]");$(b).data("zcdd").setValue("");$(b).data("zcdd").reset();$.each(a.modules,
function(a,d){$("\x3coption /\x3e",{value:d.linkName,text:d.displayName}).appendTo(b)});$(this.mainEl).find("select[name\x3dconnectionId]").hideMiniLoader()}moduleCallback(){let a=this;var b=$(a.mainEl).find("select[name\x3dmoduleLinkName]").val();a.connectorInfo.isInternal||$(a.mainEl).find("select[name\x3dconnectionId]").val();let c=$(a.mainEl).find("select[name\x3dconnectionId]").val();b=a.getFieldsInputData(a.connectorInfo,c,b);b.zccpn=a.csrfToken;$.ajax({url:a.integFieldsUrl,type:"POST",dataType:"json",
data:b,beforeSend:$(a.mainEl).find("select[name\x3dmoduleLinkName]").showMiniLoader(),success:function(b,c,f){$(a.mainEl).find("select[name\x3dmoduleLinkName]").hideMiniLoader();b.apiFields.hasOwnProperty("error")?(iAlert(b.apiFields.error),$(a.mainEl).find("select[name\x3dserviceName]").val(""),$(a.mainEl).find("select[name\x3dmoduleLinkName]").val("")):(a.fields=b,a.constructMandFieldMapping(b),a.constructOtherFieldMapping(b))}})}registerFieldEvents(){let a=this;$(a.mainEl).find("span[elename\x3daddNewMapping]").off("click").on("click",
function(){let b=$(this);if(void 0!=a.fields)a.constructOtherFieldMapping(a.fields,$(this).closest("div[elename\x3dfieldmap-row]"));else{let c="";a.connectorInfo.isInternal||(c="\x26connectionName\x3d"+$(a.mainEl).find("select[name\x3dconnectionId]").val());let d=$(a.mainEl).find("select[name\x3dmoduleLinkName]").val();$.ajax({url:a.integFieldsUrl,type:"POST",dataType:"json",data:"zccpn\x3d"+a.csrfToken+"\x26connectorId\x3d"+a.connectorInfo.connectorId+"\x26moduleLinkName\x3d"+d+c,beforeSend:$(a.mainEl).find("span[elename\x3daddNewMapping]").showMiniLoader(),
success:function(c,d,g){$(a.mainEl).find("span[elename\x3daddNewMapping]").hideMiniLoader();c.hasOwnProperty("error")?iAlert(c.error):(a.fields=c,a.constructOtherFieldMapping(a.fields,$(b).closest("div[elename\x3dfieldmap-row]")))}})}});$(a.mainEl).find("span[elename\x3ddeleteMapping]").off("click").on("click",function(){1<$(this).closest("div[elename\x3dotherfieldsMapping]").find("div[elename\x3dfieldmap-row]").length&&$(this).closest("div[elename\x3dfieldmap-row]").remove()})}constructMandFieldMapping(a){let b=
this,c=$(b.mainEl).find("div[elename\x3dfieldMapping]");$(c).find("div[elename\x3dfieldmap-row]").remove();$(c).removeClass("hide");let d=a.formFields;$.each(a.apiFields,function(a,c){if(c.isMandatory){a=$("\x3clabel\x3e\x3c/label\x3e").attr("class","zc-dem-box-sizing").attr("value",c.linkName);a.append(c.displayName);let e=$("\x3cinput\x3e\x3c/input\x3e").attr("name","mandApiFields").attr("type","hidden").attr("class","no-validate").attr("value",c.linkName),f=$("\x3cspan\x3e\x3c/span\x3e").attr("class",
"zc-em zc-wb-next"),k=b.constructDropDown("mandFormFields",d,!1);c=$("\x3cdiv\x3e\x3c/div\x3e").attr("elename","fieldmap-row").attr("class","zc-dem-clearfix zc-wfb-module-field-item");c.append(a);c.append(e);c.append(f);c.append(k);a=$(b.mainEl).find("div[elename\x3dmandFieldsMapping]");c.appendTo(a);$(c).find("select").zcDropDown()}})}constructOtherFieldMapping(a,b){var c=a.apiFields;let d=$("\x3cselect\x3e\x3c/select\x3e").attr("class","zc-dem-field zc-dem-select zc-dem-box-sizing zc-dem-border-radius-0 no-validate").attr("name",
"otherApiFields");$(d).attr("placeholder",i18n["zc.workflowbuilder.selectfield"]);$.each(c,function(a,b){b.isMandatory||$("\x3coption /\x3e",{value:b.linkName,text:b.displayName}).appendTo(d)});c=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-field-group zc-dem-selectbox");$(c).append(d);let e=$("\x3cspan\x3e\x3c/span\x3e").attr("class","zc-em zc-wb-next"),f=this.constructDropDown("otherFormFields",a.formFields,!0),g=$("\x3cspan\x3e\x3c/span\x3e").attr("elename","addNewMapping").attr("class","zc-common-plus zc-em"),
h=$("\x3cspan\x3e\x3c/span\x3e").attr("elename","deleteMapping").attr("class","zc-common-trash zc-em");a=$("\x3cdiv\x3e\x3c/div\x3e").attr("elename","fieldmap-row").attr("class","zc-dem-clearfix zc-wfb-module-field-item");a.append(c);a.append(e);a.append(f);a.append(g);a.append(h);void 0!=b?$(b).after(a):(b=$(this.mainEl).find("div[elename\x3dotherfieldsMapping]"),a.appendTo(b));$(a).find("select").zcDropDown();$(a).find("select").each(function(){$(this).data("zcdd").setValue("")});this.registerFieldEvents()}constructDropDown(a,
b,c){let d=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-field-group zc-dem-selectbox"),e=$("\x3cselect\x3e\x3c/select\x3e").attr("class","zc-dem-field zc-dem-select zc-dem-box-sizing zc-dem-border-radius-0 no-validate").attr("name",a).attr("showTitle",!0);c&&$(e).attr("placeholder",i18n["zc.workflowbuilder.selectfield"]);$.each(b,function(a,b){if("composite"==b.type){var c=$("\x3coptgroup\x3e\x3c/optgroup\x3e").attr("label",$.parseHTML(b.dispName)[0].data);$.each(b.compFields,function(a,b){$("\x3coption /\x3e",
{value:a,title:a,html:b}).appendTo(c)});$(e).append(c)}else $("\x3coption /\x3e",{value:b.linkName,html:b.dispName,title:b.linkName}).appendTo(e)});$(d).append(e);return d}resetServiceDetails(){$(this.mainEl).find("select").each(function(){void 0!=$(this).data("zcdd")&&($(this).data("zcdd").reset(),$(this).data("zcdd").setValue(""),$(this).hideMiniLoader())});$(this.mainEl).find("div[elename \x3d fieldMapping]").addClass("hide")}hideUnrelatedElements(){let a=$(this.mainEl).find("select[name\x3dconnectionId]");
this.hideConnectionAuthMessages();this.isEdit?($(this.mainEl).find("div[elename \x3d fieldMapping]").removeClass("hide"),$(a).data("abortModuleRequest",!0)):$(a).removeData("abortModuleRequest")}setDefaultFocus(){var a=$(this.mainEl);(a=getFirstVisibleFormElement(a))&&setTimeout(function(){$(a).parent().attr("tabindex","0").find("input[type\x3dtext]:first").focus()},300)}hideConnectionAuthMessages(){$(this.mainEl).find("div[id\x3dconnection-auth-required]").addClass("hide");$(this.mainEl).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize")}}
ZCIntegWorkflowContext.getInstance=function(){return new ZCIntegWorkflowContext};class ZCSMSContext extends ConnectionContext{constructor(){super();this.serviceDashboardDiv="div[eleName\x3dserviceDashboardDiv]";this.addConDiv="div[eleName\x3daddConnectionDiv]";this.backToCategoryPage="div[eleName\x3dbackToCategory]";this.mainAddConnectionEle="#mainAddConnectionEle";this.connectionNameDiv=":input[elename\x3dconnectionNameEle]";this.versionId=":input[name\x3dversionId]";this.connectedServices="#connectedServices";this.listDiv="li[eleName\x3ddropdownList]";this.anchorDiv="a[eleName\x3ddropdownList]";
this.serviceCredintials="div[eleName\x3dserviceCredintials]";this.submitConnection="div[eleName\x3dsubmitConnection]";this.selectedService="div[eleName\x3dselectedService]";this.serviceList="div[eleName\x3dserviceList]";this.addConnectionForm="#addConnectionForm"}init(a){var b=this;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.sharedByDisp=a.sharedByDisp;this.successCallback=a.successCallback;this.authSuccessCallback=a.authSuccessCallback;super.init({sharedByDisp:this.sharedByDisp,
integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){b.meta.getAllServiceList({context:"5",grpByCategory:!0},function(a){b.popServiceListing(a)})})}popServiceListing(a){let b=this;a=b.constructDOM(a,$("#addConnectionTemp").html());$("#smsConnectionPop #connectionDiv").empty().append(a);iCustomizePopup({parentClass:"zc-dem-addConnectionSms",title:$("#smsConnectionPop").find(".popupHeader").text(),body:$("#smsConnectionPop").find(".popupMainCont").html(),
afterOpen:function(a){hideLoading();b.mainEl=a;$(a).closest(".zc-dem-dialogue-container").addClass("wb-pop-up");$(a).addClass("wb-pop-up");b.bindEvents();b.connectionSuccessCallBack=function(a){$(b.mainEl).find(".zc-dem-dialogue-close").trigger("click");b.successCallback(a)}},buttons:[]})}bindEvents(){var a=this;$(a.mainEl).find(a.serviceDashboardDiv).show();$(a.mainEl).find(a.addConDiv).hide();$(a.connectedServices).hide();$(a.mainEl).find(a.anchorDiv+","+a.listDiv).off("click").on("click",function(){$(a.mainEl).find(a.addConDiv).clearError();
$(a.mainEl).find(a.addConnectionForm).hide();showLoading();var b=$(this).attr("serviceLinkName");let c=$(this).attr("versionLinkName");a.meta.getIntegrationService(b,function(d){d={meta:a.meta,successCallback:a.connectionSuccessCallBack,authSuccessCallback:a.authSuccessCallback,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken,serviceVersionLinkName:c,serviceLinkName:b,serviceInfo:d,popupContext:ConnectionPopupContext.NOTIFICATION_ACTION};ZCNewConnection.getInstance().init(d)})});$(a.mainEl).find(a.serviceDashboardDiv).find(".header").hide();
$(a.mainEl).find(a.addConDiv).find(".header").hide();$(a.mainEl).find(a.backToCategoryPage).hide();$(a.mainEl).find(a.selectedService).css("width","207px")}stopEventPropagation(a){void 0!=$.browser&&$.browser.msie?window.event.cancelBubble=!0:a.stopPropagation()}}ZCSMSContext.getInstance=function(){return new ZCSMSContext};class ZCPaymentContext extends ConnectionContext{constructor(){super();this.serviceDashboardDiv="div[eleName\x3dserviceDashboardDiv]";this.addConDiv="div[eleName\x3daddConnectionDiv]";this.backToCategoryPage="div[eleName\x3dbackToCategory]";this.mainAddConnectionEle="#mainAddConnectionEle";this.connectionNameDiv=":input[elename\x3dconnectionNameEle]";this.versionId=":input[name\x3dversionId]";this.connectedServices="#connectedServices";this.listDiv="li[eleName\x3ddropdownList]";this.anchorDiv="a[eleName\x3ddropdownList]";
this.serviceCredintials="div[eleName\x3dserviceCredintials]";this.submitConnection="div[eleName\x3dsubmitConnection]";this.changeService="div[eleName\x3dchangeService]";this.selectService="div[eleName\x3dselectService]";this.selectedService="div[eleName\x3dselectedService]";this.serviceList="div[eleName\x3dserviceList]";this.cancelConnection="input[eleName\x3dcancelConnection]";this.connectionSubmit=":input[eleName\x3dconnectionSubmit]";this.submitOtherConnection=":input[eleName\x3dsubmitOtherConnection]";
this.addConnectionForm="#addConnectionForm"}init(a){var b=this;this.mainEl=a.mainEl;this.csrfParamName=a.csrfParamName;this.csrfToken=a.csrfToken;this.sharedByDisp=a.sharedByDisp;this.authSuccessCallback=a.authSuccessCallback;super.init({sharedByDisp:this.sharedByDisp,integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken},function(){b.meta.getAllServiceList({context:"6",grpByCategory:!0},function(a){b.popServiceListing(a)})})}popServiceListing(a){let b=this;a=
b.constructDOM(a,$("#addConnectionTemp").html());$("#paymentGatewayPopup #connectionDiv").empty().append(a);iCustomizePopup({parentClass:"zc-dem-addConnectionSms",title:$("#paymentGatewayPopup").find(".popupHeader").text(),body:$("#paymentGatewayPopup").find(".popupMainCont").html(),afterOpen:function(a){hideLoading();b.mainEl=a;$(a).closest(".zc-dem-dialogue-container").addClass("wb-pop-up");$(a).addClass("wb-pop-up");b.bindEvents();b.connectionSuccessCallBack=function(a){$(b.mainEl).find(".zc-dem-dialogue-close").trigger("click")}},
buttons:[]})}bindEvents(){var a=this;$(a.mainEl).find(a.serviceDashboardDiv).show();$(a.mainEl).find(a.addConDiv).hide();$(a.connectedServices).hide();$(a.mainEl).find(a.anchorDiv+","+a.listDiv).off("click").on("click",function(){var b=$(this).attr("versionLinkName");$(a.mainEl).find(a.addConDiv).clearError();$(a.mainEl).find(a.addConnectionForm).hide();b={meta:a.meta,authSuccessCallback:a.authSuccessCallback,successCallback:a.connectionSuccessCallBack,csrfParamName:a.csrfParamName,csrfToken:a.csrfToken,
serviceVersionLinkName:b,integContext:IntegrationContext.BUILDER,popupContext:ConnectionPopupContext.PAYMENT_WORKFLOW};ZCNewConnection.getInstance().init(b)});$(a.mainEl).find(a.serviceDashboardDiv).find(".header").hide();$(a.mainEl).find(a.addConDiv).find(".header").hide();$(a.mainEl).find(a.backToCategoryPage).hide()}stopEventPropagation(a){void 0!=$.browser&&$.browser.msie?window.event.cancelBubble=!0:a.stopPropagation()}}ZCPaymentContext.getInstance=function(){return new ZCPaymentContext};function ZCNavigator(a){this.init=function(){this.bindEvents();this.initKeyboardShortcuts()};this.bindEvents=function(){var a=this;$("div[elname\x3dcreatenew]").off("click").on("click",function(){variable.moduleName==Modules.BLUEPRINTBUILDER?Blueprint.isUnsavedChangesPresents()?a.openNewComponent():iConfirm({title:i18n["zc.workflowbuilder.unsavedchanges"],message:i18n["zc.workflowbuilder.changeslost"],button:ZCButton.CLOSE,cbutton:ZCButton.CANCEL,success:function(){a.openNewComponent()}}):a.openNewComponent()})};
this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.GLOBAL)}}ZCNavigator.prototype.openNewComponent=function(a,b){var c=appbuilder.component;$.ajax({url:c.APP.getURL()+"/newcomponent",type:"GET",beforeSend:function(){showLoading()},success:function(d,e,f){hideLoading();$("#new-component-popup").html(d);(new NewComponent(c,b)).init();void 0!=a&&a()}})};
function showNewUi(){if(!ZCGlobal.newIntegrationServiceEnabled)return!1;$(".zc-dem-integration-maincontainer").removeClass("hide");$("#back-button").removeClass("zc-hide");$("#create-new-comp").find("h3").removeClass("hide");$("#create-new-comp").addClass("newui");$(".zc-dem-fullscreen-popup.zc-dem-form-new-ui.active .compact.zc-dem-compnt-container-bg .zc-dem-select-compnt-type").hide()}
function hideNewUi(){if(!ZCGlobal.newIntegrationServiceEnabled)return!1;$("#create-new-comp").removeClass("newui");$(".zc-dem-integration-maincontainer").addClass("hide");$("#back-button").show();$(".zc-dem-fullscreen-popup.zc-dem-form-new-ui.active .compact.zc-dem-compnt-container-bg .zc-dem-select-compnt-type").show()}
function NewComponent(a,b){var c=this;c.config=b;this.init=function(){c.newCompPopup=$("#new-component-popup");$(c.newCompPopup).addClass("zc-dem-create-new-compnt").active();this.bindEvents();this.initKeyboardShortcuts()};this.bindEvents=function(){var a=this;$(a.newCompPopup).find("select").zcDropDown({placeholder:i18n["zc.workflowbuilder.select"]});var b=["report-base-form","tpModuleList-select","wf-base-form","date-workflow-base-form","ap-base-form"],f;for(f in b){var g=b[f],h=document.getElementById(g);
null!=h&&(h.parentElement.querySelector(".select2-input").setAttribute("name","zc-sel2-inp-"+g),h.parentElement.querySelector(".select2-input").setAttribute("autocomplete","new-zc-sel2-inp-"+g),h.parentElement.querySelector(".select2-focusser.select2-offscreen").setAttribute("name","zc-sel2-foc-"+g),h.parentElement.querySelector(".select2-focusser.select2-offscreen").setAttribute("autocomplete","new-zc-sel2-foc-"+g))}$(c.newCompPopup).find(".zc-dem-hide-option.close").off("click").on("click",function(){Shortcut.popContext(!0);
$(c.newCompPopup).deActive();$("#appbuilder-main-head").removeClass("zc-newcomp-hdr")});$(c.newCompPopup).find("#back-button").off("click").on("click",function(){hideComponentCreationTemplate.call(this)});$("#create-new-comp .zc-dem-icon-container").off("click").on("click",function(b){c.initComponent.call({e:b},$(this).attr("type"),a.config)})};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.CREATENEW);var a=$.Event("keydown");a.keyCode=Keys.ENTER.code;a.shiftKey=!0;$("body").trigger(a)}}
NewComponent.prototype.initComponent=function(a,b){var c=this.e,d=appbuilder.component;Shortcut.topContext===KeyContexts.GLOBAL&&Shortcut.topContext===KeyContexts.CREATENEW.home||Shortcut.popContext();$("#create-new-comp").addClass("compact");$("#create-new-comp .zc-dem-icon-container").removeClass("selected");$("#create-new-comp .zc-dem-icon-container[type\x3d"+a+"]").addClass("selected");$("#promotion").hide();var e=$("#create-new-comp .zc-dem-icon-container[type\x3d"+a+"]"),f=e.outerWidth(),g=
e.position().left;e.siblings("span.zc-moving-line").css("transform","translateX("+g+"px)");e.siblings("span.zc-moving-line").css("width",f);1==a?((new NewFormComponent(d)).init(),KeyUtil.init(KeyContexts.CREATENEW.form)):2==a?((new NewReportComponent(d)).init(),KeyUtil.init(KeyContexts.CREATENEW.report)):3==a?(appbuilder.bootConfig.useCompression&&(a=new Requires(Modules.PAGEBUILDER),require(a.get(),a.getPromise(function(){}))),(new NewPageComponent(d)).init(c),KeyUtil.init(KeyContexts.CREATENEW.page)):
4==a&&(appbuilder.bootConfig.useCompression&&(a=new Requires(Modules.DATETIMEPICKER),require(a.get(),a.getPromise(function(){}))),(new NewWorkflowComponent(d,b)).init(),KeyUtil.init(KeyContexts.CREATENEW.workflow));b=$.Event("keydown");b.keyCode=Keys.ENTER.code;b.shiftKey=!0;$("body").trigger(b)};function closeCloudPicDialog(){$("#zc-gadgets_cloudpicker_div").remove()}
function NewFormComponent(a){var b=this;this.isOnboard;this.init=function(){$(".zc-dem-compnt-t-option").hide();$("#form-create-types").show();showNewUi();this.bindEvents();b.isOnboard||this.initKeyboardShortcuts();this.initializeGadget()};this.initializeGadget=function(){window.addEventListener("message",function(a){if(void 0!=a.data&&"CloudPicker"==a.data.type){if(fileListObject=a.data.doc,void 0!=fileListObject){zohodocs=fileListObject.zohodocs;gdrive=fileListObject.gdrive;dropbox=fileListObject.dropbox;
skydrive=fileListObject.skydrive;box=fileListObject.box;var b={};a=3;void 0!=zohodocs&&0<zohodocs.length?(b=zohodocs[0],a=2):void 0!=gdrive&&0<gdrive.length?(b=gdrive[0],a=3):void 0!=dropbox&&0<dropbox.length?(b=dropbox[0],a=4):void 0!=skydrive&&0<skydrive.length?(b=skydrive[0],a=5):void 0!=box&&0<box.length&&(b=box[0],a=6);if(void 0!=b){docId=b.docId;docType=b.docType;docName=b.docName;if(0>docName.indexOf("."))switch(docType){case "document":docName+=".doc";break;case "presentation":docName+=".ppt";
break;case "spreadsheet":docName+=".xlsx";break;case "zohosheet":docName+=".xlsx";break;case "pdf":docName+=".pdf"}docName=decodeURIComponent(docName);docType=unescape(docType);docId=unescape(docId);docName=encodeURIComponent(docName);closeCloudPicDialog();b=$("#importAppForm");b.append('\x3cinput type\x3d"hidden" name\x3d"service" value\x3d"'+{2:"workdrive",3:"gdrive",4:"dropbox",5:"skydrive",6:"box"}[a]+'" /\x3e');b.append('\x3cinput type\x3d"hidden" name\x3d"docName" value\x3d"'+encodeURIComponent(docName)+
'" /\x3e');b.append('\x3cinput type\x3d"hidden" name\x3d"docId" value\x3d"'+docId+'" /\x3e');b.append('\x3cinput type\x3d"hidden" name\x3d"docType" value\x3d"'+docType+'" /\x3e');b.append('\x3cinput type\x3d"hidden" name\x3d"cloud" value\x3d"true" /\x3e');b.submit()}}}else void 0!=a.data&&"closePicker"==a.data&&parent.closeCloudPicDialog()})};this.bindEvents=function(){ZCGlobal.newIntegrationServiceEnabled&&($(".zc-dem-integration-card").off("click").on("click",function(a){void 0!=$(this).attr("id")&&
(a=$("#"+$(this).attr("id")+"-create"),$(".zc-dem-createtype").hide(),$(a).show().parent().addClass("create-active"),$(".zc-dem-create-compnt-name").addClass("active"),$("#form-integration-container").removeClass("active"),$("#back-button").addClass("zc-hide"),$(a).parent().find("a[id\x3dnew-back]").removeClass("zc-hide"),$("#new-form-name").focus(),$("div[hcElemName\x3dform-create]").find("#serviceBack1").off("click").on("click",function(){$(this).parent().find("a[id\x3dnew-back]").addClass("zc-hide");
$(".zc-dem-create-compnt-name").removeClass("active");void 0!=b.isOnboard&&b.isOnboard||$("#back-button").removeClass("zc-hide")}))}),$("#back-button").off("click").on("click",function(){hideNewUi();$(this).addClass("zc-hide");$("#create-new-comp").removeClass("compact");$("#create-new-comp .zc-dem-icon-container").removeClass("selected");$("#form-create-types").show();$("#create-new-comp").find("h3").addClass("hide");$("#back-button").off("click").on("click",function(){hideComponentCreationTemplate.call(this)})}),
$("[elName\x3d'serviceList']").off("click").on("click",function(){showLoading();var c=$("#form-thirdparty-create");$(".zc-dem-createtype").hide();$("#back-button").addClass("zc-hide");$(c).append("\x3cdiv id\x3d'serviceBack1' class\x3d'zc-dem-name-hide'\x3e\x3ca href\x3d'javascript:;' class\x3d'zc-dem-hide-option back'\x3e"+i18n["zc.common.back"]+" \x3cspan class\x3d'zc-dem-back'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e");$(c).append("\x3cdiv class\x3d'zc-dem-integration-services-list-hdr'\x3e\x3ch3 class\x3d'zc-dem-integration-services-list-title'\x3e\x3c/h3\x3e\x3c/div\x3e");
$(c).append("\x3cdiv class\x3d'zc-dem-integration-container zc-dem-integration-services zc-dem-clearfix'\x3e\x3c/div\x3e");$(c).show().parent().removeClass("create-active").addClass("create-active");$(".zc-dem-create-compnt-name").removeClass("active").addClass("active");$("#form-integration-container").removeClass("active");var e=$(this).find(".zc-dem-integration-card-title").attr("versionId");c=$(this).find(".zc-dem-integration-card-title").attr("versionLinkName");c={sharedByDisp:a.scopeName,serviceVersionLinkName:c,
mainEl:$("#form-thirdparty-create").find(".zc-dem-integration-container"),csrfParamName:"zccpn",csrfToken:a.csrfToken,successCallback:function(c){var d=$("#form-thirdparty-create").find("form"),f=new IntegrationForm(a);f.isOnboard=b.isOnboard;f.serviceVersionId=e;f.addThirdpartyForm(d);c.preventDefault();stopEventBubbling(c)},cancelCallback:function(a){Shortcut.popContext();$("#back-button").show();$("#create-new-comp").addClass("compact");$("#create-new-comp .zc-dem-icon-container").removeClass("selected");
$("#form-create-types").show();$("#create-new-comp").find("h3").removeClass("hide");a=$("#form-thirdparty-create");$(a).empty();$(a).show().parent().removeClass("create-active");$(".zc-dem-create-compnt-name").removeClass("active");$("#form-thirdparty-create").find("h3.zc-dem-integration-services-list-title").text(i18n["zc.c6.datasource.selectservice.pagetitle"]);void 0!=b.isOnboard&&b.isOnboard||$("#back-button").removeClass("zc-hide")}};ZCIntegFormContext.getInstance().init(c);b.isOnboard?KeyUtil.init(KeyContexts.ONBOARD.integrationForm):
KeyUtil.init(KeyContexts.CREATENEW.integrationForm);$("#form-thirdparty-create .zc-dem-integration-wrapper").show()}),$("[elName\x3d'moreService']").off("click").on("click",function(){showLoading();$("#back-button").addClass("zc-hide");var c=$("#form-thirdparty-create");$(".zc-dem-createtype").hide();$(c).show().parent().addClass("create-active");$(c).append("\x3cdiv id\x3d'serviceBack1' class\x3d'zc-dem-name-hide'\x3e\x3ca href\x3d'javascript:;' class\x3d'zc-dem-hide-option back'\x3e"+i18n["zc.common.back"]+
" \x3cspan class\x3d'zc-dem-back'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e");$(c).append("\x3cdiv class\x3d'zc-dem-integration-services-list-hdr'\x3e\x3ch3 class\x3d'zc-dem-integration-services-list-title'\x3e"+i18n["zc.c6.datasource.selectservice.pagetitle"]+"\x3c/h3\x3e\x3c/div\x3e");$(c).append("\x3cdiv class\x3d'zc-dem-integration-container zc-dem-integration-services zc-dem-clearfix'\x3e\x3c/div\x3e");$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");
(new IntegrationForm(a)).init(b.isOnboard)}));$("[elName\x3d'formtemplate']").off("click").on("click",function(b){b=$(this);$(b).removeClass("active").addClass("active");$(b).find(".zc-dem-integration-card-button-text").text("Creating");b=$(b).find(".zc-dem-integration-card-title").attr("linkName");(new FormTemplate(a)).addAdanceFormTemplate(b)});$("#form-template").off("click").on("click",function(){showLoading();$("#back-button").addClass("zc-hide");var a=$("#form-template-create");$(".zc-dem-createtype").hide();
$(a).show().parent().addClass("create-active");$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");$(a).prepend("\x3cdiv id\x3d'serviceBack1' class\x3d'zc-dem-name-hide'\x3e\x3ca href\x3d'javascript:;' class\x3d'zc-dem-hide-option back'\x3e"+i18n["zc.common.back"]+" \x3cspan class\x3d'zc-dem-back'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e")});$(".zc-dem-compnt-typ-options .zc-dem-icon-container").unbind("click").bind("click",function(a){a=$("#"+$(this).attr("id")+
"-create");$(".zc-dem-createtype").hide();$(a).show().parent().addClass("create-active");$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");$("#back-button").removeClass("zc-hide");setTimeout(function(){$("#new-form-name").focus()},100)});$("#create-form-trigger").unbind("click").bind("click",function(a){b.create($("#new-form-name"),!1);a.preventDefault();stopEventBubbling(a)});$("#form-template").click(function(){(new FormTemplate(a)).init(b.isOnboard);
$("#form-template-search").focus()});$("body").click(function(){$("#import-menu").hide()});$("#form-thirdparty").off("click.integrationFormInit").on("click.integrationFormInit",function(){$("#form-thirdparty-create .zc-dem-integration-wrapper").show();$("#connectionPopup").css("display","none");(new IntegrationForm(a)).init(b.isOnboard)});if(variable.sheet2AppNewClient){var c=function(){$(".zc-dem-name-hide").removeClass("hide")};$(window).off("message.sheetApp").on("message.sheetApp",function(b){b=
b.originalEvent;b.origin==variable.sheetappdomain&&"sheetapp"==b.data.service&&("success"==b.data.status?(showLoading(),"undefined"!=typeof a.isSchemaBuilder&&a.isSchemaBuilder?history.go():window.location.href=appbuilder.component.APP.getURL()+"/form/"+b.data.formLinkName+"/edit"):"failure"==b.data.status?c():"upload"==b.data.status?"loading"==b.data.action?showLoading():"removeloading"==b.data.action?hideLoading():"freeze"==b.data.action?loadingFreeze():"unfreeze"==b.data.action&&hideLoadingFreeze():
"preview"==b.data.status&&("closeHeader"==b.data.action?$(".zc-dem-name-hide").addClass("hide"):"showHeader"==b.data.action&&c()))})}else $("#form-import-create").off("click").on("click",function(a){var b=$("#importAppForm"),c=$(b).offset(),d=c.top;c=c.left;var h=$(b).width();b=$(b).height();positionMenu(a.clientX,a.clientY,d,c,h,b);a.preventDefault();stopEventBubbling(a)}),$("#form-import-create").find('li[elname\x3d"inputFile"]').off("click").on("click",function(a){$("#import-menu").hide();stopEventBubbling(a)}).find("input").change(function(){var a=
$(".custom_file_original")[0].files[0];if(void 0!=a){if(10.24<a.size/1048576)return iAlert(i18n["zc.importapp.filesizemsg"]),!1;a=a.name;a=a.substring(a.lastIndexOf(".")+1,a.length);if("xlsx"!=a&&"xls"!=a&&"tsv"!=a&&"csv"!=a&&"ods"!=a&&"mdb"!=a&&"accdb"!=a)return iAlert(i18n["zc.formedit.import2msg"]),!1;$("#importAppForm").submit()}}),$("#form-import-create").find('li[elname\x3d"cloud"]').click(function(a){var b=$('\x3cdiv id\x3d"zc-gadgets_cloudpicker_div"\x3e\x3c/div\x3e');b.addClass("gadgets_cloudpicker_div");
b.append("\x3ciframe class\x3d'gadgets_cloudpicker_iframe' style\x3d'' id\x3d'zc-file_attach_iframe' src\x3d'"+variable.cloudPickerURL+"'\x3e");$("body").append(b);$("#import-menu").hide();stopEventBubbling(a)}),$("#form-import-create").on("dragover",function(a){a.preventDefault();a.stopPropagation()}),$("#form-import-create").on("dragenter",function(a){a.preventDefault();a.stopPropagation()}),$("#form-import-create").on("drop",function(a){a.preventDefault();a.stopPropagation();var b=a.originalEvent.dataTransfer.files[0];
if(void 0!=b){if(10.24<b.size/1048576)return iAlert(i18n["zc.importapp.filesizemsg"]),!1;b=b.name;b=b.substring(b.lastIndexOf(".")+1,b.length);if("xlsx"!=b&&"xls"!=b&&"tsv"!=b&&"csv"!=b&&"ods"!=b&&"mdb"!=b&&"accdb"!=b)return iAlert(i18n["zc.formedit.import2msg"]),!1;$(".zc-dem-form-import-input")[0].files=a.originalEvent.dataTransfer.files;$("#importAppForm").submit()}})};this.create=function(c,d){var e=c.val();if(0>=e.trim().length)return $(c).showError(i18n["zc.formedit.formnameinvalid"]),!1;if(e.length>
Constants.maxLength.FORM_DISPNAME)return $(c).showError(i18n["zc.formedit.create.formnamemaxlen"]),!1;$("#create-form-trigger").attr("disabled","disabled");c={};c.formDisplayName=e;c.pageLinkName="";c.pageName=e;c[a.csrfParam]=a.csrfToken;$.ajax({url:a.APP.getURL()+"/form/add",type:"POST",data:c,beforeSend:function(){var a=$("#create-form-trigger");d&&(a=$("#zc-create-from-from-tmp"));$(a).showTextLoading(i18n["zc.onboarding.creating"]);$(a).attr("disabled","disabled")},success:function(c,g,h){-1!=
c.lastIndexOf("error:")?($("#create-form-trigger").hideTextLoading(i18n["zc.formedit.form.createform"]),g=$("#create-form-trigger"),d&&(g=$("#zc-create-from-from-tmp")),$(g).removeAttr("disabled"),iAlert(c.substring(c.lastIndexOf(":")+1))):(AccordionMenu.updateStaticName(e),c=c.substring(c.indexOf("formbuilder/")+12),c=c.substr(0,c.indexOf("/")),g={type:1},g.compName=c,g.isThirdPartyModule="false",b.isOnboard?((new ZCAppearance(appbuilder.component)).bindEvents(),WebAppearance.showBuilder(a,g,!0),
$("#zc-dem-preview-types li.select").trigger("click"),appbuilder.header=new ZCHeader(appbuilder.component),appbuilder.navigator=new ZCNavigator(appbuilder.component),appbuilder.header.softInit(),appbuilder.navigator.init(),$("body").off("click").removeClass("zc-dem-app-ft"),$("#appbuilder-popup").removeClass("zc-dem-create-new-compnt"),$("#builderheader a").off("click"),appbuilder.component.isOnBoard=b.isOnboard):(WebAppearance.showBuilder(a,g,!0),WebAppearance.clearFrame(),"undefined"!=typeof a.isSchemaBuilder&&
a.isSchemaBuilder&&$("#appbuilder-popup").removeClass("zc-dem-create-new-compnt")))}})};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.CREATENEW)}}
function NewReportComponent(a){var b=this;b.isThirdParty=void 0;this.init=function(){hideNewUi();$(".zc-dem-compnt-t-option").hide();$("#report-create-types").show();this.bindEvents()};this.bindEvents=function(){$(".zc-dem-compnt-typ-options .zc-dem-icon-container").unbind("click").bind("click",function(a){a=$(this).attr("type");$(this).siblings().removeClass("selected");$(this).addClass("selected");$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");
$(".zc-dem-report-compnt-type").addClass("create-active");$(".zc-dem-viewtypes").hide();$(".zc-dem-createtype").hide();$("div[elName\x3dreportBasedOnViewCont] , #report-calendar-conf, #report-kanban-conf , #report-maps-conf").hide();var c=$(this).attr("formTitle");$('[elname\x3d"createreportheader"]').text(i18n["zc.createreport.create"+c]);c=i18n["zc.reportedit.create."+c+"nameplaceholder"];$("#new-report-name").attr("placeholder",c);$("#report-data-view-create").clearError();$("#report-data-view-create").show();
setTimeout(function(){$("#report-base-form").data("zcdd").focus()},100);$("#report-base-form \x3e option[isthirdparty\x3dtrue]").addClass("hide");a==Constants.VIEW_LIST?$("#report-base-form \x3e option[isthirdparty\x3dtrue]").removeClass("hide"):"true"==b.isThirdParty&&$("#report-base-form").data("zcdd").setValue("");$("#back-button").removeClass("zc-hide");a==Constants.VIEW_KANBAN?b.getKanbanViewProperties(a):a==Constants.VIEW_CALENDAR||a==Constants.VIEW_TIMELINE?b.getCalendarReportProperties(a):
a==Constants.VIEW_MAPS&&b.getMapsViewProperties()});$("form[name\x3d'addReport']").unbind("submit").bind("submit",function(){"true"==b.isThirdParty?b.addThirdPartyReport():b.create();return!1});$("input[name\x3d'pivot-report-selection']").change(function(){"pivot-basedon"==this.value?$("#basedOnViewContainer").show():$("#basedOnViewContainer").hide()});$("#report-base-form").data("zcdd").change(function(){var a=$("#report-create-types").find(".selected").attr("type");b.isThirdParty=$("#report-base-form option:selected").attr("isThirdParty");
a==Constants.VIEW_KANBAN?b.getKanbanViewProperties(a):a==Constants.VIEW_PIVOT_TABLE||a==Constants.VIEW_PIVOT_CHART?b.getPivotViewProperties(a):a==Constants.VIEW_CALENDAR||a==Constants.VIEW_TIMELINE?b.getCalendarReportProperties(a):a==Constants.VIEW_MAPS&&b.getMapsViewProperties()})};this.getPivotViewProperties=function(c){c={};c.formLinkName=$("#report-base-form").val();""!=c.formLinkName&&$.ajax({beforeSend:function(){this.url=a.APP.getURL()+"/report"+this.url;this.data=this.data+"\x26"+variable.csrfParam+
"\x3d"+variable.csrfToken},url:"/getReports",type:"POST",data:c,success:function(a,c,f){$("div[elName\x3dreportBasedOnViewCont]").html(a);$("div[elName\x3dreportBasedOnViewCont]").show();$("div[elName\x3dreportBasedOnViewCont]").find("select").zcDropDown({placeholder:"-Select-"});b.bindEvents()}})};this.getCalendarReportProperties=function(b){var c={};c.formLinkName=$("#report-base-form").val();c[a.csrfParam]=a.csrfToken;""!=c.formLinkName&&(b==Constants.VIEW_CALENDAR||b==Constants.VIEW_TIMELINE?
$.ajax({url:a.APP.getURL()+"/report/getCalendarReportProperties",type:"POST",data:c,success:function(a,b,c){$("#report-calendar-conf").html(a);$("#report-calendar-conf").find("select").zcDropDown();$("#report-calendar-conf").show()}}):$("#report-calendar-conf").html(""))};this.getKanbanViewProperties=function(b){var c={};c.formLinkName=$("#report-base-form").val();c[a.csrfParam]=a.csrfToken;""!=c.formLinkName&&(16==b?$.ajax({url:a.APP.getURL()+"/report/getKanbanViewProperties",type:"POST",data:c,
beforeSend:function(){showLoading()},success:function(a,b,c){hideLoading();$("#report-kanban-conf").html(a);$("#report-kanban-conf").find("select").zcDropDown();$("#report-kanban-conf").show()}}):$("#report-kanban-conf").html(""))};this.getMapsViewProperties=function(){var b={};b.formLinkName=$("#report-base-form").val();b[a.csrfParam]=a.csrfToken;""!=b.formLinkName&&$.ajax({url:a.APP.getURL()+"/report/getMapsViewProperties",type:"POST",data:b,beforeSend:function(){showLoading()},success:function(a,
b,c){hideLoading();$("#report-maps-conf").html(a);$("#report-maps-conf").find("select").zcDropDown();$("#report-maps-conf").show()}})};this.create=function(){var b=$("#new-report-name"),d=$(b).val(),e=$("#report-base-form"),f=$(e).val(),g=$("#report-create-types").find(".selected").attr("type"),h=!0;0==d.length?($(b).showError(i18n["zc.createreport.emptyrepname"]),h=!1):50<d.length&&($(b).showError(i18n["zc.createreport.repnamemaxlengthinfo"]),h=!1);""==f&&($(e).showError(i18n["zc.createreport.emptybasefrm"]),
h=!1);var k={};k.viewDisplayName=d;k.viewType=g;k.formLinkName=f;k.pageID=$("#report-base-form option:selected").attr("pageId");k.sectionID=$("#report-base-form option:selected").attr("sectionId");k.update=!1;k[a.csrfParam]=a.csrfToken;if(g==Constants.VIEW_CALENDAR||g==Constants.VIEW_TIMELINE){f=$("#report-data-view-create").find("select[name\x3dcalStartDate]");var l=$("#report-data-view-create").find("select[name\x3dcalStartDate]").val();$("#report-data-view-create").find("select[name\x3dcalEndDate]");
var m=$("#report-data-view-create").find("select[name\x3dcalEndDate]").val(),n=$("#report-data-view-create").find("select[name\x3dcalDisplayfield]"),q=$("#report-data-view-create").find("select[name\x3dcalDisplayfield]").val();""==l&&($(f).showError(i18n["zc.createreport.startdatempty"]),h=!1);""==q&&($(n).showError(i18n["zc.createreport.dispfieldempty"]),h=!1);k.calStartDate=l;k.calEndDate=m;k.calDisplayfield=q}g!=Constants.VIEW_PIVOT_TABLE&&g!=Constants.VIEW_PIVOT_CHART||"pivot-basedon"!=$("input[name\x3d'pivot-report-selection']:checked").val()||
(f=$("select[elname\x3dreportBasedOn]").val(),""==f||"1"==f?($("select[name\x3dreportLinkName]").showError(i18n["zc.createreport.basedonview"]),h=!1):k.reportLinkName=f);g==Constants.VIEW_KANBAN&&(f=$("select[name\x3dgroupingCol]").val(),""==f?($("select[name\x3dgroupingCol]").showError(i18n["zc.createreport.groupingcolempty"]),h=!1):k.groupingField=f);g==Constants.VIEW_MAPS&&(f=$("select[name\x3dmappingField] option:selected").val(),""==f&&($("select[name\x3dmappingField]").showError(i18n["zc.createreport.mappingfieldempty"]),
h=!1),k.locationType=Constants.CURRENTLOCATION,k.mappingField=f);h&&$.ajax({url:a.APP.getURL()+"/report/add",type:"POST",data:k,beforeSend:function(){$("#create-report-trigger").showTextLoading(i18n["zc.onboarding.creating"]);$("#create-report-trigger").attr("disabled","disabled")},success:function(c,f,h){f=!0;try{c=$.parseJSON(c)}catch(J){f=!1}f?""!=c.value&&"noFields"==c.value?($(e).showError(i18n["zc.createreport.emptypivotfields"]),$("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]),
$("#create-report-trigger").removeAttr("disabled")):""!=c.value&&"duplicateReport"==c.value&&(c=c.reportName,$(b).showError(i18n["zc.reportedit.create.error.duplnamemsg"].replace("[0]",c)),$("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]),$("#create-report-trigger").removeAttr("disabled")):-1!=c.lastIndexOf("error:")?($("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]),$("#create-report-trigger").removeAttr("disabled")):-1!==c.indexOf("PIVOT_REPORT_ERROR")?
($("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]),$("#create-report-trigger").removeAttr("disabled"),iAlert(g==Constants.VIEW_PIVOT_CHART?i18n["zc.report.createfirstpivotchart.contactadmin"]:i18n["zc.report.createfirstpivottable.contactadmin"],function(){hideComponentCreationTemplate()})):""!==c&&-1!==c.indexOf("-ZCSUCCESSMSG")?(c=c.substring(0,c.indexOf("-ZCSUCCESSMSG")),a.updateComponent(Constants.REPORT,c),AccordionMenu.updateStaticName(d),AccordionMenu.reinit(a),
(new ZCAppearance(a)).bindEvents(),$("#zc-dem-preview-types li.select").trigger("click"),$(document).one("ajaxStop",function(){$(".zc-dem-close").click();var b=$("#appbuilder-popup");$(b).hasClass("active")&&($(".zc-dem-left-navigation").show(),$(".zc-dem-left-menu-container").attr("style","width: calc(100% - 68px)"),$("#appbuilder-popup").deActive(),$("#appbuilder-main-head").addClass("zc-compappearance-hdr").removeClass("zc-compbuilder-hdr"));switch(parseInt(a.deviceType)){case 1:WebAppearance.reloadFrame(a);
break;case 2:case 3:b={},b.type=a.componentType,b.compName=a.compLinkName,"formbuilder"==variable.moduleName||"reportbuilder"==variable.moduleName?MobileAppearance.reloadFrame(a,b,!1):MobileAppearance.reloadFrame(a,b,!0),$(".zc-dem-customize-fixed a").show()}})):(AccordionMenu.updateStaticName(d),$("#appbuilder-popup").html(c),$("#appbuilder-main-nav").hide(),$("div[elname\x3dcreatenew]").hide(),$("#new-component-popup").deActive(),$("#appIcon").hide(),$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em"),
appbuilder.bootConfig.useCompression?(c=new Requires(Modules.REPORTBUILDER),require(c.get(),c.getPromise(function(){ZCReportEditor.setReportIcon()}))):ZCReportEditor.setReportIcon(),$("#appbuilder-popup").addClass("pivot-report-header"),$("#appbuilder-popup").addClass("zc-dem-compnt-builder").active(),$("#appbuilder-main-head").addClass("zc-dem-report-header zc-compbuilder-hdr zc-dem-form-header").removeClass("zc-compappearance-hdr").removeClass("zc-newcomp-hdr"),$(".zc-dem-top-links").css("visibility",
"hidden"),showLoading(),$("#appbuilder-header #builder-close").off("click").on("click",function(){if(appbuilder.bootConfig.useCompression){var a=new Requires(Modules.REPORTBUILDER);require(a.get(),a.getPromise(function(){ZCReportEditor.getXMLConfigDetails()}))}else ZCReportEditor.getXMLConfigDetails()}))}})};this.addThirdPartyReport=function(){var b=$("#new-report-name"),d=$(b).val(),e=!0;""==d?($(b).showError(i18n["zc.createreport.emptyrepname"]),e=!1):50<d.length&&($(b).showError(i18n["zc.createreport.repnamemaxlengthinfo"]),
e=!1);b=$("#report-base-form option:selected").val();this.data="zccpn\x3d"+a.csrfToken+"\x26formLinkName\x3d"+b+"\x26viewDisplayName\x3d"+d;e&&$.ajax({beforeSend:function(){$("#create-report-trigger").showTextLoading(i18n["zc.onboarding.creating"])},url:a.APP.getURL()+"/report/addThirdparty",type:"POST",data:this.data,success:function(b,c,d){""!==b&&-1!==b.indexOf("-ZCSUCCESSMSG")?(b=b.substring(0,b.indexOf("-ZCSUCCESSMSG")),b=a.APP.getURL()+"/report/"+b+"/edit",window.location.href=b):($("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]),
iAlert(i18n["zc.integration.report.creationerror"]))},error:function(){$("#create-report-trigger").hideTextLoading(i18n["zc.reportedit.createreport"]);iAlert(i18n["zc.integration.report.creationerror"])}})}}
function NewPageComponent(a){var b=this;this.init=function(){hideNewUi();$(".zc-dem-compnt-t-option").hide();$("#page-create-types").show();this.bindEvents()};this.bindEvents=function(){$(".zc-dem-compnt-typ-options .zc-dem-icon-container").unbind().bind("click",function(a){a=$("#"+$(this).attr("id")+"-create");a.addClass("active");$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");$(".zc-dem-createtype").hide();a.show().parent().addClass("create-active");
$("#back-button").removeClass("zc-hide");setTimeout(function(){$("#new-page-name").focus()},100)});$("#create-page-trigger").unbind("click").bind("click",function(a){b.create();a.preventDefault();stopEventBubbling(a)});$("#page-template").click(function(){(new PageTemplate(a)).init();$("#form-template-search").focus()})};this.create=function(){var b=$("#new-page-name"),d=$(b).val();if(0==d.trim().length)return $(b).showError(i18n["zc.createpage.emptypagename"]),!1;if(!(new XRegExp("^[\\p{L}\\p{M}\\p{N}-_\r\t\f *@/\\!.:|~\x26]+$")).test(d.trim()))return $(b).showError(i18("zc.page.builder.title.specialcharacters.errormsg",
"-  _  * @  /  ! . : | ~ \x26")),!1;if(50<d.length)return $(b).showError(i18n["zc.createpage.pagenamemaxlengthinfo"]),!1;b={};b.viewName=d;b.pageLinkName="";b.pageName=d;b[a.csrfParam]=a.csrfToken;$.ajax({url:a.APP.getURL()+"/page/add",type:"POST",data:b,beforeSend:function(){$("#create-page-trigger").showTextLoading(i18n["zc.onboarding.creating"]);$("#create-page-trigger").attr("disabled","disabled")},success:function(b,c,g){if("error"===b)return $("#create-page-trigger").hideTextLoading(i18n["zc.onboarding.createpage"]),
$("#create-page-trigger").removeAttr("disabled"),iAlert(i18n["zcpage.toolbar.pagecreation.errormsg"]),!1;b=b.substring(b.indexOf("pagebuilder/")+12);b=b.substr(0,b.indexOf("/"));c={type:3};c.compName=b;WebAppearance.showBuilder(a,c,!0);WebAppearance.clearFrame();AccordionMenu.updateStaticName(d)}})}}
function NewWorkflowComponent(a,b){var c=this;c.filters=b;this.init=function(){hideNewUi();$(".zc-dem-compnt-t-option").hide();$("#workflow-create-types").show();$("#promotion").show();c.isWorkflowV2Enabled="true"==$("#isWorkflowV2Enabled").val()?!0:!1;this.bindEvents();this.setupDefaultFilters()};this.setupDefaultFilters=function(){c.filters&&!$.isEmptyObject(c.filters)&&"Blueprint"==c.filters.wfState&&c.filters.formName&&$("#blueprint-workflow-create").find("select[name\x3dbp-form]").val(c.filters.formName).trigger("change")};
this.bindEvents=function(){$(".zc-dem-compnt-typ-options .zc-dem-icon-container").off("click").on("click",function(b){if("payment-workflow"!=$(this).attr("id")||ZCUser.getPlanDetails().isC5PaymentEnabled()){$(".zc-dem-create-compnt-name").addClass("active");$("#form-integration-container").removeClass("active");$(".zc-dem-createtype").hide();var d=$(this).attr("id");$("#"+d+"-create").show().parent().addClass("create-active");$("#back-button").removeClass("zc-hide");setTimeout(function(){if("date-workflow"!=
d)$("#"+d+"-create").find(".zc-dem-fs-form-group:first :input:first").focus();else{var a=$("#"+d+"-create").find(".zc-wb-type-tab.selected").attr("id");$("#"+d+"-create").find("#"+a+"-create").find(".zc-dem-fs-form-group:first :input:first").focus()}},300);c.filters&&c.filters.wfState==WorkflowConstants.FORM_WF&&c.isWorkflowV2Enabled&&(b=c.filters.formName)&&$("#form-workflow-create").find("#wf-base-form").data("zcdd").setValue(b).trigger("change")}else $.upgrade.create({zcFeatureName:"PAYMENT_GATEWAY",
featureType:"ZC_FEATURE",zccpn:a.csrfToken,sharedBy:a.scopeName})});var b={};$("#form-workflow-create").find("#wf-base-form").off("change").on("change",function(){var d=$(this),f=$("#wf-base-form option:selected").attr("type"),g=function(){$("#form-workflow-create").find("div[elename\x3dwf-event-type]").hide();if(c.isWorkflowV2Enabled)if(c.resetDData($("#creeate-wf-form").find("input[name]")),$("#form-workflow-create").find("input[name\x3deventType]:checked, input[name\x3dstatelessEventType]:checked").prop("checked",
!1),$("#new-workflow-name").val(""),"stateless"==f)c.constructTriggerEvents($(d).val(),"stateless",void 0);else{$("#form-workflow-create").find("div[id\x3dwf-form-"+f+"]").show();var a=c.filters?c.filters.eventType:void 0;a&&""!=a&&(a=$("#form-workflow-create").find("input[name\x3deventType][value\x3d"+a+"]"),$(a).prop("checked",!0).trigger("change"))}else $("#form-workflow-create").find("div[id\x3dwf-form-"+f+"]").show(),"stateless"==f?$("#form-workflow-create").find("input[name\x3dstatelessEventType]:checked").trigger("change"):
$("#form-workflow-create").find("input[name\x3deventType]:checked").trigger("change")},h=$(this).val();c.isWorkflowV2Enabled&&void 0==b[h]?$.ajax({url:a.APP.getURL()+"/workflowbuilder/edit/getEventsFields",beforeSend:showLoading(),type:"POST",data:"zccpn\x3d"+a.csrfToken+"\x26formlinkname\x3d"+h,success:function(a,c,d){c={};var e=[],f=[],k=[];$.each(a,function(a,b){if("subform"==b.type){k.push({id:b.linkName,text:b.dispName,value:b.linkName,title:b.linkName});var c=[];$.each(b.subformfields,function(a,
d){c.push({id:b.linkName+"."+d.linkName,text:d.dispName,value:b.linkName+"."+d.linkName,title:b.linkName+"."+d.linkName})});0<c.length&&e.push({text:b.dispName,children:c})}else"default"==b.type&&(a={id:b.linkName,text:b.dispName,value:b.linkName,title:b.linkName},b.fctype!=Constants.RICH_TEXT_AREA&&(e.push(a),f.push(a)))});c.onuserinput=e;c.onupdate=f;c.onaddrow=k;c.ondeleterow=k;b[h]=c;g();hideLoading()}}):g()});$("#form-workflow-create").find("input[name\x3deventType], input[name\x3dstatelessEventType]").unbind().bind("change",
function(){$("#wf-form-normal").find("input[name\x3deventType]").parent().removeClass("zc-dem-radio-error");var a=$(this).val(),b=$("#wf-base-form").val(),d=$("#wf-base-form option:selected").attr("type");c.isWorkflowV2Enabled?c.constructTriggerEvents(b,d,a):$(this).val()==Constants.STATELESS_BUTTON?($("#wf-form-normal").hide(),$("#wf-form-stateless-buttons").show(),$("#wf-form-stateless-buttons").find("select[name\x3dbuttonId]").addClass("zc-hide"),$("#wf-form-stateless-buttons").find("select[id\x3dwf-form-stateless-buttons-"+
$("#wf-base-form").val()+"]").removeClass("zc-hide")):$("#wf-form-stateless-buttons").hide()});this.resetDData=function(a){$(a).each(function(){$(this).data("zcdd")&&$(this).data("zcdd").clear().trigger("change")})};this.constructTriggerEvents=function(a,d,g){a=b[a];if(void 0==a||null==a)$("#form-workflow-create").find("#wf-base-form").trigger("change");else{var e=[],f=[],l=[];"stateless"==d?(e.push({id:"automation",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.fieldrules"],type:1}),
e.push({id:"onload",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.loadform"],type:2}),e.push({id:"onuserinput",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.userinputoffield"],type:5}),e.push({id:"onclick",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.clickofbutton"],type:51})):"normal"==d&&(d=[],g==Constants.CREATED||g==Constants.EDITED||g==Constants.CREATED_EDITED?(f.push({id:"automation",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.fieldrules"],
type:1}),f.push({id:"onload",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.loadform"],type:2}),f.push({id:"onuserinput",text:i18n["zc.workflow.builder.createworkflow.triggerworflow.userinputoffield"],type:5}),0<a.onaddrow.length&&(f.push({id:"onaddrow",text:i18n["zc.workflow.builder.createworkflow.additionofarow"],type:7}),f.push({id:"ondeleterow",text:i18n["zc.workflow.builder.createworkflow.deletionofarow"],type:8})),l.push({id:"onvalidate",text:i18n["zc.workflow.builder.createworkflow.triggerrecord.onformsubmission.validationsonsubmission"],
type:3}),d.push({id:"onsuccess",text:i18n["zc.workflow.builder.createworkflow.dashboard.eventsubtype.onsuccesst"],type:4}),g==Constants.EDITED&&d.push({id:"onupdate",text:i18n["zc.workflow.builder.createworkflow.triggerworkflow.onupdateoffield"],type:6}),0<f.length?e.push({text:i18n["zc.workflow.builder.createworkflow.triggerrecord.beforeformsubmission"],children:f}):"",0<l.length?e.push({text:i18n["zc.workflow.builder.createworkflow.triggerrecord.onformsubmission"],children:l}):"",0<d.length?e.push({text:i18n["zc.workflow.builder.createworkflow.triggerrecord.afterformsubmission"],
children:d}):""):g==Constants.DELETED&&(e.push({id:"onvalidate",text:i18n["zc.workflow.builder.createworkflow.triggerrecord.validationondeletion"],type:3}),e.push({id:"onsuccess",text:i18n["zc.workflow.builder.createworkflow.triggerrecord.successfuldeletion"],type:4})));var m=$("#form-workflow-create").find("#wf-trigger-events"),n=$(m).data("zcdd").getValue();n=""!=n&&void 0!=n?n:c.filters?c.filters.subEventType:void 0;var q=!1;$.each(e,function(a,b){b.hasOwnProperty("children")?$.each(b.children,
function(a,b){b.id==n&&(q=!0)}):b.id==n&&(q=!0)});$(m).data("zcdd").destroy();g={placeholder:i18n["zc.workflowbuilder.select"],data:e,showSearch:!1};$(m).zcDropDown(g);$(m).data("zcdd").change(function(a){$("div[elename\x3dfieldChoices]").hide();$("#wf-form-stateless-buttons").hide();var c=$(m).data("zcdd").getData();if(null!=c){a=c.id;c=c.type;var d=$("div[elename\x3dfieldChoices]").find("input[name\x3dfieldLinkName]");if(c==Constants.ONUSERINPUT||c==Constants.ONUPDATE||c==Constants.ONADDROW||c==
Constants.ONDELETEROW){c=$("#wf-base-form").val();var e=b[c];c=[];void 0!=e&&(c=e[a]);var f=$(d).data("zcdd").getValue(),g=!1;$.each(c,function(a,b){b.hasOwnProperty("children")?$.each(b.children,function(a,b){b.id==f&&(g=!0)}):b.id==f&&(g=!0)});$(d).data("zcdd").destroy();$(d).zcDropDown({showTitle:!0,placeholder:i18n["zc.workflowbuilder.select"],data:c});$("div[elename\x3dfieldChoices]").show();$(d).data("zcdd").setValue(g?f:" ").trigger("change")}else 51==c&&(c=$("#wf-base-form").val(),$("#wf-form-stateless-buttons").show(),
$("#wf-form-stateless-buttons").find("select[name\x3dbuttonId]").addClass("zc-hide"),$("#wf-form-stateless-buttons").find("select[id\x3dwf-form-stateless-buttons-"+c+"]").removeClass("zc-hide"))}});$(m).data("zcdd").onHighlight(function(a){var b=$("body:first").find("div.zc-workflow-create-tooltip");0==b.length&&(b=$('\x3cdiv class\x3d"zc-workflow-create-tooltip" style\x3d"display: none; z-index:10000"\x3e').appendTo($("body:first")));0==$(b).find(".zc-wf-trigger-info").length&&$(b).append($("#wf-trigger-content").children().clone());
var c=$(m).data("zcdd").getContainer().offset().left+$(b).outerWidth(!0)+10;setTimeout(function(){var a=$("body:first").find(".select2-highlighted").offset(),d=a.top,e=$(document).height()-30,f=e-d,g=$(b).height();f<g&&(d=e-g);$(b).css({top:d-60,left:c,bottom:"auto",right:"auto",position:"fixed"});$(b).find(".zc-wf-trigger-info-arrow").css({top:a.top+5,left:c-9,bottom:"auto",right:"auto",position:"fixed"})},10);$(b).find(".zc-wf-trigger-info-inner").hide();$(b).find("div[type\x3d"+a.choice.id+"]").show();
$(b).find("div[type\x3d"+a.choice.id+"]").children().show();$(b).find("div[type\x3d"+a.choice.id+"]").find("field").attr("class","zc-wf-trigger-criteria");$(b).find("div[type\x3d"+a.choice.id+"]").find("task").attr("class","zc-wf-trigger-action");var d=$("#form-workflow-create").find("input[name\x3deventType]:checked").val();parseInt(d)!=Constants.DELETED?$(b).find("div[type\x3d"+a.choice.id+"]").find("div[subType\x3d'deleted']").hide():$(b).find("div[type\x3d"+a.choice.id+"]").find("div[subType\x3d'created']").hide();
$(b).show();a.stopPropagation()},"customToolTip");$(m).data("zcdd").afterClose(function(){$("body:first").find("div.zc-workflow-create-tooltip").hide()});$(m).data("zcdd").setValue(q?n:" ").trigger("change");$(m).parent().parent().show()}};$("#form-workflow-create").find("#wf-trigger-events").zcDropDown({placeholder:i18n["zc.workflowbuilder.select"],data:[],showSearch:!1});$("#form-workflow-create").find("#wf-trigger-fields").zcDropDown({placeholder:i18n["zc.workflowbuilder.select"],data:[],showSearch:!1});
2==$("#wf-base-form option").length&&$("#wf-base-form option[value\x3d'-Select-']").remove();$("#date-workflow-create").find("input[name\x3dscheduleCriteria]").unbind("click").bind("click",function(){var a=$("#date-workflow-create").find("div[elename\x3dscheduleCriteria_]");"onCriteria"==$(this).val()?c.loadCriteriaBuilder($("#date-workflow-base-form").val(),a,"schedule"):$(a).smoothHide(300,function(){$(a).addClass("hide")})});$("#date-workflow-create").find(".zc-wb-type-tab").unbind("click").bind("click",
function(){$(".zc-wb-type-tab").removeClass("selected");$(this).addClass("selected");$(".zc-wb-form-cont").hide();$("#"+$(this).attr("id")+"-create").show();$("#"+$(this).attr("id")+"-create").find(".zc-dem-fs-form-group:first :input:first").focus();"wf-event-form"==$(this).attr("id")&&$("#formschedule").zcScrollPane()});$("#date-workflow-create").find("input[name\x3deventDate], input[name\x3dendDate]").each(function(){var a=$(this);$(a).dtPicker({format:variable.dateformat.toUpperCase().replace("E",
"ddd"),initParent:!0,showIcon:!0,onHideCallback:function(){$(a).trigger("change.clearError")},iconClass:"wb-timeicon zc-em zc-common-calendar"})});$("#date-workflow-create").find("input[name\x3deventTime]").each(function(){var a=$(this);$(a).dtPicker({format:"HH:mm:ss",initParent:!0,showIcon:!0,onHideCallback:function(){$(a).trigger("change.clearError")},iconClass:"wb-timeicon zc-em zc-common-time"})});$("#date-workflow-create").find("select[name\x3dformName]").unbind("change").bind("change",function(){var b=
$(this).val();$.ajax({url:a.APP.getURL()+"/workflowbuilder/edit/getDateFieldsInForm",type:"POST",data:"zccpn\x3d"+a.csrfToken+"\x26formlinkname\x3d"+b+"\x26sb_tracking\x3dfalse",success:function(a,b,c){var d=$("#date-workflow-create").find("select[name\x3ddateField]").data("zcdd").reset(),e=$("#date-workflow-create").find("select[name\x3dendDateField]").data("zcdd").reset();$.each(a,function(a,b){d.append($("\x3coption\x3e",{value:b.linkname,text:b.dispname,type:b.type,title:b.linkname}));e.append($("\x3coption\x3e",
{value:b.linkname,text:b.dispname,type:b.type,title:b.linkname}))});$(d).data("zcdd").setValue("");$(e).data("zcdd").setValue("");$(d).data("zcdd").destroy().zcDropDown({showTitle:!0});$(e).data("zcdd").destroy().zcDropDown({showTitle:!0})}});"onCriteria"==$("#date-workflow-create").find("input[name\x3dscheduleCriteria]:checked").val()&&c.loadCriteriaBuilder($(this).val(),$("#date-workflow-create").find("div[elename\x3dscheduleCriteria_]"),"schedule")});$("#date-workflow-create").find("select[name\x3ddateField]").unbind("change").bind("change",
function(){$("[elename\x3d'delayEle']").clearError();var b=$("#wf-event-form-create").find("select[name\x3ddateField] option:selected").attr("type"),c=$("#wf-event-form-create").find("select[name\x3ddueDelayUnit]").data("zcdd").reset(),d=$("#wf-event-form-create").find("select[name\x3dstartAdjustment]").data("zcdd").reset();$(d).data("zcdd").destroy();$(c).data("zcdd").destroy();d.append($("\x3coption\x3e",{value:"none",text:i18n["zc.workflowbuilder.onabovedate"]}));d.append($("\x3coption\x3e",{value:"after",
text:i18n["zc.workflowbuilder.afterdate"]}));d.append($("\x3coption\x3e",{value:"before",text:i18n["zc.workflowbuilder.beforedate"]}));10==b?$("#wf-event-form-create").find("div[elename\x3dformSchedTime]").show():($("#wf-event-form-create").find("div[elename\x3dformSchedTime]").hide(),c.append($("\x3coption\x3e",{value:"mins",text:i18n["zc.workflowbuilder.mins"]})),c.append($("\x3coption\x3e",{value:"hours",text:i18n["zc.workflowbuilder.hours"]})),d.append($("\x3coption\x3e",{value:"beforefield",
text:i18n["zc.workflowbuilder.beforefield"]})),d.append($("\x3coption\x3e",{value:"afterfield",text:i18n["zc.workflowbuilder.afterfield"]})),b=$("#wf-event-form-create").find("select[name\x3dformName]").val(),$.ajax({url:a.APP.getURL()+"/workflowbuilder/edit/getTextFieldsInForm",type:"POST",data:"zccpn\x3d"+a.csrfToken+"\x26formlinkname\x3d"+b+"\x26sb_tracking\x3dfalse",success:function(a,b,c){var d=$("#date-workflow-create").find("select[name\x3ddelayTxtField]").data("zcdd").reset();$.each(a,function(a,
b){d.append($("\x3coption\x3e",{value:a,text:b,title:a}))});$(d).data("zcdd").destroy().zcDropDown({showTitle:!0})}}));c.append($("\x3coption\x3e",{value:"days",text:i18n["zc.workflowbuilder.days"]}));c.append($("\x3coption\x3e",{value:"weeks",text:i18n["zc.workflowbuilder.weeks"]}));$(d).zcDropDown();$(c).zcDropDown();$(d).trigger("change")});$("#date-workflow-create").find("select[name\x3dstartAdjustment]").unbind("change").bind("change",function(){var a=$(this).closest(".zc-dem-fs-form-group"),
b=$(this).val();$(a).find(".fs-due-delay-1, .fs-due-delay-2, .zc-dem-error-container").hide();$(a).removeClass("zc-wb-customtime zc-wb-customtime2");"none"!=b&&("beforefield"==b||"afterfield"==b?($(a).find(".fs-due-delay-2").show(),$(a).addClass("zc-wb-customtime2")):($(a).find(".fs-due-delay-1,.zc-dem-error-container").show(),$(a).addClass("zc-wb-customtime")))});$("#date-workflow-create").find("select[name\x3drepeat]").unbind("change").bind("change",function(){0==$(this).val()?$("#date-workflow-create").find("select[name\x3dendAdjustment], select[name\x3dendDateField]").closest(".zc-dem-fs-form-group").addClass("zc-hide"):
$("#date-workflow-create").find("select[name\x3dendAdjustment], select[name\x3dendDateField]").closest(".zc-dem-fs-form-group").removeClass("zc-hide")});$("#date-workflow-create").find("select[name\x3dendAdjustment]").unbind("change").bind("change",function(){var a="none"===$(this).val(),b=$(this).closest(".zc-dem-fs-form-group");b[a?"removeClass":"addClass"]("zc-wb-customtime");b.find(".fs-due-delay,.zc-dem-error-container")[a?"hide":"show"]()});$("#date-workflow-create").find("input[name\x3ddueDelay], input[name\x3dendDueDelay]").on("blur",
function(){var a=$(this).val();Math.floor(a)==a&&$.isNumeric(a)?1E3<a&&$(this).showError(i18n["zc.workflowbuilder.invalidcountlength"]):$(this).showError(i18n["zc.workflowbuilder.invalidcount"])});$("#create-workflow-trigger").unbind("click").bind("click",function(a){a.preventDefault();c.createFormWf()});$("#create-custom-event-trigger").unbind("click").bind("click",function(a){c.createCustomEvent($("#custom-event-create"));a.preventDefault()});$("#create-form-event-trigger").unbind("click").bind("click",
function(a){c.createFormEvent($("#form-event-create"));a.preventDefault()});$("#date-workflow-create").find(".wf-sched-next").unbind("click").bind("click",function(){$("#date-workflow-create").hide();$("#date-workflow-create-getname").show()});$("#approval-workflow-create").find("input[name\x3dapproverCriteria]").unbind("click").bind("change",function(){var a=$("#approval-workflow-create").find("div[elename\x3dapprovalCriteria]");"onCriteria"==$(this).val()?c.loadCriteriaBuilder($("#ap-base-form").val(),
a):$(a).smoothHide(300,function(){$(a).addClass("hide")})});$("#ap-base-form").unbind("change").bind("change",function(){"onCriteria"==$("#approval-workflow-create").find("input[name\x3dapproverCriteria]:checked").val()&&c.loadCriteriaBuilder($(this).val(),$("#approval-workflow-create").find("div[elename\x3dapprovalCriteria]"));$("#new-process-name").focus()});$("#create-approval").unbind("click").bind("click",function(a){c.creatorApproval();a.preventDefault()});$("#button-workflow-create").find("select[name\x3dwf-button-forms]").unbind("change").bind("change",
function(){"stateless"==$("option:selected",this).attr("type")?$("#button-workflow-create").find("div[elename\x3drecExecution]").addClass("hide"):$("#button-workflow-create").find("div[elename\x3drecExecution]").removeClass("hide")});$("#create-button-wf").unbind("click").bind("click",function(a){c.createButtonWorkflow();a.preventDefault()});c.bindPaymentWorkflowEvents(a,$("#payment-workflow-create"));c.bindBlueprintEvents(a,$("#blueprint-workflow-create"));CreateCustomFunction.init(a,$("#custom-function-create"))};
this.bindPaymentWorkflowEvents=function(a,b){$(b).find("a[elename\x3daddPG]").off("click").on("click",function(c){showLoading();c={sharedByDisp:a.scopeName,csrfParamName:a.csrfParam,csrfToken:a.csrfToken,authSuccessCallback:function(){$(b).find("div[elename\x3dnopgconfigured]").addClass("hide");$(b).find("div[elename\x3dpaymentConfig]").removeClass("hide")}};ZCPaymentContext.getInstance().init(c)});$(b).find("select[name\x3dpaymentForm]").off("change").on("change",function(){$.ajax({beforeSend:function(){$(b).find("select[name\x3dpaymentForm]").showMiniLoader()},
url:a.APP.getURL()+"/payment/getNumberFields",type:"GET",dataType:"json",data:{formName:$(this).val(),sb_tracking:!1},success:function(a,d,e){$(b).find("select[name\x3dpaymentForm]").hideMiniLoader();var f=$(b).find("select[name\x3damountField]").data("zcdd").reset();$.each(a,function(a,b){$("\x3coption/\x3e",{value:a,text:b,title:a}).appendTo(f)});$(f).data("zcdd").setValue("");$(f).data("zcdd").destroy().zcDropDown({showTitle:!0});"onCriteria"==$(b).find("input[name\x3dpaymentCriteria]:checked").val()&&
c.loadCriteriaBuilder($(b).find("select[name\x3dpaymentForm]").val(),$(b).find("div[elename\x3dpaymentCriteria]"))}})});$(b).find("input[name\x3dpaymentCriteria]").off("change").on("change",function(){"onCriteria"==$(this).val()?c.loadCriteriaBuilder($(b).find("select[name\x3dpaymentForm]").val(),$(b).find("div[elename\x3dpaymentCriteria]")):$(b).find("div[elename\x3dpaymentCriteria]").smoothHide(300,function(){$(b).find("div[elename\x3dpaymentCriteria]").addClass("hide")})});$(b).find("input[name\x3dpaymentType]").off("change").on("change",
function(){var a=$(this).val();$(b).find("div[eletype\x3drecurringOptions]").addClass("zc-hide");"recurring"==a&&$(b).find("div[eletype\x3drecurringOptions]").removeClass("zc-hide")});$(b).find("select[name\x3dpaymentFrequency]").off("change").on("change",function(){$(b).find("div[elename\x3dpaymentWeekDay], div[elename\x3dpaymentMonthDay]").addClass("zc-hide");if("specific_day"==$(b).find("select[name\x3dpaymentDayType]").val()){var a=$(this).val();"week"==a?$(b).find("div[elename\x3dpaymentWeekDay]").removeClass("zc-hide"):
"month"==a&&$(b).find("div[elename\x3dpaymentMonthDay]").removeClass("zc-hide")}});$(b).find("select[name\x3dpaymentDayType]").off("change").on("change",function(){var a=$(this).val(),c=$(this).closest("div[elename\x3dpaymentDay]");"same_day"==a?($(c).removeClass("zc-dem-double-selectbox"),$(b).find("div[elename\x3dpaymentWeekDay]").addClass("zc-hide"),$(b).find("div[elename\x3dpaymentMonthDay]").addClass("zc-hide")):($(c).addClass("zc-dem-double-selectbox"),a=$(b).find("select[name\x3dpaymentFrequency]").val(),
$(c).find("div[eletype\x3dpaymentDayTypeUnit]").addClass("zc-hide"),"week"==a?$(c).find("div[elename\x3dpaymentWeekDay]").removeClass("zc-hide"):$(c).find("div[elename\x3dpaymentMonthDay]").removeClass("zc-hide"))});$(b).find("select[name\x3dpaymentDurationType]").off("change").on("change",function(){"forever"==$(this).val()?($(this).closest("div[elename\x3dpaymentDuration]").removeClass("zc-dem-double-selectbox"),$(b).find("input[name\x3dpaymentCycles]").addClass("zc-hide")):($(this).closest("div[elename\x3dpaymentDuration]").addClass("zc-dem-double-selectbox"),
$(b).find("input[name\x3dpaymentCycles]").removeClass("zc-hide"))});$("#create-pmt-wf-button").unbind("click").bind("click",function(d){c.createPaymentWorkflow(a,b);d.preventDefault()})};this.bindBlueprintEvents=function(a,b){$(b).find("input[name\x3dblueprintCriteria]").off("change").on("change",function(){"onCriteria"==$(this).val()?c.loadCriteriaBuilder($(b).find("select[name\x3dbp-form]").val(),$(b).find("div[elename\x3dblueprintCriteria]")):$(b).find("div[elename\x3dblueprintCriteria]").smoothHide(300,
function(){$(b).find("div[elename\x3dblueprintCriteria]").addClass("hide")})});$(b).find("#create-blueprint").off("click").on("click",function(c){c.preventDefault();var d=$(this),e=$(b).find("select[name\x3dbp-form]").val(),f=$(b).find("input[name\x3dbp-name]").val(),l=!0;""==e&&($(b).find("select[name\x3dbp-form]").showError(i18n["zc.workflowbuilder.formnameempty"]),l=!1);var m=$(b).find("div[elename\x3dblueprintCriteria]");c=void 0;"onCriteria"==$(b).find("input[name\x3dblueprintCriteria]:checked").val()&&
($(m).prevAll("#toastShow:first").length&&$(m).prevAll("#toastShow:first").remove(),c=CriteriaBuilderNew.updateInput($(b).find(".zc-rule-main")),CriteriaBuilderNew.frmSubmit||(l=!1));var n=new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\s\\ \\*\\@\\/\\\\!\\:\\|\\~\\\x26]+$","i");0>=f.trim().length?($(b).find("input[name\x3dbp-name]").showError("Blueprint name cannot be empty"),l=!1):n.test(f)?50<f.length&&($(b).find("input[name\x3dbp-name]").showError("Please enter a workflow name of up to 50 characters"),
l=!1):($(b).find("input[name\x3dbp-name]").showError(i18n["zc.connection.namevalidation.characters"]),l=!1);l&&(e="blueprintName\x3d"+f+"\x26formLinkName\x3d"+e+"\x26zccpn\x3d"+a.csrfToken+"\x26sb_compCategory\x3d"+WorkflowConstants.BluePrint,c&&(e=e+"\x26"+c),$.ajax({url:a.APP.getURL()+"/blueprint/create",type:"POST",data:e,beforeSend:function(){$(d).showTextLoading(i18n["zc.onboarding.creating"])},dataType:"json",success:function(b,c,e){b.hasOwnProperty("ERROR")?($(d).hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),
iAlert(b.ERROR)):b.hasOwnProperty("CRITERIA_ERROR")?($(d).hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),$(m).showErrorBanner(ZSEC.Encoder.encodeForHTML(b.CRITERIA_ERROR))):(c={},c.type=Constants.BLUEPRINT,c.compName=b.blueprintId,WebAppearance.showBuilder(a,c,!0),AccordionMenu.updateStaticName(f))}}))})};this.createPaymentWorkflow=function(a,b){var c=$(b).find("#create-wf-payment"),d=$(c).serialize()+"\x26zccpn\x3d"+a.csrfToken+"\x26sb_tracking\x3dtrue\x26sb_compCategory\x3d"+WorkflowConstants.PAYMENT,
e=$(b).find("div[elename\x3dpaymentCriteria]");if("onCriteria"==$(b).find("input[name\x3dpaymentCriteria]:checked").val())if($(e).prevAll("#toastShow:first").length&&$(e).prevAll("#toastShow:first").remove(),b=CriteriaBuilderNew.updateInput($(b).find(".zc-rule-main")),CriteriaBuilderNew.frmSubmit)d=d+"\x26"+b;else return!1;var k={paymentForm:i18n["zc.workflowbuilder.formnameempty"],amountField:i18n["zc.payment.workflow.amountfieldvalid"],paymentWfName:i18n["zc.workflowbuilder.workflownameinvalid"]};
b=$(c).find("#paymentFormConfig").find("select[name\x3dpaymentForm],select[name\x3damountField],input[name\x3dpaymentWfName]");var l=!0;$.each(b,function(a,b){if(""==$(b).val()||"-select-"==$(b).val())a=$(b).attr("name"),$(b).showError(k[a]),l=!1});l&&$.ajax({url:a.APP.getURL()+"/payment/configurePayment",type:"POST",data:d,beforeSend:function(){$("#create-pmt-wf-button").showTextLoading(i18n["zc.onboarding.creating"])},success:function(b,d,f){b.hasOwnProperty("PMT_ERROR")?($("#create-pmt-wf-button").hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),
iAlert(b.PMT_ERROR)):b.hasOwnProperty("CRITERIA_ERROR")?($("#create-pmt-wf-button").hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),$(e).showErrorBanner(ZSEC.Encoder.encodeForHTML(b.CRITERIA_ERROR))):(d={type:4},d.compName=b.workflowLinkName,WebAppearance.showBuilder(a,d,!0),AccordionMenu.updateStaticName($(c).find("input[name\x3dpaymentWfName]").val()))}})};this.creatorApproval=function(){var b=$("#new-process-name").val().trim(),c=$("#ap-base-form").val(),f="approvalDisplayName\x3d"+
b+"\x26formlinkname\x3d"+c+"\x26zccpn\x3d"+a.csrfToken+"\x26sb_compCategory\x3d"+WorkflowConstants.APPROVAL,g=!0,h=$("#approval-workflow-create").find("div[elename\x3dapprovalCriteria]");if("onCriteria"==$("#approval-workflow-create").find("input[name\x3dapproverCriteria]:checked").val()){$(h).prevAll("#toastShow:first").length&&$(h).prevAll("#toastShow:first").remove();var k=CriteriaBuilderNew.updateInput($("#approval-workflow-create").find(".zc-rule-main"));if(CriteriaBuilderNew.frmSubmit)f=f+"\x26"+
k;else return!1}""==c&&($("#ap-base-form").showError(i18n["zc.formedit.settings.approvalprocess.selectform"]),g=!1);if(void 0==b||""==b)$("#new-process-name").showError(i18n["zc.formedit.settings.approvalprocess.namecannotempty"]),g=!1;g&&($("#create-approval").prop("disabled",!0),$.ajax({url:appbuilder.component.APP.getAppEditUrl()+"/approvalWorkFlow/add",type:"POST",data:f,dataType:"json",beforeSend:function(){$("#create-approval").showTextLoading(i18n["zc.workflowbuilder.createworkflow"])},success:function(c,
d,e){c.hasOwnProperty("APPROVAL_ERROR")?($("#create-approval").hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),iAlert(c.APPROVAL_ERROR),$("#create-approval").prop("disabled",!1)):c.hasOwnProperty("CRITERIA_ERROR")?($("#create-approval").hideTextLoading(i18n["zc.workflowbuilder.createworkflow"]),$(h).showErrorBanner(c.CRITERIA_ERROR),$("#create-approval").prop("disabled",!1)):(d={type:5},d.compName=c.approvalLinkName,d.formLinkName=c.formLinkName,WebAppearance.showBuilder(a,d,!0),AccordionMenu.updateStaticName(b))}}))};
this.loadCriteriaBuilder=function(b,c,f){var d={};d[a.csrfParam]=a.csrfToken;d.formlinkname=b;f&&"schedule"==f&&(d.skipRelatedFields=!1);$.ajax({url:a.APP.getURL()+"/workflowbuilder/edit/loadCriteriaBuilder",type:"POST",data:d,beforeSend:showLoading(),success:function(a,b,d){hideLoading();$(c).html(a);$(c).smoothShow(300,function(){$(c).removeClass("hide")});CriteriaBuilderNew.initConfig({context:Constants.WORKFLOW});CriteriaBuilderNew.init($(c).find(".zc-rule-main"))}})};this.createFormWf=function(){var b=
{},e=$("#new-workflow-name").val(),f=$("#wf-base-form").val(),g=$("#wf-base-form option:selected").attr("type"),h=$("#form-workflow-create").find("div[id\x3dwf-form-"+g+"]").find("input[type\x3dradio]:checked").val(),k=!0;""==f&&($("#wf-base-form").showError(i18n["zc.workflowbuilder.formnameempty"]),k=!1);if(c.isWorkflowV2Enabled){var l=$("#form-workflow-create").find("input[name\x3deventType]:checked").val();"stateless"==g||void 0!=l&&""!=l||($("#form-workflow-create").find("div[class\x3dzc-dem-radio]").addClass("zc-dem-radio-error"),
k=!1);l=$("#wf-trigger-events").val();if(""==l||void 0==l)$("#wf-trigger-events").showError(i18n["zc.workflow.builder.createworkflow.chooseaformevent"]),k=!1;b.subEvent=l;l=$("#wf-trigger-events").data("zcdd").getData()&&$("#wf-trigger-events").data("zcdd").getData().type;if(l==Constants.ONUSERINPUT||l==Constants.ONUPDATE||l==Constants.ONADDROW||l==Constants.ONDELETEROW){var m=$("#wf-trigger-fields").val();""==m||void 0==m?($("#wf-trigger-fields").showError(i18n["zc.workflow.builder.createworkflow.chooseafield"]),
k=!1):-1!==m.indexOf(".")?(m=m.split("."),b.formCompLinkNme=m[0],b.subFormCompLinkNme=m[1]):b.formCompLinkNme=m}"stateless"==g&&(h=51==l?Constants.STATELESS_BUTTON:Constants.CREATED)}h==Constants.STATELESS_BUTTON&&(g=$("#form-workflow-create").find("select[id\x3dwf-form-stateless-buttons-"+f+"]").val(),""==g||void 0==g?($("#form-workflow-create").find("select[id\x3dwf-form-stateless-buttons-"+f+"]").showError(i18n["zc.workflow.builder.createworkflow.additionofarow"]),k=!1):b.buttonId=g);0>=e.trim().length?
($("#new-workflow-name").showError(i18n["zc.workflowbuilder.workflownameinvalid"]),k=!1):50<e.length&&($("#new-workflow-name").showError(i18n["zc.workflowbuilder.workflownamemaxlen"]),k=!1);k&&($("#create-workflow-trigger").attr("disabled","disabled"),b.workflowName=e,b.formlinkname=f,b.eventType=h,b.wfType=h==Constants.STATELESS_BUTTON?Constants.STATELESS_BUTTON_WF:Constants.FORM_WF,b[a.csrfParam]=a.csrfToken,b.sb_compCategory=WorkflowUtil.getComponentCategory(b.wfType),$.ajax({url:a.APP.getURL()+
"/workflow/add",type:"POST",data:b,beforeSend:function(){$("#create-workflow-trigger").showTextLoading(i18n["zc.onboarding.creating"])},dataType:"json",success:function(b,c,d){c={type:4};c.compName=b.workflowLinkName;WebAppearance.showBuilder(a,c,!0);AccordionMenu.updateStaticName(e)}}))};this.createCustomEvent=function(b){var c=$(b).find("input[name\x3dworkflowName]").val(),d=$(b).find("input[name\x3deventDate]").val(),g=$(b).find("input[name\x3deventTime]").val(),h=!0;0>=d.trim().length&&($(b).find("input[name\x3deventDate]").showError(i18n["zc.workflowbuilder.startdateinvalid"]),
h=!1);0>=g.trim().length&&($(b).find("input[name\x3deventTime]").showError(i18n["zc.workflowbuilder.timeinvalid"]),h=!1);0>=c.trim().length?($(b).find("input[name\x3dworkflowName]").showError(i18n["zc.workflowbuilder.workflownameinvalid"]),h=!1):50<c.length&&($(b).find("input[name\x3dworkflowName]").showError(i18n["zc.workflowbuilder.workflownamemaxlen"]),h=!1);h&&($("#create-custom-event-trigger").attr("disabled","disabled"),$.ajax({url:a.APP.getURL()+"/event/add",type:"POST",data:$(b).serialize()+
"\x26zccpn\x3d"+a.csrfToken+"\x26sb_compCategory\x3d"+WorkflowConstants.SCHEDULE,beforeSend:function(){$("#create-custom-event-trigger").showTextLoading(i18n["zc.onboarding.creating"])},dataType:"json",success:function(b,d,e){d={type:4};d.compName=b.workflowLinkName;WebAppearance.showBuilder(a,d,!0);AccordionMenu.updateStaticName(c)}}))};this.createFormEvent=function(b){var c=$(b).find("input[name\x3dworkflowName]").val(),d=$(b).find("select[name\x3dformName]").val(),g=$(b).find("select[name\x3ddateField]").val(),
h=$(b).find("input[name\x3deventTime]").val(),k=$(b).find("select[name\x3ddateField] option:selected").attr("type"),l=$(b).find("div[elename\x3ddelayEle]"),m=!0;$(l).each(function(a,b){!$(b).hasClass("zc-hide")&&$(b).hasClass("zc-wb-customtime")&&((a=$(b).find("input[elename\x3dcountEle]").val(),""!=a&&Math.floor(a)==a&&$.isNumeric(a))?1E3<a&&($(b).find("input[elename\x3dcountEle]").showError(i18n["zc.workflowbuilder.invalidcountlength"]),m=!1):($(b).find("input[elename\x3dcountEle]").showError(i18n["zc.workflowbuilder.invalidcount"]),
m=!1))});0>=d.trim().length&&($(b).find("select[name\x3dformName]").showError(i18n["zc.workflowbuilder.formnameempty"]),m=!1);0>=g.trim().length&&($(b).find("select[name\x3ddateField]").showError(i18n["zc.workflowbuilder.datefield"]),m=!1);10==k&&0>=h.trim().length&&($(b).find("input[name\x3deventTime]").showError(i18n["zc.workflowbuilder.timeinvalid"]),m=!1);0>=c.trim().length?($(b).find("input[name\x3dworkflowName]").showError(i18n["zc.workflowbuilder.workflownameinvalid"]),m=!1):50<c.length&&($(b).find("input[name\x3dworkflowName]").showError(i18n["zc.workflowbuilder.workflownamemaxlen"]),
m=!1);g=$(b).find("input[name\x3dworkflowName]").val();d=$(b).find("select[name\x3dformName]").val();k=$(b).find("input[name\x3deventType]").val();l=$(b).find("select[name\x3drepeat]").val();var n=$(b).find("input[name\x3dscheduleCriteria]:checked").val(),q=$(b).find("select[name\x3ddateField]").val(),w=$(b).find("select[name\x3dstartAdjustment]").val(),r=$(b).find("input[name\x3ddueDelay]").val(),I=$(b).find("select[name\x3ddueDelayUnit]").val(),J=$(b).find("select[name\x3ddelayTxtField]").val();
h=$(b).find("input[name\x3deventTime]").val();var E=$(b).find("select[name\x3dendDateField]").val(),K=$(b).find("select[name\x3dendAdjustment]").val(),L=$(b).find("input[name\x3dendDueDelay]").val();b=$(b).find("select[name\x3dendDueDelayUnit]").val();d="eventType\x3d"+k+"\x26formName\x3d"+d+"\x26dateField\x3d"+q+"\x26scheduleCriteria\x3d"+n+"\x26startAdjustment\x3d"+w+"\x26dueDelay\x3d"+r+"\x26dueDelayUnit\x3d"+I+"\x26delayTxtField\x3d"+J+"\x26eventTime\x3d"+h+"\x26repeat\x3d"+l+"\x26endDateField\x3d"+
E+"\x26endAdjustment\x3d"+K+"\x26endDueDelay\x3d"+L+"\x26endDueDelayUnit\x3d"+b+"\x26workflowName\x3d"+g+"\x26zccpn\x3d"+a.csrfToken+"\x26sb_compCategory\x3d"+WorkflowConstants.SCHEDULE;h=$("#wf-event-form-create").find("div[elename\x3dscheduleCriteria_]");if("onCriteria"==$("#wf-event-form-create").find("input[name\x3dscheduleCriteria]:checked").val())if($(h).prevAll("#toastShow:first").length&&$(h).prevAll("#toastShow:first").remove(),h=CriteriaBuilderNew.updateInput($("#wf-event-form-create").find(".zc-rule-main")),
CriteriaBuilderNew.frmSubmit)d=d+"\x26"+h;else return!1;m&&($("#create-form-event-trigger").attr("disabled","disabled"),$.ajax({url:a.APP.getURL()+"/event/add",type:"POST",data:d,beforeSend:function(){$("#create-form-event-trigger").showTextLoading(i18n["zc.onboarding.creating"])},dataType:"json",success:function(b,d,e){d={type:4};d.compName=b.workflowLinkName;WebAppearance.showBuilder(a,d,!0);AccordionMenu.updateStaticName(c)}}))};this.createButtonWorkflow=function(){var b={},c=$("#button-workflow-create").find("input[name\x3dbuttonWfName]").val(),
f=$("#button-workflow-create").find("select[name\x3dwf-button-forms]").val(),g=$("#button-workflow-create").find("select[name\x3dwf-button-forms] option:selected").attr("type");b=!0;""==f&&($("#button-workflow-create").find("select[name\x3dwf-button-forms]").showError(i18n["zc.workflowbuilder.formnameempty"]),b=!1);0>=c.trim().length?($("#button-workflow-create").find("input[name\x3dbuttonWfName]").showError(i18n["zc.workflowbuilder.workflownameinvalid"]),b=!1):50<c.length&&($("#button-workflow-create").find("input[name\x3dbuttonWfName]").showError(i18n["zc.workflowbuilder.workflownamemaxlen"]),
b=!1);b&&($("#create-button-wf").attr("disabled","disabled"),b={},b.wfType="stateless"==g?"6":"5",b.workflowName=c,b.formlinkname=f,b.eventType="stateless"==g?"7":$("#button-workflow-create").find("input[name\x3dexecType]:checked").val(),b[a.csrfParam]=a.csrfToken,b.sb_compCategory=WorkflowUtil.getComponentCategory(b.wfType),$.ajax({url:a.APP.getURL()+"/workflow/add",type:"POST",data:b,beforeSend:function(){$("#create-workflow-trigger").showTextLoading(i18n["zc.onboarding.creating"])},dataType:"json",
success:function(b,d,e){d={type:4};d.compName=b.workflowLinkName;WebAppearance.showBuilder(a,d,!0);AccordionMenu.updateStaticName(c)}}))}}function positionMenu(a,b,c,d,e,f){var g=$("#import-menu"),h=g.width(),k=g.height();a+h-d>e&&b+k-c>f?g.css({top:b-k-c-30,left:a-h-d}).fadeIn():a+h-d>e?g.css({top:b-c,left:a-h-d}).fadeIn():b+k-c>f?g.css({top:b-k-c-30,left:a-d}).fadeIn():g.css({top:b-c,left:a-d}).fadeIn()}
function FormTemplate(a){var b=this;b.isOnboard;this.init=function(a){b.isOnboard=a;hideLoading();this.construct();this.bindEvents()};this.construct=function(){$("#form-template-group").html("");$("#form-template-grid").find(".zc-dem-temp-gallery-container").html("");$.each(formTemplates,function(a,b){var c='\x3cdiv class\x3d"zc-dem-template-accdn expand"\x3e\x3ca href\x3d"javascript:;" tempname\x3d"zc-frmtemp-'+a+'" class\x3d"zc-dem-template-head"\x3e\x3cspan\x3e'+b.dn+'\x3c/span\x3e \x3cb class\x3d"zc-em-tmp-count"\x3e\x3csmall\x3e'+
Object.keys(b.tmp).length+"\x3c/small\x3e \x3c/b\x3e\x3c/a\x3e\x3c/div\x3e";$("#form-template-group").append($(c));var d='\x3cdiv id\x3d"zc-frmtemp-'+a+'" class\x3d"zc-dem-temp-gal-section"\x3e';d+='\x3cspan class\x3d"zc-dem-temp-gal-head"\x3e'+b.dn+"\x3c/span\x3e";d+='\x3cdiv class\x3d"zc-dem-temp-gal-subs-cont"\x3e';$.each(b.tmp,function(a,b){"RestaurantTableBooking"!=a&&"ClientReview"!=a&&"StaffDetails"!=a&&"EmployeeDetails"!=a&&"ApprovalProcess"!=a&&"MedicalStaffDetails"!=a&&"Feedback"!=a&&"SalesRepDetails"!=
a&&"EventRegistration"!=a&&"ExpenseForm"!=a&&"Contacts"!=a&&(d+='\x3cdiv class\x3d"zc-dem-temp-temp-class zc-dem-temp-gal-subsection"\x3e',d+='\x3cdiv elname\x3d"zc-formtemp-card" tempName\x3d"'+a+'" dispName\x3d"'+b+'" class\x3d"zc-dem-temp-subs-image zc-frm-temp-'+a+'"\x3e\x3cdiv class\x3d"zc-dem-subs-use-template"\x3e\x3cdiv class\x3d"zc-create-wrapper"\x3e\x3ca href\x3d"javascript:;"\x3eUse Template\x3c/a\x3e\x3cdiv class\x3d"zc-dot-load-container"\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
d+='\x3cspan class\x3d"zc-dem-temp-subs-name"\x3e'+b+"\x3c/span\x3e",d+="\x3c/div\x3e")});d+='\x3cdiv class\x3d"clearBoth"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';$("#form-template-grid").find(".zc-dem-temp-gallery-container").append($(d))})};this.bindEvents=function(){$("#form-template-group").zcScrollPane();var c=$("#form-template-grid").zcScrollPane();$("#form-template-search").off("keyup").on("keyup",function(){var a=$(this).val(),b=$("#form-template-grid div[elname\x3dzc-formtemp-card]");if(""==
a)return $("#zc-formtemp-nodata").hide(),$(".zc-dem-temp-gallery-container").show(),$(".zc-dem-temp-gal-section").show(),b.parent().show(),!1;$(".zc-dem-temp-gallery-container").show();$(".zc-dem-temp-gal-section").hide();$("#zc-formtemp-nodata").hide();b.parent().hide();var c=new RegExp(a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26"),"i"),g=0;$.each(b,function(a,b){a=$(b).attr("dispName");c.test(a)&&(g++,$(b).parents(".zc-dem-temp-gal-section").show(),$(b).parent().show())});0==g&&($(".zc-dem-temp-gallery-container").hide(),
b=$("#zc-formtemp-nodata"),$(b).find("#zc-temp-form-name").val(a),$(b).find("span").text('No templates found!  Create a new form with this name "'+a+'".'),$(b).show())});$(".zc-dem-subs-use-template").off("click").on("click",function(a){var c=$(this).parent().attr("tempName");"RestaurantTableBooking"!=c&&"ClientReview"!=c&&"StaffDetails"!=c&&"EmployeeDetails"!=c&&"ApprovalProcess"!=c&&"MedicalStaffDetails"!=c&&"Feedback"!=c&&"SalesRepDetails"!=c&&"EventRegistration"!=c&&"ExpenseForm"!=c&&"Contacts"!=
c&&($(this).parents(".zc-dem-temp-gal-subsection").addClass("active"),$(this).find("a").text(i18n["zc.onboarding.creating"]).addClass("zc-creating"),b.addAdanceFormTemplate(c),a.stopPropagation())});$("#form-template-group a").off("click").on("click",function(a){c.scrollToPosition($("#"+$.attr(this,"tempname")).position().top-1)});$("#zc-create-from-from-tmp").off("click").on("click",function(){(new NewFormComponent(a)).create($("#zc-temp-form-name").val(),!0)});$("#form-template-create \x3e #serviceBack1").off("click").on("click",
function(){showNewUi();$("#create-new-comp").addClass("compact");$("#create-new-comp .zc-dem-icon-container").removeClass("selected");$("#form-create-types").show();var a=$("#form-template-create");$(this).remove();$(a).show().parent().removeClass("create-active");$(".zc-dem-create-compnt-name").removeClass("active");void 0!=b.isOnboard&&b.isOnboard&&$("#back-button").addClass("zc-hide")})};this.addAdanceFormTemplate=function(b){var c={};c.formTemplateName=b;$.ajax({beforeSend:function(){this.data=
this.data+"\x26"+a.getCSRFParam();ifreeze()},url:a.APP.getURL()+"/form/addAdvanceFormTemplate",type:"POST",data:c,success:function(b,c,d){-1!=b.lastIndexOf("error:")?(unfreeze(),iAlert(b.substring(b.lastIndexOf(":")+1))):"undefined"!=typeof a.isSchemaBuilder&&a.isSchemaBuilder?history.go():window.location.href=b}})};this.showPreview=function(a){var b=$(a).attr("tempName");a=$(a).attr("dispName");$("#form-template-grid").hide();$("#create-frm-preview-tmp").attr("tempName",b);$(".zc-dem-temp-subs-name").text(a);
b=$("#form-template-preview").find("div[tempName\x3d"+b+"]");$(b).siblings().hide();$(b).show();$("#form-template-preview").show()}}
function IntegrationForm(a){var b=this;b.isOnboard;b.serviceName=void 0;b.serviceDisplayName=void 0;b.categoryVsServices={};b.init=function(c){b.isOnboard=c;b.serviceMeta=ZCServiceConnection.getInstance({sharedByDisp:a.scopeName,integContext:IntegrationContext.BUILDER,csrfParamName:a.csrfParam,csrfToken:a.csrfToken});b.construct()};b.construct=function(){b.serviceMeta.getAllServiceList({context:"1",grpByCategory:!0},function(a){$.each(a,function(a,c){a=c.service;c=c.category;void 0!=a&&a.length&&
(b.categoryVsServices[c]=void 0!=b.categoryVsServices[c]?b.categoryVsServices[c]:[],b.categoryVsServices[c]=a)});ZCGlobal.newIntegrationServiceEnabled?(b.loadElementsForC6Mode(),b.bindEventsForC6Mode()):b.loadElementsForC5Mode();hideLoading()})};b.bindEventsForC6Mode=function(){$("#form-thirdparty-create").off("click").on("click","div[elname\x3dtpServiceSection]",function(){$("#form-thirdparty-create .zc-dem-integ-services").hide();$("#form-thirdparty-create .zc-dem-integration-sidebar").hide();var c=
$(this).find(".zc-dem-integration-card-title").attr("versionlinkname");b.serviceVersionId=$(this).find(".zc-dem-integration-card-title").attr("versionId");c={sharedByDisp:a.scopeName,serviceVersionLinkName:c,versionId:b.serviceVersionId,mainEl:$("#form-thirdparty-create").find(".zc-dem-integration-container"),appLinkName:a.appLinkName,context:"appbuilder",integContext:"integrationform",csrfParamName:"zccpn",csrfToken:a.csrfToken,successCallback:b.successCallback,cancelCallback:function(a){Shortcut.popContext();
$("#form-thirdparty-create").find(".zc-dem-integration-service-maincontainer").remove();$("#form-thirdparty-create .zc-dem-integration-services-list-hdr").removeClass("hide");$("#form-thirdparty-create").find(".zc-dem-integ-services").show();$("#form-thirdparty-create .zc-dem-integration-sidebar").show();$("#form-thirdparty-create").find("#serviceBack1").show();$("#form-thirdparty-create").find("h3.zc-dem-integration-services-list-title").text(i18n["zc.c6.datasource.selectservice.pagetitle"]);b.bindBackButton()}};
ZCIntegFormContext.getInstance().init(c);b.isOnboard?KeyUtil.init(KeyContexts.ONBOARD.integrationForm):KeyUtil.init(KeyContexts.CREATENEW.integrationForm)});$(".zc-dem-integration-services ul li a").off("click").on("click",function(){var a=$(this).parents("ul").find(".zc-dem-integration-sidebar-active"),d=$(a).find("span").text(),e=$(this).find("span").text();d!==e&&($(a).removeClass("zc-dem-integration-sidebar-active"),$(this).addClass("zc-dem-integration-sidebar-active"),b.loadServicesForCategory(e))});
$("#form-thirdparty-create .zc-common-close").off("click").on("click",function(){$("#serviceSearch").val("").trigger("keyup")});$("#serviceSearch").off("keyup").on("keyup",function(){var a=$(this).val();void 0!=a&&""!=a&&0!=a.length?$("#form-thirdparty-create .zc-common-close").removeClass("zc-hide"):$("#form-thirdparty-create .zc-common-close").addClass("zc-hide");if(void 0!=a)if(""==a){var d=$(".zc-dem-integration-services ul").find(".zc-dem-integration-sidebar-active");d=$(d).find("span").text();
b.loadServicesForCategory(d)}else $.each($("div[elname\x3dtpServiceSection]:visible"),function(b,c){$(c).find(".zc-dem-integration-card-title").text().toLowerCase().includes(a.toLowerCase())?$(c).show():$(c).hide()})});b.bindBackButton()};b.successCallback=function(a){var c=$("#form-thirdparty-create").find("form[name\x3d'integForm']");b.addThirdpartyForm(c);a.preventDefault();stopEventBubbling(a)};b.loadElementsForC6Mode=function(){var a=$("#form-thirdparty-create .zc-dem-integration-container");
$("#form-thirdparty-create .zc-dem-integration-services-list-hdr").removeClass("hide");$(a).empty();var d=$("\x3cdiv\x3e\x3c/div\x3e").addClass("flt-left zc-dem-integration-sidebar"),e=$("\x3cdiv\x3e\x3c/div\x3e").addClass("zc-dem-integration-sidebar-title").text(i18n["zc.app.categories"]),f=$("\x3cul\x3e\x3c/ul\x3e").addClass("zc-dem-integration-sidebar-nav"),g=$("\x3cli\x3e\x3c/li\x3e").append($("\x3ca\x3e\x3c/a\x3e").addClass("zc-dem-box-sizing zc-dem-integration-sidebar-active").append($("\x3cspan\x3e\x3c/span\x3e").text("All")));
$(f).append(g);$.each(Object.keys(b.categoryVsServices),function(a,b){a=$("\x3cli\x3e\x3c/li\x3e").append($("\x3ca\x3e\x3c/a\x3e").addClass("zc-dem-box-sizing").append($("\x3cspan\x3e\x3c/span\x3e").text(b)));$(f).append(a)});$(d).append(e);$(d).append(f);$(a).append(d);d=$("\x3cdiv\x3e\x3c/div\x3e").addClass("flt-left zc-dem-integration-action-list zc-dem-integ-services");e=$("\x3cdiv\x3e\x3c/div\x3e").addClass("zc-dem-clearfix zc-dem-integration-filter");g=$("\x3cdiv\x3e\x3c/div\x3e").addClass("flt-left zc-dem-search");
var h=$("\x3cinput\x3e").attr("type","text").attr("maxLength","40").attr("placeholder",i18n["zc.settings.menu.search"]).attr("id","serviceSearch"),k=$("\x3ci\x3e\x3c/i\x3e").addClass("zc-em zc-common-search").attr("aria-hidden",!0),l=$("\x3ci\x3e\x3c/i\x3e").addClass("zc-em zc-common-close zc-hide").attr("aria-hidden",!0),m=$("\x3cdiv\x3e\x3c/div\x3e").attr("id","servicesCardsListing").addClass("zc-dem-clearfix zc-dem-integration-card-list");$(g).append(h);$(g).append(k);$(g).append(l);$(e).append(g);
$(d).append(e);$(d).append(m);$(a).append(d);b.loadServicesForCategory()};b.loadServicesForCategory=function(a){var c=$("#servicesCardsListing").empty();a=void 0!=a&&""!=a&&"All"!=a?[a]:Object.keys(b.categoryVsServices);$.each(a,function(a,d){$.each(b.categoryVsServices[d],function(a,b){a=$("\x3cdiv\x3e\x3c/div\x3e").addClass("zc-dem-integration-card").attr("elName","tpServiceSection").attr("category",d);if(void 0!=b.logoUrl){var e=$("\x3ci\x3e\x3c/i\x3e").addClass("zc-dem-integration-logo");imgEl=
$("\x3cimg\x3e\x3c/img\x3e").attr("src",b.logoUrl);$(e).append(imgEl)}var f=$("\x3cdiv\x3e\x3c/div\x3e").addClass("zc-dem-integration-card-title").attr("serviceLinkName",b.linkName).attr("versionId",b.connectorId).attr("versionLinkName",b.connectorLinkName);$(f).text(b.displayName);$(a).append(e).append(f);$(c).append(a)})})};b.loadElementsForC5Mode=function(){let a=$("#form-thirdparty-create .zc-dem-integration-inner-wrapper");$(a).empty();$.each(b.categoryVsServices,function(c){let d=b.categoryVsServices[c];
$.each(d,function(b){b=d[b];var c=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-integration").attr("elname","tpServiceSection"),e=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-integration-icon"),f=$("\x3cimg\x3e").attr("src",b.logoUrl),l=$("\x3cdiv\x3e\x3c/div\x3e").attr("class","zc-dem-integration-text").attr("serviceLinkName",b.linkName).attr("serviceVersionId",b.connectorId).attr("serviceVersionLinkName",b.connectorLinkName).attr("serviceId",b.serviceId);$(e).html(f);$(l).text(b.displayName);
$(c).append($(e)).append($(l));$(a).append($(c))})});b.bindEventsForC5Mode()};b.bindEventsForC5Mode=function(){$("#form-thirdparty-create").find("div[elname\x3dtpServiceSection]").off("click").on("click",function(){b.isOnboard?KeyUtil.init(KeyContexts.ONBOARD.integrationForm):KeyUtil.init(KeyContexts.CREATENEW.integrationForm);b.getServiceDetailsForForm(this)});$("#form-thirdparty-container").find(":input[id\x3dcreate-tp-form-trigger]").off("click").on("click",function(a){var c=$("#form-thirdparty-container").find("form");
b.addThirdpartyForm(c);a.preventDefault();stopEventBubbling(a)});$("#form-thirdparty-container").find("select[name\x3dconnection]").off("change").on("change",function(){function c(c){let f=$(e).find("select[name\x3dmodule]");errorClearCallback($(f).prev());$(f).prop("disabled",!0);$("#create-tp-form-trigger").prop("disabled",!0);$("#create-tp-form-trigger").addClass("zc-dem-disabledbtn");0==$(e).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source']").length&&(0<$(e).find("div[id\x3dconnection-auth-required][class\x3d'zc-dem-error-connection-source hide']").length?
($(e).find("div[id\x3dconnection-auth-required]").removeClass("hide"),$(e).find("#connection-listing-container").after("\x3cdiv class\x3d'zc-dem-clearfix'\x3e\x3c/div\x3e")):$(e).find("#connection-listing-container").after($(dataSourceAuthRequired)),$(e).find("#connection-auth-required \x3e input[type\x3dbutton]").removeAttr("disabled").removeAttr("title"),$(e).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize").on("click.authorize",function(){var f=$(e).find("select[name\x3dconnection]").find(d).attr("linkName");
f={csrfParamName:a.csrfParam,csrfToken:a.csrfToken,connectionLinkName:f,connectorInfo:b.connectorInfo,authSuccessCallback:function(){b.authSuccessCallback()},sharedByDisp:a.scopeName,integContext:IntegrationContext.BUILDER,isSystemConnection:c==ConnectionType.SYSTEM};ZCIntegAuthorize.getInstance().triggerAuthorizeAction(f)}))}showLoading();var d=$("option:selected",this);$(d).attr("linkName");b.connectionId=$(d).val();var e=$("#form-integration-container").find("#form-thirdparty-container");"false"==
$(d).attr("isConnected")?c($(d).attr("type")):($(e).find("div[id\x3dconnection-auth-required]").addClass("hide"),$(e).find("#connection-auth-required \x3e input[type\x3dbutton]").off("click.authorize"),$(e).find("select[name\x3dmodule]").prop("disabled",!1),$("#create-tp-form-trigger").prop("disabled",!1),$("#create-tp-form-trigger").removeClass("zc-dem-disabledbtn"));b.serviceMeta.getModules({connectorId:b.serviceVersionId,connectionId:b.connectionId},function(a){let b=$("#form-thirdparty-container").find("select[name\x3dmodule]");
$(b).data("zcdd").setValue("");$(b).data("zcdd").reset();errorClearCallback($(b).prev());errorClearCallback($("#new-tpform-name").parent());$.each(a.modules,function(a,c){$("\x3coption /\x3e",{value:c.linkName,text:c.displayName}).appendTo(b)});hideLoading()})})};this.bindBackButton=function(){$("#form-thirdparty-create \x3e #serviceBack1").off("click").on("click",function(){showNewUi();$("#create-new-comp").addClass("compact");$("#create-new-comp .zc-dem-icon-container").removeClass("selected");
$("#form-create-types").show();$("#create-new-comp").find("h3").removeClass("hide");var a=$("#form-thirdparty-create");$(a).empty();$(a).show().parent().removeClass("create-active");$(".zc-dem-create-compnt-name").removeClass("active");void 0!=b.isOnboard&&b.isOnboard&&$("#back-button").addClass("zc-hide")})};this.getServiceDetailsForForm=function(a){showLoading();b.serviceVersionId=$(a).find(".zc-dem-integration-text").attr("serviceVersionId");b.serviceId=$(a).find(".zc-dem-integration-text").attr("serviceId");
b.serviceVersionLinkName=$(a).find(".zc-dem-integration-text").attr("serviceVersionLinkName");b.serviceLinkName=$(a).find(".zc-dem-integration-text").attr("serviceLinkName");b.serviceMeta.getIntegrationService(b.serviceLinkName,function(a){b.serviceInfo=a;b.serviceMeta.getServiceVersion(b.serviceVersionLinkName,function(a){showLoading();var c=$("#form-integration-container").find("#form-thirdparty-container"),d=$(c).find("form");$(c).find("div[id\x3dconnection-auth-required]").addClass("hide");$(d).clearError();
$(d).find("div[id\x3dtpFormName]").removeClass("hide");$(d).find("#new-tpform-name").val("");$(d).find("select[name\x3dtpCommonSelect]").empty();$(d).find("select").each(function(){void 0!=$(this).data("zcdd")&&($(this).data("zcdd").reset(),$(this).data("zcdd").destroy(),$(this).prop("disabled",!1));$(this).zcDropDown({placeholder:"-Select-"})});b.connectorInfo=a;b.serviceName=a.displayName;$(d).find("span[elname\x3dcreate-tpform-header]").text("Create your "+b.serviceName+" Form");b.bindBackButtonToContext("integ_form");
$(d).find("#tpModuleList").removeClass("hide");$(d).find("#create-tp-form-trigger").prop("disabled",!1);$(d).find("#create-tp-form-trigger").removeClass("zc-dem-disabledbtn");$(d).find("select[name\x3dtpCommonSelect]").zcDropDown({placeholder:"-Select-"});$(d).find(":input:first").focus();b.fetchAndFillConnections()})})};this.fetchAndFillConnections=function(){var a=$("#form-integration-container").find("#form-thirdparty-container"),d=$(a).find("form");b.serviceMeta.getAllConnections(b.serviceId,
{context:ConnectionPopupContext.INTEGRATION_FORM},function(c){let e=$(d).find("select[name\x3dconnection]");$(e).data("zcdd").setValue("");$(e).data("zcdd").reset();let g=c.connections;""!=g&&void 0!=g&&Object.keys(g).length?($(d).find("#no-connection").hide(),$(d).find("#connection-listing-container").show(),$.each(c,function(a,b){var c=Object.keys(b).includes("SYSTEM");$.each(b,function(a,b){let d=$(e);c&&(a="system"==a.toLowerCase()?ConnectionType.SYSTEM:ConnectionType.USER,d=$("\x3coptgroup\x3e\x3c/optgroup\x3e").attr("label",
ConnectionType.I18N[a]).attr("type",a));$.each(b,function(a){a=b[a];if(a.isEnabled){let b=$("\x3coption\x3e\x3c/option\x3e").val(a.connectionId).text(a.displayName).attr("isConnected",a.isConnected).attr("type",a.connectionType);$(b).attr("linkName",a.linkName);$(d).append(b)}});c&&$(e).append(d)})})):($(d).find("#no-connection").show(),$(d).find("div[class\x3dzc-dem-clearfix]").remove(),$(d).find("#connection-listing-container").hide());$(a).find("#addNewConnection").show();$(a).find("#addNewConnection, .add-newconnection").off("click").on("click",
function(){b.triggerConnectionPopup()});hideLoading();$(a).show().parent().addClass("create-active");$("#form-integration-container").addClass("active")})};this.triggerConnectionPopup=function(){let b=this;var d=$("#form-integration-container").find("#form-thirdparty-container");let e=b.isOnboard?$("#appbuilder-popup"):$("#new-component-popup"),f={successCallback:function(a){$(e).find("#no-connection").hide();$(e).find("#connection-listing-container").show();var b=$("\x3coption/\x3e",{value:a.connectionId,
html:a.displayName,isConnected:a.isConnected,type:a.connectionType,linkName:a.linkName}),c=$(d).find("select[name\x3dconnection]"),f=$(c);if($(c).find("optgroup").length){var g=a.connectionType==ConnectionType.SYSTEM?ConnectionType.SYSTEM:ConnectionType.USER;f=$(c).find("optgroup[type\x3d"+g+"]");$(f).length||(f=$("\x3coptgroup/\x3e").attr("label",ConnectionType.I18N[g]).attr("type",g),$(c).append(f),f=$(c).find("optgroup[type\x3d"+g+"]"))}$(f).append(b);void 0==$(c).data("zcdd")&&$($(c)).zcDropDown();
$(c).data("zcdd").setValue(a.connectionId);$(c).trigger("change");errorClearCallback($(c).prev())},authSuccessCallback:function(){b.authSuccessCallback()},csrfParamName:a.csrfParam,csrfToken:a.csrfToken,versionId:b.connectorInfo.connectorId,serviceVersionLinkName:b.connectorInfo.linkName,serviceInfo:b.serviceInfo,connectorInfo:b.connectorInfo,sharedByDisp:a.scopeName,integContext:IntegrationContext.BUILDER,popupContext:ConnectionPopupContext.INTEGRATION_FORM};ZCNewConnection.getInstance().init(f)};
this.authSuccessCallback=function(){var a=$("#form-integration-container").find("#form-thirdparty-container");a=$(a).find("select[name\x3dconnection]");$(a).find("option:selected").attr("isConnected",!0);$(a).trigger("change")};this.bindBackButtonToContext=function(a){if("integ_dashboard"==a)$("#back-button").off("click").on("click",function(){$(this).addClass("zc-hide");0<$("#zc-dem-page-create:visible").length&&$("#create-new-comp").removeClass("compact");setTimeout(function(){$(".zc-dem-createtype").hide()},
200);if(b.isOnboard)$("#appbuilder-popup .active").removeClass("active"),$("#appbuilder-popup .create-active").removeClass("create-active");else{var a=$("#new-component-popup");$(a).find(".active").removeClass("active");$(a).find(".create-active").removeClass("create-active")}});else if("integ_form"==a)$("#back-button").off("click").on("click",function(){Shortcut.popContext();setTimeout(function(){$("#form-integration-container .zc-dem-createtype").hide()},200);$("#form-integration-container").removeClass("active");
$("#form-integration-container .create-active").removeClass("create-active");$("#form-thirdparty-create").show();b.bindBackButtonToContext("integ_dashboard")})};this.addThirdpartyForm=function(c){var d=$.trim($(c).find(":input[name\x3dformName]").val()),e=$(c).find("select[name\x3dmodule] option:selected").val(),f=$(c).find("ul[name\x3ddataSource] li.selected").attr("dataSourceLinkName"),g=$(c).find("select[name\x3dconnection] option:selected");g=$(g).val();var h=!0;0==d.length?($(c).find("input[name\x3d'formName']").showError(i18n["zc.formedit.formnameinvalid"]),
h=!1):50<d.length&&($(c).find("input[name\x3d'formName']").showError(i18n["zc.formedit.create.formnamemaxlen"]),h=!1);if(ZCGlobal.newIntegrationServiceEnabled){if(void 0==f||""===f)$("#datasource-division").showError(i18n["zc.builder.datasource.mandatory"]),h=!1;"false"==$(c).find("ul[name\x3ddataSource] li.selected").find("input[name\x3dconnection]").attr("isConnected")&&(iAlert(i18n["zc.datasource.connections.authorization.mandatory"]),h=!1)}else{if(void 0==e||""===e)$(c).find("select[name\x3dmodule]").showError(i18n["zc.formedit.modulenameinvalid"]),
h=!1;if(void 0==g||""===g)$(c).find("select[name\x3dconnection]").showError(i18n["zc.integration.connectionnameinvalid"]),h=!1}if(!h)return!1;var k="zccpn\x3d"+a.csrfToken+"\x26formDisplayName\x3d"+d+"\x26deviceType\x3d"+a.deviceType;void 0!=f&&""!=f&&(k+="\x26dataSourceLinkName\x3d"+f);void 0!=e&&""!=e&&(k+="\x26moduleLinkName\x3d"+e);void 0!=b.serviceVersionId&&""!=b.serviceVersionId&&(k+="\x26connectorId\x3d"+b.serviceVersionId);void 0!=g&&""!=g&&(k+="\x26connectionId\x3d"+g);h&&$.ajax({beforeSend:function(){ZCGlobal.newIntegrationServiceEnabled?
$("#form-thirdparty-create").find("form").find("input[name\x3d'create']").showTextLoading(i18n["zc.onboarding.creating"]):$(c).find("input[name\x3d'create']").showTextLoading(i18n["zc.onboarding.creating"])},url:a.APP.getURL()+"/form/new/addThirdparty",type:"POST",data:k,success:function(e,f,g){-1!=e.lastIndexOf("error:")?(ZCGlobal.newIntegrationServiceEnabled?$("#form-thirdparty-create").find("form").find("input[name\x3d'create']").hideTextLoading(i18n["zc.integration.builder.create"]):$(c).find("input[name\x3d'create']").hideTextLoading(i18n["zc.formedit.form.createform"]),
iAlert(e.substring(e.lastIndexOf(":")+1))):(AccordionMenu.updateStaticName(d),e=e.substring(e.indexOf("formbuilder/")+12),e=e.substr(0,e.indexOf("/")),f={type:1},f.compName=e,f.isThirdPartyModule="true",b.isOnboard?((new ZCAppearance(appbuilder.component)).bindEvents(),WebAppearance.showBuilder(a,f,!0),$("#zc-dem-preview-types li.select").trigger("click"),appbuilder.header=new ZCHeader(appbuilder.component),appbuilder.navigator=new ZCNavigator(appbuilder.component),appbuilder.header.softInit(),appbuilder.navigator.init(),
$("body").off("click").removeClass("zc-dem-app-ft"),$("#appbuilder-popup").removeClass("zc-dem-create-new-compnt"),$("#builderheader a").off("click"),appbuilder.component.isOnBoard=b.isOnboard):(WebAppearance.showBuilder(a,f,!0),WebAppearance.clearFrame(),"undefined"!=typeof a.isSchemaBuilder&&a.isSchemaBuilder&&$("#appbuilder-popup").removeClass("zc-dem-create-new-compnt")))}})}}
function OnBoard(a){var b=this;this.init=function(){$(".zc-dem-design").addClass("selected");$("#appbuilder-main-head").addClass("zc-compappearance-hdr");$("#builderheader a").off("click").on("click",function(a){a.preventDefault();a.stopPropagation()});setLiveAppAccessURL(void 0,!0);$("#zc-component-switch").off("click");$(".zc-dem-share").off("click");a.init();this.setup();this.bindEvents();KeyUtil.init(KeyContexts.ONBOARD.home)};this.setup=function(){$("#appbuilder-main-head").show();$("#appearance-header-content").show();
$("#appbuilder-main-nav").show();$("#appbuilder-main").show();$("#appbuilder-main-foot").show()};this.bindEvents=function(){$("#zc-create-onboard").click(function(){b.openNewComponent()});$("#appbuilder-main-head").find("div[elname\x3dcreatenew]").off("click").on("click",function(){b.openNewComponent()})};this.openNewComponent=function(){$.ajax({url:a.APP.getURL()+"/newcomponent",type:"GET",beforeSend:function(){showLoading()},success:function(c,d,e){hideLoading();$("#appbuilder-popup").html(c);$("#appbuilder-popup").addClass("zc-dem-create-new-compnt").active();
$("#appbuilder-popup").addClass("zc-dem-form-new-ui")&&ZCGlobal.newIntegrationServiceEnabled?($("#create-new-comp").addClass("compact"),$("#create-new-comp .zc-dem-select-compnt-type").hide()):$("#create-new-comp").hide();$("#form-create-types").show();$("#appbuilder-popup").find("select").zcDropDown({placeholder:"-Select-"});c=new NewFormComponent(a);c.isOnboard=!0;c.init();b.bindNewCompEvents();b.initOnboardingKeyboardShortcuts();$("#back-button").addClass("zc-hide")}})};this.bindNewCompEvents=
function(){$(".zc-dem-hide-option.close").off("click").on("click",function(){Shortcut.KEY_CONTEXT==KeyContexts.ONBOARD.integrationForm&&Shortcut.popContext();Shortcut.popContext();$("#appbuilder-popup").deActive();"undefined"!=typeof a.isSchemaBuilder&&a.isSchemaBuilder&&(a.isSchemaBuilder=!1,$("#appbuilder-popup").html(""))});$("#back-button").off("click").on("click",function(){$(this).addClass("zc-hide");0<$("#zc-dem-page-create:visible").length&&$("#create-new-comp").removeClass("compact");setTimeout(function(){$(".zc-dem-createtype").hide()},
200);$("#appbuilder-popup .active").removeClass("active");$("#appbuilder-popup .create-active").removeClass("create-active")})};this.initOnboardingKeyboardShortcuts=function(){KeyUtil.init(KeyContexts.ONBOARD.form);var a=$.Event("keydown");a.keyCode=Keys.ENTER.code;a.shiftKey=!0;$("body").trigger(a)}}
function PageTemplate(a){var b=this;this.init=function(){var a=$("#page-template-grid .zc-dem-temp-gal-subsection:first"),b=$("#page-template-grid .zc-dem-temp-gal-subs-cont");b.html("");for(var e=1;10>=e;e++){var f=a.clone();b.append(f);f.find(".zc-dem-temp-subs-image").removeClass("zc-dem-page-temp-1").addClass("zc-dem-page-temp-"+e).attr("templateName","template"+e)}this.bindEvents()};this.bindEvents=function(){$("#page-template-grid .zc-dem-subs-use-template").off("click").on("click",function(a){templateName=
$(this).parent().attr("templateName");$(this).parents(".zc-dem-temp-gal-subsection").addClass("active");var c=$(this);iCustomizePopup({title:i18n["zc.onboard.page.create"],body:$("#PageTemplateName").html(),buttons:[{name:ZCButton.CREATE,type:ZCModalConstants.MODAL_SUBMIT}],containerClass:"pageDuplicate",success:function(a){var d=$(a.container).find("#PageTemplateNameValue").val();if(0==d.trim().length)return $(a.container).find("#PageTemplateNameValue").showError(i18n["zc.createpage.emptypagename"]),
$("#PageTemplateNameValue").focus(),!1;if(50<d.length)return $(a.container).find("#PageTemplateNameValue").showError(i18n["zc.createpage.pagenamemaxlengthinfo"]),$("#PageTemplateNameValue").focus(),!1;if(!(new XRegExp("^[\\p{L}\\p{M}\\p{N}-_\r\t\f *@/\\!.:|~\x26]+$")).test(d.trim()))return $(a.container).find("#PageTemplateNameValue").showError(i18("zc.page.builder.title.specialcharacters.errormsg","-  _  * @  /  ! . : | ~ \x26")),$("#PageTemplateNameValue").focus(),!1;c.find("a").text(i18n["zc.onboarding.creating"]).addClass("zc-creating");
b.createPageFromTemplate(templateName,d);return!0},failure:function(){c.parents(".zc-dem-temp-gal-subsection.active:first").removeClass("active")}});a.stopPropagation()})};this.createPageFromTemplate=function(b,d){var c={};c.viewName=d;c.pageLinkName="";c.pageName=d;c[a.csrfParam]=a.csrfToken;c.fromTemplate=b;$.ajax({url:a.APP.getURL()+"/page/add",type:"POST",data:c,success:function(b,c,e){if("error"===b)return iAlert(i18n["zcpage.toolbar.pagecreation.errormsg"]),!1;b=b.substring(b.indexOf("pagebuilder/")+
12);b=b.substr(0,b.indexOf("/"));c={type:3};c.compName=b;WebAppearance.showBuilder(a,c,!0);WebAppearance.clearFrame();AccordionMenu.updateStaticName(d)}})}}function hideComponentCreationTemplate(){$(this).addClass("zc-hide");setTimeout(function(){$(".zc-dem-createtype").hide()},200);$("#new-component-popup").find(".active").removeClass("active");$("#new-component-popup").find(".create-active").removeClass("create-active")};var CreatorCampaign=new function(){this.loadCreatorCampaign=function(){CreatorCampaign.initBinding()};this.initBinding=function(){this.showLowCodeChampIcon();$("#lowCodeIcon").off("click").on("click",function(){CreatorCampaign.showLowCodeChampPopup()});$("#lowCodeCloseIcon").off("click").on("click",function(){CreatorCampaign.setTempCookie();$("#lowCodeCloseIcon").parent().parent().hide()});$(".zc-dem-lowcode-champ-container").find(".zc-dem-dialogue-close").off("click").on("click",function(){$("#lowCodeChamp").removeClass("zc-dem-icon-freeze")})};
this.showLowCodeChampIcon=function(){CreatorCampaign.getCookie("LOWCODECHAMPCOOKIE")?$("#lowCodeChamp").hide():$("#lowCodeChamp").show()};this.showLowCodeChampPopup=function(){let a=$("#lowCodePopupBody").html(),b;b=void 0!=ZCGlobal.csrfTokenName?ZCGlobal.csrfToken:getCsrfParamValue();iCustomizePopup({body:a,buttons:[{name:"Download and Share",type:ZCModalConstants.MODAL_SUBMIT}],parentClass:"zc-dem-lowcode-champ-container",containerClass:"zc-dem-lowcode-container",submitOnEnterKey:!0,afterClose:function(){$("#lowCodeChamp").removeClass("zc-dem-icon-freeze")},
success:(a)=>{a=new FormData;var c=$(".zc-dem-lowcode-container").find("#developerName").val();a.append("developerName",c.toLowerCase());a.append("zccpn",b);""!=c.trim()&&$.ajax({url:"/userhome/"+ZCGlobal.scopeName+"/getDeveloperDayGreeting",data:a,type:"POST",contentType:!1,processData:!1,xhrFields:{responseType:"blob"},beforeSend:function(){$("#proceedBtn").val("Downloading");$("#proceedBtn").css("pointer-events","none");$("#proceedBtn").parent().append('\x3cdiv class\x3d"zc-dot-load-container"\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3c/div\x3e')},
success:(a)=>{var b=document.createElement("a");a=window.URL.createObjectURL(a);b.href=a;b.download="creator-lowcode-champ.jpeg";document.body.append(b);b.click();b.remove();window.URL.revokeObjectURL(a);$(".zc-dem-lowcode-champ-container").find(".zc-dem-dialogue-close").trigger("click")}})}},function(){$("#lowCodeChamp").addClass("zc-dem-icon-freeze")})};this.setCookie=function(a,b,c,d,e){var f=new Date;c&&f.setTime(f.getTime()+864E5*c);d&&(c=document.domain,d=c.substring(0,c.lastIndexOf(".")),c.substring(d.lastIndexOf("."),
c.length));a=a+"\x3d"+escape(b)+";expires\x3d"+f.toGMTString()+";";e&&(a=a+"SameSite\x3d"+escape(e)+";");document.cookie=a+"path\x3d/"};this.setTempCookie=function(){CreatorCampaign.setCookie("LOWCODECHAMPCOOKIE",Constants.TEMPSHARE_COOKIE_VALUE,10,!0,!1)};this.getCookie=function(a){for(var b=document.cookie.split(";"),c,d=0;d<b.length;d++)if(c=b[d].substr(0,b[d].indexOf("\x3d")),b[d].substr(b[d].indexOf("\x3d")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return!0;return!1};this.validateDevName=function(a){a=
a.value;var b=new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\r\t\f\\s\\ \\*\\@\\/\\\\!\\:\\~\\.]+$","i");""!==a.trim()&&b.test(a)?$("#proceedBtn").attr("disabled",!1):$("#proceedBtn").attr("disabled",!0)}};function ZCAppearance(a){var b=this;a.isBuilder=!1;this.init=function(a){this.preprocess();this.setup();this.initKeyboardShortcuts();this.bindEvents();"reload"!==a&&this.initAppearance();this.bindPropertyEvents()};this.preprocess=function(){void 0!=a.CURRENT_MODULE&&a.CURRENT_MODULE.destroy();a.CURRENT_MODULE=this};this.setup=function(){$("#appbuilder-main-head").addClass("zc-compappearance-hdr").removeClass("zc-newcomp-hdr");$("#appearance-header-content").show();$("#appbuilder-main-head").show();
$("#appbuilder-main-nav").show();var a=$("#appbuilder-main");$(a).show();$(a).removeClass("zc-dem-schema-builder");$("#appbuilder-main-foot").show();isCrmIntegDomain&&$("#appbuilder-main-head").hide()};this.destroy=function(){b.preDestroy();b.doDestroy()};this.preDestroy=function(){Shortcut.popContext(!0)};this.doDestroy=function(){};this.appendStylesheet=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("link");d.href=a;d.rel="stylesheet";d.type="text/css";b&&
$.isFunction(b)&&($.browser.msie?d.onreadystatechange=function(){"complete"===d.readyState&&b()}:d.onload=b);c.appendChild(d)};this.bindEvents=function(){var c=this;$("#zc-dem-preview-types").find("li").off("click").on("click",function(b){$("#zc-dem-preview-types").find("li.select").attr("devicetype");$("#zc-dem-preview-types").find("li").removeClass("select");$(this).addClass("select");var d=$(this).attr("devicetype");a.deviceType=d;variable.deviceType=a.deviceType;var e=d==Constants.DEVICE_WEB?
Modules.WEBAPPEARANCE:Modules.MOBILEAPPEARANCE;a.CURRENT_COMPONENT.getEditAppearanceURL();var f=a.CURRENT_COMPONENT;var l={};l.deviceType=d;l[a.csrfParam]=a.csrfToken;$.ajax({beforeSend:function(){b.originalEvent&&showLoading();$(".zc-dem-right-properties-wrapper").find("[device]").fadeOut()},url:f.getEditAppearanceURL(),type:"POST",data:l,success:function(b,d,f){hideLoading();$("#appbuilder-main").html(b);$("#appearance-design").attr("module",e);a.updateMobileJSON($.extend(variable.mobileCompsJSON,
variable.mobileContent));d=parseInt(a.componentType);switch(parseInt(a.deviceType)){case 1:1==d?e=Modules.WEBFORMAPPEARANCE:2==d?e=Modules.WEBREPORTAPPEARANCE:3==d&&(e=Modules.WEBPAGEAPPEARANCE);break;case 2:case 3:1==d?e=Modules.MOBILEFORMAPPEARANCE:2==d?e=Modules.MOBILEREPORTAPPEARANCE:3==d&&(e=Modules.MOBILEPAGEAPPEARANCE)}if(1!==parseInt(a.deviceType)){d=$(b).find("link");var g=[];$('link[href*\x3d"mobile-themes"]').remove();var h=0;for(b=d.length;h<b;h++)g.push(d[h].getAttribute("href"));d=[];
h=0;for(b=g.length;h<b;h++)d.push(new Promise(function(a,b){c.appendStylesheet(g[h],function(){a()})}));Promise.all(d).then(function(a){appbuilder.updateModule(e,!0)})}else appbuilder.updateModule(e,!0)}})});$("#app-themes").off("click").on("click",function(){$(this).parent().find("li").removeClass("select");var c=$("#zc-dem-preview-types").find("li.select").attr("devicetype");$.ajax({url:a.APP.getURL()+"/getthemes",data:{deviceType:c},type:"GET",cache:!0,beforeSend:function(){showLoading()},success:function(a,
c,d){appbuilder.bootConfig.useCompression?(c=new Requires(Modules.THEMES),require(c.get(),c.getPromise(function(){hideLoading();b.appendRightPanel(a);b.registerThemeEvents()}))):(hideLoading(),b.appendRightPanel(a),b.registerThemeEvents());$("#admin_accordion").zcScrollPane()}})});$("#app-sections").off("click").on("click",function(){$(this).parent().find("li").removeClass("select");$.ajax({url:a.APP.getURL()+"/getsections",data:{deviceType:a.deviceType},type:"GET",cache:!0,beforeSend:function(){showLoading()},
success:function(a,c,d){appbuilder.bootConfig.useCompression?(c=new Requires(Modules.SECTIONS),require(c.get(),c.getPromise(function(){hideLoading();b.appendRightPanel(a);b.registerSectionsEvents()}))):(hideLoading(),b.appendRightPanel(a),b.registerSectionsEvents())}})})};this.bindPropertyEvents=function(){};this.registerSectionsEvents=function(){SectionHandler.init(a);SectionHandler.sectionScroller=$(".zc-dem-rearrange-scroller").zcScrollPane();SectionHandler.hiddenSectionScroller=$(".zc-dem-hidden-section").zcScrollPane();
SectionHandler.updateIconPanel()};this.registerThemeEvents=function(){var c=$("#zc-dem-preview-types").find("li.select").attr("devicetype");if("1"==c)c=new ThemeHandler(a),c.selectedThemeNumber=ThemeConstants.theme,c.selectedThemeColorNumber=ThemeConstants.themecolor,c.themeShowSections=ThemeConstants.themeshowsections,c.themeSectionAlign=ThemeConstants.themesectionalign,c.createThemeColorOptions(c.selectedThemeNumber,c.selectedThemeColorNumber),c.addWindowListener(),$(".themes-selec").removeClass("selected"),
$("#zc-dem-appthemes").find("div[themeId\x3d"+c.selectedThemeNumber+"]").addClass("selected");else if("2"==c||"3"==c){$("#andRoidDeviceTheme").addClass("hide");$("#iosDeviceTheme").removeClass("hide");var d=1;$("#allDeviceLayout").find(".themes-selec").off("click").on("click",function(){var b=$(this).attr("layouttype");$("#allDeviceLayout").find(".themes-selec").removeClass("selected");$("#deviceLayout"+b).addClass("selected");$.ajax({url:a.APP.getURL()+"/themeSetting/saveMappLayoutConfigProps",type:"POST",
data:"device\x3d"+a.deviceType+"\x26layout\x3d"+b+"\x26zccpn\x3d"+a.csrfToken,beforeSend:function(){showPreloader()},success:function(b,c,d){showStatus(i18n.saved);void 0!==b&&"error"!=b&&(a.updateMobileJSON(b),$Device.init(a),Preview.All.initialize())}})});c=$("#toggleDeviceNavigation");var g=$(c).parent(),h=$(g).attr("platform"),k=$(g).attr("themeAttr");$(c).zcToggle({onConfig:{label:ZCSwitchLabel.YES,callback:function(){b.saveDeviceTheme(k,1,h,a.deviceType)}},offConfig:{label:ZCSwitchLabel.NO,
callback:function(){b.saveDeviceTheme(k,3,h,a.deviceType)}}});$('select[elName\x3d"DeviceTheme"]').off("change").on("change",function(){var c=$(this).attr("themeAttr"),d=$(this).find(":selected").attr("value"),e=$(this).closest("li").attr("platform");b.saveDeviceTheme(c,d,e,a.deviceType)});$(".zc-dem-mobile-theme-color").find("li").off("click").on("click",function(){$(this).siblings("li").removeClass("selected");$(this).addClass("selected");var c=$(this).attr("value"),e=$(this).parent().attr("themeAttr");
b.saveDeviceTheme(e,c,d,a.deviceType)});$(".zc-dem-os-select-tab").find("li").off("click").on("click",function(){$(".zc-dem-os-select-tab").find("li").removeClass("selected");$(this).addClass("selected");var a=$(this).attr("platform");"platformIos"==a?($("#andRoidDeviceTheme").addClass("hide"),$("#iosDeviceTheme").removeClass("hide"),d=1):"platformAndroid"==a&&($("#andRoidDeviceTheme").removeClass("hide"),$("#iosDeviceTheme").addClass("hide"),d=2)})}};this.saveDeviceTheme=function(b,c,d,h){var e=
this;$.ajax({url:a.APP.getURL()+"/saveDeviceTheme",data:{device:h,platform:d,themeAttr:b,themeAttrVal:c,deviceType:h,zccpn:a.csrfToken},type:"POST",cache:!0,beforeSend:function(){showPreloader();1!==a.deviceType&&Device.LoadingBar.showFullScreen()},success:function(d,f,g){showStatus(i18n.saved);if(2==parseInt(b))switch($(".zc-dem-device-bg").removeClass(function(a,b){return(b.match(/(^|\s)zc-dem-theme-fontface-\S+/g)||[]).join(" ")}),parseInt(c)){case 1:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-sanfrancisco");
break;case 2:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-Arimo");break;case 3:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-avenir");break;case 4:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-din");break;case 5:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-droid-sans");break;case 6:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-lato");break;case 7:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-museo");break;case 8:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-roboto");
break;case 9:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-segoe");break;case 10:$(".zc-dem-device-bg").addClass("zc-dem-theme-fontface-proxima-nova")}else 3==parseInt(b)?($(".zc-dem-device-bg").removeClass(function(a,b){return(b.match(/(^|\s)zc-dem-theme-fontsize-\S+/g)||[]).join(" ")}),$(".zc-dem-device-bg").addClass("zc-dem-theme-fontsize-"+parseInt(c))):($('link[href*\x3d"mobile-themes"]').remove(),4==parseInt(b)&&2==parseInt(c)?($(".zc-dem-device-navigation").css("display","none"),$("[deviceel\x3d'wrapper']").addClass("zc-dem-solid-header")):
($(".zc-dem-device-navigation").css("display","block"),$("#toggleDeviceNavigation").data("zctg").status()?$("[deviceel\x3d'wrapper']").addClass("zc-dem-solid-header"):$("[deviceel\x3d'wrapper']").removeClass("zc-dem-solid-header")));if(1!==parseInt(a.deviceType)){d=$(d.path);var h=[];f=[];var k=0;for(g=d.length;k<g;k++){var l=$(d[k]).attr("href");"undefined"!==typeof l&&h.push(l)}k=0;for(g=h.length;k<g;k++)f.push(new Promise(function(a,b){e.appendStylesheet(h[k],function(){a()})}));Promise.all(f).then(function(a){Device.LoadingBar.hideFullScreen()})}}})};
var c=void 0,d=void 0;this.appendRightPanel=function(e){$(".zc-dem-right-popup").remove();$(".zc-dem-outer-container").append(e);e=$("#zc-app-prop-pane");$(e).iSlide({afterClose:function(a){"undefined"!==typeof SectionHandler&&SectionHandler.updateChangesInPreview();"undefined"!==typeof ThemeHandler&&(new ThemeHandler).destroyWindowListener();void 0!=CustomCSSEditor.codeMirror&&(CustomCSSEditor.codeMirror=void 0);void 0!=c&&(c=void 0);void 0!=d&&(d=void 0);$(a.slider).remove()}});$("#show_css_slider").off("click").on("click",
function(){b.appendCSSRightPanel()});$("#zcCustomCSS #isCustomCSS").on("change",function(){b.setButtonStatus($("#zcCustomCSS #isCustomCSS").prop("checked"))});$("#zcCustomCSS [name\x3dsaveCusomCSS]").off("click").on("click",function(){var b={};b.customCSSContent=CustomCSSEditor.codeMirror.getValue();b.isCustomCSSEnabled=$("#zcCustomCSS #isCustomCSS").prop("checked");b[a.csrfParam]=a.csrfToken;$.ajax({url:a.APP.getCustomCSSURL(),type:"POST",data:b,beforeSend:function(){$("#zcCustomCSS [name\x3dsaveCusomCSS]").showTextLoading(i18n.saving)},
success:function(a,d,e){setTimeout(function(){$("#zcCustomCSS [name\x3dsaveCusomCSS]").hideTextLoading(i18n.save);CustomCSSEditor.customCSSContent=b.customCSSContent;c=b.isCustomCSSEnabled;$("#zcCustomCSS #isCustomCSS").prop("checked")||($("#zcCustomCSS [name\x3dsaveCusomCSS]").attr("disabled","disabled"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").attr("disabled","disabled"),$("#zcCustomCSS [name\x3dsaveCusomCSS]").addClass("zc-dem-disabledbtn"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").addClass("zc-dem-disabledbtn"))},
700)}})});$("#zcCustomCSS [name\x3dcancelCusomCSS]").off("click").on("click",function(){$("#zcCustomCSS .zc-dem-right-close.flt-right").trigger("click")});var f=!1;$("#zcCustomCSS").off("keydown").on("keydown",function(a){var b=a.keyCode?a.keyCode:a.which;f=a.ctrlKey||a.metaKey;83==b&&f&&(a.preventDefault(),$("#zcCustomCSS [name\x3dsaveCusomCSS]").trigger("click"))});$("#zcCustomCSS").off("keyup").on("keyup",function(a){f&&(f=!1)})};this.appendCSSRightPanel=function(){$("#zcCustomCSS").addClass("active");
var e=$("#zcCustomCSS");if(void 0==c){var f=new ThemeHandler(a);f.isCustomCSSEnabled=ThemeConstants.isCustomCSSEnabled;f.isCustomCSSEnabled=""==f.isCustomCSSEnabled.toString()?null:JSON.parse(f.isCustomCSSEnabled);null==f.isCustomCSSEnabled||f.isCustomCSSEnabled?(c=!0,$('[name\x3d"isCustomCSSEnabled"]').prop("checked","checked")):(c=!1,$('[name\x3d"isCustomCSSEnabled"]').removeAttr("checked"))}d=$(e).iSlide({closeOnEsc:!0,closeOnAnyClick:!0,afterOpen:function(){void 0!=CustomCSSEditor.codeMirror?
CustomCSSEditor.codeMirror.setValue(CustomCSSEditor.customCSSContent):(CustomCSSEditor.initEditorProperties(),b.setButtonStatus(c))},beforeClose:function(){CustomCSSEditor.customCSSContent!=CustomCSSEditor.codeMirror.getValue()?iConfirm({title:i18n["zc.workflowbuilder.unsavedchanges"],message:i18n["zc.workflowbuilder.changeslost"],button:ZCButton.CLOSE,cbutton:ZCButton.CANCEL,success:function(){d.closeModal()}}):d.closeModal()},afterClose:function(a){$("#zcCustomCSS").removeClass("active");void 0!=
$("#zcCustomCSS .zc-dem-code-disabled")&&$("#zcCustomCSS .zc-dem-code-disabled").remove();c?($("#zcCustomCSS #isCustomCSS").prop("checked")||CustomCSSEditor.codeMirror.setOption("readOnly",!1),$("#zcCustomCSS #isCustomCSS").prop("checked","checked")):(0==$("#zcCustomCSS #customCSSContentDiv .zc-dem-code-disabled").length&&$("#zcCustomCSS #customCSSContentDiv").append("\x3cdiv class\x3d'zc-dem-code-disabled'\x3e\x3c/div\x3e"),$("#customCSSContentDiv").addClass("zc-dem-editor-disable"),$('#isCustomCSS[name\x3d"isCustomCSSEnabled"]').prop("checked",
!1),$("#zcCustomCSS [name\x3dsaveCusomCSS]").attr("disabled","disabled"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").attr("disabled","disabled"),$("#zcCustomCSS [name\x3dsaveCusomCSS]").addClass("zc-dem-disabledbtn"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").addClass("zc-dem-disabledbtn"))}})};this.setPlaceholder=function(a){b.clearPlaceholder(a);var c=a.state.placeholder=document.createElement("pre");c.style.cssText="height: 0; overflow: visible";c.style.direction=a.getOption("direction");c.className=
"CodeMirror-placeholder CodeMirror-line-like";var d=a.getOption("placeholder");"string"==typeof d&&(d=document.createTextNode(d));c.appendChild(d);a.display.lineSpace.insertBefore(c,a.display.lineSpace.firstChild)};this.clearPlaceholder=function(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)};CustomCSSEditor={initEditorProperties:function(){function a(a){return 1===a.lineCount()&&""===a.getLine(0)}CustomCSSEditor.codeMirrorSource=
$("#zc-custom-css-content")[0];void 0==CustomCSSEditor.codeMirror&&CustomCSSEditor.loadCodeMirror();CustomCSSEditor.customCSSContent=CustomCSSEditor.codeMirror.getValue();a(CustomCSSEditor.codeMirror)&&b.setPlaceholder(CustomCSSEditor.codeMirror);CustomCSSEditor.codeMirror.on("click",function(){b.clearPlaceholder(CustomCSSEditor.codeMirror)});CustomCSSEditor.codeMirror.on("focusout",function(){a(CustomCSSEditor.codeMirror)&&b.setPlaceholder(a(CustomCSSEditor.codeMirror))});CustomCSSEditor.codeMirror.on("change",
function(){a(CustomCSSEditor.codeMirror)?b.setPlaceholder(CustomCSSEditor.codeMirror):b.clearPlaceholder(CustomCSSEditor.codeMirror)})},loadCodeMirror:function(){var a=!1;$("#zcCustomCSS #isCustomCSS").prop("checked")||(a=!0);CustomCSSEditor.codeMirror=CodeMirror.fromTextArea(CustomCSSEditor.codeMirrorSource,{lineNumbers:!0,mode:"text/css",htmlMode:!0,indentUnit:4,matchBrackets:!0,indentWithTabs:!0,lineWrapping:!0,autofocus:!0,tabMode:"shift",readOnly:a,styleActiveLine:{nonEmpty:!0},smartIndent:!0})}};
this.setButtonStatus=function(a){$("#zcCustomCSS #isCustomCSS").prop("checked")?($(".zc-dem-code-disabled").remove(),CustomCSSEditor.codeMirror.setOption("readOnly",!1),$("#customCSSContentDiv").removeClass("zc-dem-editor-disable"),$(".zc-dem-code-content").removeAttr("disabled"),$("#zcCustomCSS [name\x3dsaveCusomCSS]").removeClass("zc-dem-disabledbtn"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").removeClass("zc-dem-disabledbtn"),$("#zcCustomCSS [name\x3dsaveCusomCSS]").removeAttr("disabled"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").removeAttr("disabled"),
CustomCSSEditor.codeMirror.focus(),CustomCSSEditor.codeMirror.setCursor(CustomCSSEditor.codeMirror.lineCount(),0)):($(".zc-dem-code-content").attr("disabled","disabled"),0==$("#customCSSContentDiv .zc-dem-code-disabled").length&&$("#customCSSContentDiv").append("\x3cdiv class\x3d'zc-dem-code-disabled'\x3e\x3c/div\x3e"),$("#customCSSContentDiv").addClass("zc-dem-editor-disable"),c||($("#zcCustomCSS [name\x3dsaveCusomCSS]").attr("disabled","disabled"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").attr("disabled",
"disabled"),$("#zcCustomCSS [name\x3dsaveCusomCSS]").addClass("zc-dem-disabledbtn"),$("#zcCustomCSS [name\x3dcancelCusomCSS]").addClass("zc-dem-disabledbtn"),CustomCSSEditor.codeMirror.setOption("readOnly",!1)),CustomCSSEditor.codeMirror.setOption("readOnly",!0),$(".CodeMirror-activeline-background").removeClass("CodeMirror-activeline-background"))};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.GLOBAL)}}
function WebAppearance(a){ZCAppearance.call(this,a);$(".zc-dem-design").addClass("selected").siblings().removeClass("selected");this.initAppearance=function(){this.adjustLayout();var b=void 0==a.CURRENT_COMPONENT||a.CURRENT_COMPONENT.getType()!=Constants.FORM&&a.CURRENT_COMPONENT.getType()!=Constants.REPORT&&a.CURRENT_COMPONENT.getType()!=Constants.PAGE?a.APP:a.CURRENT_COMPONENT;setLiveAppAccessURL(b);$("#designPreviewFrame").attr("src",b.getLivePreviewURL(void 0==a.CURRENT_COMPONENT));a.refreshApp&&
(a.refreshApp=!1,WebAppearance.hardReloadFrame(a))};this.adjustLayout=function(){var a=$(".zc-dem-left-column").height()-$(".zc-dem-browser-tab").outerHeight();$("#designPreviewFrame").css("height",a)};this.ajaxInit=function(){this.init()}}WebAppearance.prototype=Object.create(ZCAppearance.prototype);WebAppearance.prototype.constructor=WebAppearance;
WebAppearance.reloadFrameCSS=function(a,b,c){$("#designPreviewFrame")[0].contentWindow.postMessage({action:"reloadFrameCSS",themeMeta:a,cdnthemePath:c},b)};WebAppearance.clearFrame=function(a){$("#designPreviewFrame").attr("src","")};WebAppearance.hardReloadFrame=function(a){$("#designPreviewFrame")[0].contentWindow.postMessage({action:"hardReload"},a.previewServerPrefix)};
WebAppearance.reloadFrame=function(a){""==$("#designPreviewFrame").attr("src")||a.refreshApp?(new WebAppearance(a)).init():WebAppearance.navigateAppearance(a,{type:a.componentType,compName:a.compLinkName})};WebAppearance.hashLoadFrame=function(a,b){$("#designPreviewFrame")[0].contentWindow.postMessage({action:"reload",hash:b},a.previewServerPrefix)};
WebAppearance.navigateAppearance=function(a,b){var c=parseInt(b.type);c==Constants.WORKFLOW||c==Constants.APPROVALWF||c==Constants.CUSTOMFUNCTION||c==Constants.BLUEPRINT?(a=a.updateComponent(b.type,b.compName),ZCHistory.historyPush(a.getListURL()),appbuilder.updateModule(Modules.WORKFLOWAPPEARANCE)):(WebAppearance.hashLoadFrame(a,(1==c?"#Form":2==c?"#Report":3==c?"#Page":"")+":"+b.compName),WebAppearance.showAppearance(a,b))};
WebAppearance.showAppearance=function(a,b){var c=a.updateComponent(b.type,b.compName),d;ZCHistory.historyPush(c.getAppearanceURL());$.ajax({url:c.getWebPropertyURL(),type:"GET",success:function(a,c,g){$("#appearance-content").html(a);switch(parseInt(b.type)){case 1:d=Modules.WEBFORMAPPEARANCE;break;case 2:d=Modules.WEBREPORTAPPEARANCE;break;case 3:d=Modules.WEBPAGEAPPEARANCE}appbuilder.updateModule(d)}});AccordionMenu.updateName(a,b);setLiveAppAccessURL(c)};
WebAppearance.showBuilder=function(a,b,c){c&&AccordionMenu.reinit(a);2==b.type&&$("#appbuilder-main-head").addClass("zc-dem-report-header");c=a.updateComponent(b.type,b.compName,b.formLinkName);var d;ZCHistory.historyPush(c.getBuilderURL(),!0);var e=!1;$.ajax({url:c.getBuilderURL()+"?xajazc\x3dtrue",type:"GET",beforeSend:function(){e=!0;var a=$("#appbuilder-popup");$(a).html("");$(a).append(ComponentBuilder.getTemplateWrapper());var c=$("#builder-template");ComponentBuilder.setupBuilder();switch(parseInt(b.type)){case 1:$(".zc-builder-icon-hdr").attr("class",
"zc-builder-icon-hdr zc-form-icon");"true"==b.isThirdPartyModule?$(c).append(FormCompBuilder.getTPTemplate()):$(c).append(FormCompBuilder.getTemplate());break;case 2:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em");$(c).append(ReportCompBuilder.getTemplate());break;case 3:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon");$(c).append(PageCompBuilder.getTemplate());break;case 4:case 5:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon");
$(c).append(WorkflowCompBuilder.getTemplate());break;case 7:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon");$(c).append(FunctionCompBuilder.getTemplate());break;case 8:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon"),$(c).append(BlueprintCompBuilder.getTemplate())}$(a).append(ComponentBuilder.getContentWrapper())},success:function(a,c,h){c=$("#appbuilder-popup");$(c).hasClass("active")&&!e?$(c).deActive():e=!1;$(c).find("#builder-cont").html(a);
hideLoading();a=parseInt(b.type);switch(a){case 1:d=Modules.FORMBUILDER;break;case 2:d=Modules.REPORTBUILDER;break;case 3:d=Modules.PAGEBUILDER;break;case 4:d=Modules.WORKFLOWBUILDER;break;case 5:d=Modules.APPROVALBUILDER;break;case 7:d=Modules.FUNCTIONBUILDER;break;case 8:d=Modules.BLUEPRINTBUILDER}$("#builder-cont").show();appbuilder.updateModule(d);a!==Constants.REPORT||reportProps.isZohoReport||(ComponentBuilder.fadeOutTemplate(800),a=$("#new-component-popup"),$(a).hasClass("active")&&$(a).deActive())}});
AccordionMenu.updateName(a,b)};WebAppearance.showFieldMapping=function(a,b){"quickview"==$("#deviceTemplate").find('a[class*\x3d"selected"]').attr("tab")?(a=$("#quickview").find("[elname\x3dviewtemplatelayout] i.selected").parent(),0==a.length&&(a=$("#quickview").find("li[elname\x3dviewtemplatelayout].selected"))):a=$("#detailview").find("[elname\x3ddetailviewlayouts].selected");$(a).trigger("click")};
function WebFormAppearance(a){WebAppearance.call(this,a);this.componentName="form";this.initAppearance=function(b){this.adjustLayout();$("#appearance-header-content").show();setLiveAppAccessURL(a.FORM);b||$("#designPreviewFrame").attr("src",a.FORM.getLivePreviewURL(!0))};this.bindPropertyEvents=function(){$(".zc-dem-right-sidebar").addClass("linear");$("#zc-dem-form-props").find(".zc-dem-alignment-type:not(.zcskipOpt)").off("click").on("click",function(){$(".zc-dem-alignment-type."+$(this).attr("propertyClass")).removeClass("selected");
$(this).addClass("selected");var b={};b[a.csrfParam]=a.csrfToken;var c=a.FORM.getBaseURL(),d=$(this).hasClass("collayout");d?(c+="/updateColLayout",b.colLayout=$(this).attr("colLayout")):(c+="/updateLabelAlignment",b.labelAlignment=$(this).attr("labelAlignment"));$.ajax({url:c,type:"POST",data:b,beforeSend:function(){showPreloader()},success:function(b,c,g){showStatus(i18n.saved);$(".zc-dem-layoutbuilder").hasClass("visible")||d?ZCEffects.showLayoutBuilder({title:i18n.poptitle,response:b,callback:function(){delete window.FB;
(new Form).initializeBuilder(!0,a)},closeCallBack:function(){delete window.FB;WebAppearance.hashLoadFrame(a)}}):setTimeout(function(){WebAppearance.hashLoadFrame(a)},800)}})})};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();this.initKeyboardShortcuts()}}WebFormAppearance.prototype=Object.create(WebAppearance.prototype);WebFormAppearance.prototype.constructor=WebFormAppearance;
function WebReportAppearance(a){WebAppearance.call(this,a);this.initAppearance=function(b){this.adjustLayout();$("#appearance-header-content").show();setLiveAppAccessURL(a.REPORT);b||$("#designPreviewFrame").attr("src",a.REPORT.getLivePreviewURL(!0))};this.bindPropertyEvents=function(){(new QuickViewController(a)).initWithControllerInit();(new DetailViewController(a)).init();(new zcReportController(a)).init()};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();
this.initKeyboardShortcuts()}}WebReportAppearance.prototype=Object.create(WebAppearance.prototype);WebReportAppearance.prototype.constructor=WebReportAppearance;
function WebPageAppearance(a){WebAppearance.call(this,a);var b=this;this.initAppearance=function(b){this.adjustLayout();$("#appearance-header-content").show();$(".zc-pb-web").zcScrollPane();setLiveAppAccessURL(a.PAGE);b||$("#designPreviewFrame").attr("src",a.PAGE.getLivePreviewURL(!0));appbuilder.bootConfig.useCompression&&0==appbuilder.isPageBuilderJsLoaded&&(b=new Requires(Modules.PAGEBUILDER),require(b.get(),b.getPromise(function(){})))};this.updateDeviceConfig=function(b,d){style={};layout={};
margin=width="";"fixed"==b?(width=$("#zcp-setWidth").val(),5120<width?(width="5120px",$("#zcp-setWidth").val(5120)):770>width?(width="770px",$("#zcp-setWidth").val(770)):width+="px",layout.style="width:"+width+";margin:0 auto;padding:0;padding-top:"+$("#zcp-setfixedMargin-top").val()+"px;padding-bottom:"+$("#zcp-setfixedMargin-bottom").val()+"px;"):(tmp=["right","top","bottom","left"],tmpstr="",tmp.forEach(function(a){tmpstr=tmpstr+"padding-"+a+":"+$("#zcp-setMargin-"+a).val()+"px;"}),layout.style=
tmpstr);layout.design=b;layout.displayType=d;style.layout=layout;b=a.PAGE.getBaseURL()+"/updateDeviceConfig";d={};d[a.csrfParam]=a.csrfToken;d.deviceType=a.deviceType;d.style=JSON.stringify(style);$.ajax({url:b,type:"POST",data:d,beforeSend:function(){showPreloader()},success:function(b,c,d){$("#designPreviewFrame")[0].contentWindow.postMessage(style,a.previewServerPrefix);showStatus(i18n.saved)}})};this.bindPropertyEvents=function(){$("#zcp-web-display-card").on("change",function(){b.updateDeviceConfig("fluid",
$("#zcp-web-display-card").find("input:checked").attr("display"))});var a;$(".zcp-setmargin-value").off("change").on("change",function(){a=a?clearTimeout(a):setTimeout(function(){elem=$(".zcp-label-placement.selected");b.updateDeviceConfig("fluid",$("#zcp-web-display-card").find("input:checked").attr("display"))},1E3)})};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();this.initKeyboardShortcuts()}}WebPageAppearance.prototype=Object.create(WebAppearance.prototype);
WebPageAppearance.prototype.constructor=WebPageAppearance;
function MobileAppearance(a){ZCAppearance.call(this,a);$(".zc-dem-design").addClass("selected").siblings().removeClass("selected");$(".zc-dem-sliding-header .zc-dem-profile-pic").append("\x3cimg src\x3d'"+a.userProfile+"'\x3e");this.initAppearance=function(){if("undefined"!==typeof mobileCompsJSON){"string"===typeof mobileCompsJSON&&(mobileCompsJSON=JSON.parse(mobileCompsJSON));var b=mobileCompsJSON.AppLayout.sections[0].components[0],c={};switch(b.comp_type){case 2:c.type=1;break;case 3:case 5:c.type=
2;break;case 4:c.type=3}c.compName=b.link_name;MobileAppearance.showAppearance(a,c)}};this.ajaxInit=function(){this.init()};this.bindComponentChange=function(){$('[deviceel\x3d"wrapper"]').off("click",'[navigate\x3d"true"]');$('[deviceel\x3d"wrapper"]').on("click",'[navigate\x3d"true"]',function(b){var c={};switch($(this).attr("type")){case "form":c.type=1;break;case "report":case "calendar":case "view":case "kanban":case "timeline":case "spreadsheet":case "map":case "summary":case "pivotchart":case "pivottable":c.type=
2;break;case "page":c.type=3}c.compName=$(this).attr("link_name");switch($Device.layoutType){case Constants.SLIDING_PANE:Device.LoadingBar.show();Device.SlidingPane.toggle();break;case Constants.TAB_BAR:Device.LoadingBar.show();break;case Constants.BOTTOM_BAR:case Constants.COLUMN_1:case Constants.COLUMN_CARD_1:Device.LoadingBar.rightAnimation();break;default:Device.LoadingBar.show()}setTimeout(function(){MobileAppearance.showAppearance(a,c)},500)});$(".zc-dem-overlay-content").off("click").on("click",
function(b){$Device.openBuilder&&(b=b.target.getAttribute("deviceel"),3===$Device.compType&&null===b&&$Device.reportType!==Constants.VIEW_PIVOT_TABLE&&$Device.reportType!==Constants.VIEW_PIVOT_CHART?($Device.recordLayoutType==Constants.QUICK_VIEW?(b=$("#layout").find("[elname\x3dviewtemplatelayout] i.selected").parent(),0==b.length&&(b=$("#layout").find("li[elname\x3dviewtemplatelayout].selected"))):b=$("#detailview").find("[elname\x3ddetailviewlayouts].selected"),$(b).trigger("click")):(b={},b.type=
a.componentType,b.compName=a.compLinkName,MobileAppearance.showBuilder(a,b,!1),$(".zc-dem-customize-fixed a").hide()))});$('[deviceel\x3d"wrapper"]').on("click",'[section\x3d"true"]',function(a){$('[section\x3d"true"]').removeClass("selected");$(this).addClass("selected");id=$(this).attr("id");$(".zc-dem-section-components").find("ul").hide();$(".zc-dem-section-components").find("ul[elName\x3d"+id+"]").show();$(".zc-dem-section-components").find("ul[elName\x3d"+id+"] ul").show()})};this.bindComponentChange()}
MobileAppearance.prototype=Object.create(ZCAppearance.prototype);MobileAppearance.prototype.constructor=MobileAppearance;MobileAppearance.reLoadAppearance=function(a,b){$Device.mainContent=b.MainContent;$Device.appLayout=a.AppLayout;Preview.All.initialize()};
MobileAppearance.showBuilder=function(a,b,c){var d=a.updateComponent(b.type,b.compName);ZCHistory.historyPush(d.getBuilderURL());$.ajax({url:d.getBuilderURL()+"?xajazc\x3dtrue",type:"GET",beforeSend:function(){if(!c){isBuilderInit=!0;var a=$("#appbuilder-popup");$(a).append('\x3cdiv id\x3d"builder-template" style\x3d"position:absolute; z-index:1; padding: 50px 0 0; width: 100%; height: 100%;"\x3e\x3c/div\x3e');var d=$("#builder-template");ComponentBuilder.setupBuilder();switch(parseInt(b.type)){case 1:$(".zc-builder-icon-hdr").attr("class",
"zc-builder-icon-hdr zc-form-icon");"true"==$Device.mainContent.isThirdPartyForm?$(d).append(FormCompBuilder.getTPTemplate()):$(d).append(FormCompBuilder.getTemplate());break;case 2:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em");$(d).append(ReportCompBuilder.getTemplate());break;case 3:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon");$(d).append(PageCompBuilder.getTemplate());break;case 4:case 5:$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon")}$(a).append('\x3cdiv id\x3d"builder-cont" style\x3d"display:none;width:100%;height:100%;"\x3e\x3c/div\x3e')}},
success:function(a,c,d){c=$("#appbuilder-popup");$(c).hasClass("active")&&!isBuilderInit?$(c).deActive():isBuilderInit=!1;$(c).find("#builder-cont").html(a);a=parseInt(b.type);switch(a){case 1:module=Modules.FORMBUILDER;break;case 2:module=Modules.REPORTBUILDER;break;case 3:module=Modules.PAGEBUILDER}$("#builder-cont").show();appbuilder.updateModule(module);a!=Constants.FORM&&ComponentBuilder.fadeOutTemplate(800);a===Constants.REPORT&&(a=$("#new-component-popup"),$(a).hasClass("active")&&$(a).deActive())}});
AccordionMenu.updateName(a,b)};
MobileAppearance.reloadFrame=function(a,b,c){c=a.updateComponent(b.type,b.compName);var d;ZCHistory.historyPush(c.getAppearanceURL());$.ajax({url:c.getMobilePropertyURL(),type:"GET",success:function(c,f,g){$("#appearance-content").html(c);a.updateMobileJSON($.extend(variable.mobileContent,variable.mobileCompsJSON));switch(parseInt(b.type)){case 1:d=Modules.MOBILEFORMAPPEARANCE;break;case 2:d=Modules.MOBILEREPORTAPPEARANCE;break;case 3:d=Modules.MOBILEPAGEAPPEARANCE}appbuilder.updateModule(d)}});AccordionMenu.updateName(a,
b);setLiveAppAccessURL(c);(new MobileAppearance(a)).init("reload")};
MobileAppearance.showAppearance=function(a,b){var c=a.updateComponent(b.type,b.compName),d;ZCHistory.historyPush(c.getAppearanceURL());$.ajax({url:c.getMobilePropertyURL(),type:"GET",success:function(c,f,g){$("#appearance-content").html(c);a.updateMobileJSON(variable);switch(parseInt(b.type)){case 1:d=Modules.MOBILEFORMAPPEARANCE;break;case 2:d=Modules.MOBILEREPORTAPPEARANCE;break;case 3:d=Modules.MOBILEPAGEAPPEARANCE}appbuilder.updateModule(d)}});AccordionMenu.updateName(a,b);setLiveAppAccessURL(c)};
function MobilePageAppearance(a){var b=this;MobileAppearance.call(this,a);this.initAppearance=function(b){$("#appearance-header-content").show();setLiveAppAccessURL(a.PAGE);$Device.init(a);Preview.All.initialize()};this.bindPropertyEvents=function(){$(".zc-dem-right-sidebar [liveStyle]").off("click").on("click",function(){$(this).hasClass("selected")||($("[liveStyle]").removeClass("selected"),$(this).addClass("selected"),$resize.adjustHeightForElems("resize"),b.updateDeviceConfig())});$("[displayFor]").on("change",
function(){$resize.adjustHeightForElems();b.updateDeviceConfig()});$("#zcp-orientation-lock").off("change").on("change",b.updateDeviceConfig)};this.updateDeviceConfig=function(){style={};layout={};design=$("[liveStyle].selected").attr("livestyle");display=$("[displayFor]").find("input:checked").attr("display");layout.design=design;layout.displayType=display;layout.forcedOrientation=$("#zcp-orientation-lock").is(":checked");style.layout=layout;var b=a.PAGE.getBaseURL()+"/updateDeviceConfig",d={};d[a.csrfParam]=
a.csrfToken;d.deviceType=a.deviceType;d.style=JSON.stringify(style);$.ajax({url:b,type:"POST",data:d,beforeSend:function(){showPreloader()},success:function(a,b,c){"actual"==design?$("#zppagespreview").attr("elemcontainer","fixed"):$("#zppagespreview").attr("elemcontainer","fullwidth");$("#zppagespreview").attr("displaytype",display);(a=$("#zppagespreview").attr("bgColor"))||(a="card"==$("#zppagespreview").attr("displaytype")?"#f2f4f5":"#ffffff");$(".zpcontent-wrapper").css("backgroundColor",a);$("#zppagespreview").css("backgroundColor",
a);showStatus(i18n.saved)}})};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();this.initKeyboardShortcuts()}}
function MobileReportAppearance(a){MobileAppearance.call(this,a);this.initAppearance=function(b){$("#appearance-header-content").show();setLiveAppAccessURL(a.REPORT);$Device.init(a);Preview.All.initialize()};this.bindPropertyEvents=function(){(new QuickViewController(a)).initWithControllerInit();(new DetailViewController(a)).init();(new zcReportController(a)).init()};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();this.initKeyboardShortcuts()}}
MobileReportAppearance.prototype=Object.create(MobileAppearance.prototype);MobileReportAppearance.prototype.constructor=MobileReportAppearance;
function MobileFormAppearance(a){MobileAppearance.call(this,a);this.componentName="form";this.initAppearance=function(b){$("#appearance-header-content").show();setLiveAppAccessURL(a.FORM);$Device.init(a);Preview.All.initialize()};this.bindPropertyEvents=function(){$("#zc-dem-form-props").find(".zc-dem-main-list").off("click").on("click",function(){if(!$(this).hasClass("selected")){$(this).addClass("selected").siblings().removeClass("selected");var b=$(this).attr("value"),c=a.FORM.getBaseURL()+"/updateLayout",
d={};d[a.csrfParam]=a.csrfToken;d.deviceType=a.deviceType;d.layout=parseInt(b);$.ajax({url:c,data:d,type:"POST",beforeSend:function(){showPreloader();Device.LoadingBar.show()},success:function(a,c,d){Device.LoadingBar.hide();showStatus(i18n.saved);hideLoading();switch(parseInt(b)){case 2:$("div[deviceel\x3d'deviceContent'] ul:first").addClass("zc-dem-field-left-alignment").removeClass("zc-dem-field-right-alignment");break;case 3:$("div[deviceel\x3d'deviceContent'] ul:first").addClass("zc-dem-field-right-alignment").removeClass("zc-dem-field-left-alignment");
break;case 5:$("div[deviceel\x3d'deviceContent'] ul:first").addClass("zc-dem-field-right-alignment").removeClass("zc-dem-field-left-alignment")}}})}})};this.ajaxInit=function(a){this.preprocess();this.initAppearance(a);this.bindPropertyEvents();this.initKeyboardShortcuts()}}MobileFormAppearance.prototype=Object.create(MobileAppearance.prototype);MobileFormAppearance.prototype.constructor=MobileFormAppearance;
function ApplicationWorkflow(a){ZCAppearance.call(this,a);a.updateComponent(Constants.WORKFLOW,"");setLiveAppAccessURL(a.APP);this.initAppearance=function(){$(".zc-dem-workflow").addClass("selected").siblings().removeClass("selected");$("#appearance-header-content").hide();AccordionMenu.updateStaticName(i18n["zc.appedit.quicklinks.workflow"])};this.bindEvents=function(){WorkflowBuilder.init(a);WorkflowBuilder.registerListEvents();WorkflowBuilder.blueprint=new BlueprintDashboard(WorkflowBuilder)};
this.ajaxInit=function(){this.preprocess();this.initAppearance();this.bindEvents();this.initKeyboardShortcuts()};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.WORKFLOWAPPEARANCE)};this.doDestroy=function(){WorkflowBuilder.resetDataTableSearch()}}ApplicationWorkflow.prototype=Object.create(ZCAppearance.prototype);ApplicationWorkflow.prototype.constructor=ApplicationWorkflow;
function ApplicationSettings(a){ZCAppearance.call(this,a);a.updateComponent(Constants.SETTINGS,"");setLiveAppAccessURL(a.APP);this.initAppearance=function(){$(".zc-dem-settings").addClass("selected").siblings().removeClass("selected");AccordionMenu.updateStaticName(i18n["zc.appedit.quicklinks.settings"]);$("#appearance-header-content").hide()};this.bindEvents=function(){Setting._init(a)};this.ajaxInit=function(){this.preprocess();this.initAppearance();this.bindEvents();this.initKeyboardShortcuts()};
this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.SETTINGS)}}ApplicationSettings.prototype=Object.create(ZCAppearance.prototype);ApplicationSettings.prototype.constructor=ApplicationSettings;function ComponentBuilder(a){a.isBuilder=!0;this.init=function(){this.setup();this.initKeyboardShortcuts();this.initAppearance();this.initBuilder();this.bind()};this.setup=function(){void 0!=a.CURRENT_MODULE&&a.CURRENT_MODULE.destroy();a.CURRENT_MODULE=this;var b=$("#new-component-popup");$(b).hasClass("active")&&$(b).deActive();ComponentBuilder.setupBuilder()};this.bind=function(){var a=this;$("#builder-close").off("click").on("click",function(){a.beforeClose()&&a.builderClose()})};this.builderClose=
function(){a.componentType==Constants.FORM&&void 0!=getFieldObject()&&$(getFieldObject().field).data().isDirty&&$("#saveForm").trigger("click");$("#appIcon").show();$("#creatorPlusHome").show();3!=a.componentType&&$(".zc-dem-left-navigation").show();$(".zc-dem-left-menu-container").attr("style","width: calc(100% - 68px)");$("#appbuilder-main-nav").find('div[elname\x3d"createnew"]').show();$("#appbuilder-main-nav").show();$("div[elname\x3dcreatenew]").show();$("#appbuilder-main").show();$("#appbuilder-main-head").removeClass("slideDown");
$("#appbuilder-footer").removeClass("fadeIn");$("#appbuilder-popup").removeClass("pivot-report-header");var b=HelpCard.checkGrpTaskLoaded();void 0!=b&&b&&setTimeout(function(){HelpCard.executeGrpTask()},800);if(a.componentType==Constants.WORKFLOW||a.componentType==Constants.APPROVALWF||a.componentType==Constants.CUSTOMFUNCTION||a.componentType==Constants.BLUEPRINT)if(a.componentType==Constants.WORKFLOW?(WorkflowBuilder.triggerActionName="",$("#appbuilder-popup").find("#wf-action-container").remove()):
a.componentType==Constants.APPROVALWF?$.approvalObj.processSave():$("#appbuilder-popup").find("#function-action-main-container").remove(),$("#appbuilder-main-head").removeClass("zc-dem-workflow-header"),!$("#workflowListContainer").length){$("#appbuilder-popup").deActive();$("#appbuilder-main-head").removeClass("zc-compbuilder-hdr").addClass("zc-compappearance-hdr");$("#appearance-workflow").trigger("click");return}2==a.componentType&&($("#appbuilder-main-head").removeClass("zc-dem-report-header"),
$(".zc-dem-notify-li").show(),$Templates.destroyBuilder(),reportProps.isZohoReport?($("#reportPropArea").remove(),ZCReportEditor.getXMLConfigDetails()):$("#deviceTemplate [tab\x3dquickview]").click());3==a.componentType?($("#appbuilder-popup").deActive(),$(".zc-dem-left-navigation").show(),$Builder.isSaved||($Builder.exitBuilderThroughDone=!0,$PBU.zcHandleSaveBeforeExit()),$("#zc-load-editor").remove(),$("#zc-switchtooldpage-comp").remove()):$("#appbuilder-popup").deActive();$("#appbuilder-main-head").removeClass("zc-compbuilder-hdr").addClass("zc-compappearance-hdr");
a.componentType==Constants.WORKFLOW||a.componentType==Constants.APPROVALWF||a.componentType==Constants.CUSTOMFUNCTION?this.deviceCheck(!0):"undefined"!=typeof a.isSchemaBuilder&&a.isSchemaBuilder?$("#zcRefresh").click():this.deviceCheck(!1);reportProps.isZohoReport||$("#appbuilder-popup").html("");reportProps.isZohoReport=!1};this.deviceCheck=function(b){switch(parseInt(a.deviceType)){case 1:WebAppearance.reloadFrame(a);break;case 2:case 3:var c={};c.type=a.componentType;c.compName=a.compLinkName;
"formbuilder"==variable.moduleName||"reportbuilder"==variable.moduleName||"pagebuilder"==variable.moduleName?MobileAppearance.reloadFrame(a,c,!1):b?WebAppearance.reloadFrame(a):MobileAppearance.reloadFrame(a,c,!0);$(".zc-dem-customize-fixed a").show()}};this.destroy=function(){this.preDestroy();this.doDestroy()};this.preDestroy=function(){Shortcut.popContext(!0)};this.doDestroy=function(){};this.beforeClose=function(){return!0}}
ComponentBuilder.setupBuilder=function(){$("#appbuilder-popup").addClass("zc-dem-compnt-builder").active();$("#appbuilder-main-head").addClass("zc-compbuilder-hdr").removeClass("zc-compappearance-hdr").removeClass("zc-newcomp-hdr");$("#appbuilder-main-head").css({display:"block"});$("#appbuilder-main-foot").css({display:"block"});$("#appbuilder-main-head").addClass("slideDown");$("#appbuilder-footer").addClass("fadeIn");$("#appbuilder-main").removeClass("zc-dem-schema-builder");$("#appbuilder-main-nav").css({display:"block"});
$(".zc-dem-left-navigation").css({display:"none"});$("#zc-blueprintComp-info").css({display:"none"});$("#appbuilder-main-nav").find('div[elname\x3d"createnew"]').attr("isBuilder",!0).css({display:"block"});$(".zc-dem-left-menu-container").attr("style","width: calc(100% - 350px)");$("#appIcon").hide();$("#creatorPlusHome").hide()};ComponentBuilder.getTemplateWrapper=function(){return'\x3cdiv id\x3d"builder-template" class\x3d"zc-dem-builder-template"\x3e\x3c/div\x3e'};
ComponentBuilder.getContentWrapper=function(){return'\x3cdiv id\x3d"builder-cont" class\x3d"zc-dem-builder-cont"\x3e\x3c/div\x3e'};
ComponentBuilder.getConnectionsList=function(a){function b(b){$.ajax({url:a,type:"GET",dataType:"json",beforeSend:showLoading(),success:function(a,b,c){hideLoading()}}).then(function(a){var e=0<a.connection.length?"zc-dem-authorize-connections zc-auth-connection":"zc-dem-authorize-connections zc-authorize-no-connection zc-auth-connection";a.componentName=variable.componentDisplayName;a.parentComponent=variable.appLinkName;a.isSuperAdmin=ZCGlobal.isSuperAdmin;a=Handlebars.compile(c)(a);void 0!=b?($(b).html(a),
ZCIntegAuthorize.bindAuthEvents(b,d)):iCustomizePopup({popupId:"connectionAuthPopup",parentClass:e,title:i18n["zc.live.connections.authorize.header"],buttons:[{name:ZCButton.DONE,type:ZCModalConstants.MODAL_SUBMIT}],body:a,afterOpen:function(a){ZCIntegAuthorize.bindAuthEvents(a,d);hideLoading()},success:function(a){return!0}})})}var c=$("#connectionAuthorization").html(),d={contextLoader:{showAuthLoader:showLoading,hideAuthLoader:function(a){hideLoading();void 0!=a&&ZCToast({message:i18n["zc.connections.authorizefailure.timeout"],
type:ZCType.ERROR,timeOut:2E3,containerClass:"zc-dem-custom-connection-toast",autoHide:!0}).show()},showAuthSuccess:function(a){void 0!=$zcmodal.getModal("authPopup")&&$zcmodal.getModal("authPopup").close();b($zcmodal.getModal("connectionAuthPopup").$container.find(".zc-dem-dialogue-content"))}},integContext:IntegrationContext.BUILDER};b()};ComponentBuilder.fadeOutTemplate=function(a){$("#builder-template").fadeOut(a)};
function FormCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$("#appbuilder-main-head").removeClass("zc-dem-report-header").removeClass("zc-dem-form-header").addClass("zc-dem-form-header");$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-form-icon")};this.initBuilder=function(){void 0!=objects&&void 0!=objects.subformScrollObj&&(objects.subformScrollObj={});FormEdit.registerEvents(a);$(".zc-dem-top-links .zc-dem-sub-menu #zc-rename-comp").attr("onclick","$(this).renameForm(event);");
$(".zc-dem-top-links .zc-dem-sub-menu #zc-dupl-comp").attr("onclick","$(this).duplicateForm(true);");$(".zc-dem-top-links .zc-dem-sub-menu #zc-del-comp").attr("onclick","$(this).deleteForm(event);");var b=document.querySelector("#zc-blueprintComp-info");if(b){let a="true"!=$("#formBuilder").attr("thirdparty")&&$("#formButtons").attr("formtype")==Constants.STATEFUL;b.parentElement.style.display=a?"":"none";$(b).off("click");a?(document.querySelector("#appbuilder-main-head").classList.add("zc-dem-blueprint"),
$(b).show(),$(b).on("click",function(){Builder.showBluePrintInfo()})):($(b).hide(),document.querySelector("#appbuilder-main-head").classList.remove("zc-dem-blueprint"))}$(".zc-dem-top-links .zc-dem-setting-li #zc-comp-settings").off("click").on("click",function(){Builder.getForm(!1,!0);void 0!=getFieldObject()&&$(getFieldObject().field).data().isDirty&&$("#saveForm").trigger("click")});b=HelpCard.checkGrpTaskLoaded();void 0!=b&&b&&HelpCard.executeGrpTask()};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.FORMBUILDER)};
this.doDestroy=function(){$("body").find("#formPropArea").remove();delete window.FB;FieldPropertiesHTMLPool.resetObjectPool()};this.ajaxInit=function(){this.doDestroy();this.init()}}FormCompBuilder.prototype=Object.create(ComponentBuilder.prototype);FormCompBuilder.prototype.constructor=FormCompBuilder;FormCompBuilder.getTemplate=function(){return'\x3cdiv\x3e\x3cdiv class\x3d"zc-dem-openbuilder-form-left"\x3e\x3cdiv class\x3d"zc-dem-formbar-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-form-right"\x3e\x3cdiv class\x3d"zc-dem-openbuilder-right-form1"\x3e\x3cdiv class\x3d"zc-dem-formbar-2"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-2"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-right-form2"\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
FormCompBuilder.getTPTemplate=function(){return'\x3cdiv\x3e\x3cdiv class\x3d"zc-dem-openbuilder-form-left-party"\x3e\x3cdiv class\x3d"zc-dem-formbar-1-party"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1-party"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1-party"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1-party"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-1-party"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-form-right"\x3e\x3cdiv class\x3d"zc-dem-openbuilder-right-form1"\x3e\x3cdiv class\x3d"zc-dem-formbar-2"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-2"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-right-form2"\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-formbar-3"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
function ReportCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-em")};this.initBuilder=function(){$(".zc-dem-top-links .zc-dem-sub-menu #zc-rename-comp").attr("onclick","$(this).renameReport(event);");$(".zc-dem-top-links .zc-dem-sub-menu #zc-dupl-comp").attr("onclick","$(this).duplicateReport(event);");$(".zc-dem-top-links .zc-dem-sub-menu #zc-del-comp").attr("onclick","$(this).deleteReport(event);");ReportBuilder.component=
a;reportProps.isZohoReport||ReportBuilder.regReportIcon();ReportBuilder.regReportActions();ReportBuilder.regNewColumnPropActions();ReportBuilder.regMapsPropertiesEvents();ReportBuilder.initConFrmtTemplates();reportProps.isZohoReport&&($("#appbuilder-main-head").removeClass("zc-dem-report-header"),$("#appbuilder-popup").addClass("pivot-report-header"),$("#appbuilder-popup").addClass("zc-dem-report-template-loading"),$("#appIcon").hide(),ReportBuilder.regPivotReportEvents(),ZCReportEditor.setReportIcon(),
$(".zc-dem-top-links .zc-dem-setting-li #zc-comp-settings").off("click").on("click",function(){$("#reportPropArea").iSlide()}))};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.REPORTBUILDER)};this.doDestroy=function(){};this.ajaxInit=function(){this.doDestroy();this.init()}}ReportCompBuilder.prototype=Object.create(ComponentBuilder.prototype);ReportCompBuilder.prototype.constructor=ReportCompBuilder;ReportCompBuilder.getTemplate=function(){return'\x3cdiv\x3e\x3cdiv class\x3d"zc-dem-openbuilder-report-left"\x3e\x3cdiv class\x3d"zc-dem-report-bar-2"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-2"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-bar-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-report-right"\x3e\x3cdiv class\x3d"zc-dem-report-right-content"\x3e\x3cdiv class\x3d"zc-dem-report-right-content-bar"\x3e\x3cdiv class\x3d"zc-dem-report-right-content-bar2"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-report-right-content-bar1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
function PageCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon")};this.initBuilder=function(){$j=jQuery;var b=function(){0!==$("[pagebuilder\x3d'intermediate']").length?($("#zc-dem-container").append($("#zctemplate-dialog")),$("#zc-dem-container").append($("#zcFreezeEditLayerWithoutBg")),$(".zc-dem-top-links .zc-dem-notify-li").css({display:"none"}),$(".zc-dem-top-links .zc-dem-sub-menu #zc-del-comp").attr("onclick",
"$(this).deletePage(event);"),$PB.initBuilder(a)):0===$("[pagebuilder\x3d'intermediate']").length&&($("#zc-dem-container").append($("#zctemplate-dialog")),$("#zc-dem-container").append($("#zcFreezeEditLayerWithoutBg")),$(".zc-dem-top-links .zc-dem-notify-li").css({display:"none"}),$(".zc-dem-top-links .zc-dem-sub-menu #zc-rename-comp").attr("onclick","pageSetting.renamePage(event);"),$(".zc-dem-top-links .zc-dem-sub-menu #zc-dupl-comp").attr("onclick","pageSetting.duplicatePage(event);"),$(".zc-dem-top-links .zc-dem-sub-menu #zc-del-comp").attr("onclick",
"$(this).deletePage(event);"),window.PageUrls=new PageBuilderUrls(BuilderConstants,null),"undefined"===typeof $j&&($j=jQuery),$Builder.initTemplateBuilder(),$PB.initBuilder(a),PageBuilder.initPageBuilder(),useCompression?"":$(".zc-dem-top-links .zc-dem-setting-li #zc-comp-settings").off("click").on("click",pageSetting.showPageSetting),$(".zc-dem-top-links .zc-dem-setting-li #zc-comp-settings").off("click").on("click",pageSetting.showPageSetting),ComponentBuilder.fadeOutTemplate(800),useCompression?
($resize.adjustHeightForElems("resize"),$EI.requireJsHandling("common")):($PBU.defaultSelection(),hideLoading()))},c=function(){var a={name:"pagesBaseContainer",callback:b,target:$j("#page-builder-holder"),datasource:{pageDisplayName:BuilderConstants.pageDisplayName,pageLinkName:BuilderConstants.pageLinkName,isComponentTitleRequired:BuilderConstants.isComponentTitleRequired,isCompLinkNameAvailable:BuilderConstants.isCompLinkNameAvailable}};document.getElementById("page-placeholders")?a.callback(a.datasource):
$TE.getTemplate(a)};PGBConfig.loadPageConfig();var d={name:"pageLeftPane",datasource:BuilderConstants.selfPageElements,callback:function(){var a={name:"pageToolbar",callback:c,datasource:{fontFace:[{Id:"default",DisplayName:"Default font"},{Id:"arimo, sans-serif",DisplayName:"Arimo"},{Id:"heuristica, tinos, times, serif",DisplayName:"Heuristica"},{Id:"lato, arimo, sans-serif",DisplayName:"Lato"},{Id:"roboto-regular",DisplayName:"Roboto"},{Id:"RobotoSlab, arimo, sans-serif",DisplayName:"Roboto slab"}],
isComponentTitleRequired:BuilderConstants.isComponentTitleRequired,isCompLinkNameAvailable:BuilderConstants.isCompLinkNameAvailable},target:$j("#page-toolbar-holder")};document.getElementById("page-toolbar-container")?a.callback():$TE.getTemplate(a)},target:$j("#zc-pb-lefttoolbar")};document.getElementById("zcpage-elementspanel-ui-holder")?d.callback(d.datasource):$TE.getTemplate(d)};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.PAGEBUILDER)};this.ajaxInit=function(){this.init()};
this.doDestroy=function(){PageBuilder.resetPageConstants()}}PageCompBuilder.prototype=Object.create(ComponentBuilder.prototype);PageCompBuilder.prototype.constructor=PageCompBuilder;PageCompBuilder.getTemplate=function(){return'\x3cdiv\x3e\x3cdiv class\x3d"zc-dem-openbuilder-left-page"\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-page-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-openbuilder-right-page"\x3e\x3cdiv class\x3d"zc-dem-report-right-content-page"\x3e\x3cdiv class\x3d"zc-dem-report-right-content-bar-page"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
function WorkflowCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon")};this.initBuilder=function(){$("#appbuilder-main-head").addClass("zc-dem-workflow-header");WorkflowBuilder.init(a);WorkflowBuilder.isBuilder=!0;WorkflowBuilder.registerListEventsForReload();WorkflowBuilder.registerEvents();ComponentBuilder.fadeOutTemplate(800);hideLoading()};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.WORKFLOWBUILDER)};
this.doDestroy=function(){0<$("#workflowListContainer").length&&WorkflowBuilder.updateDataTable();$("#appbuilder-main-head").removeClass("zc-dem-workflow-header");$("#appbuilder-header").find("#upgradeButton").addClass("zc-hide")};this.ajaxInit=function(){this.init()}}WorkflowCompBuilder.prototype=Object.create(ComponentBuilder.prototype);WorkflowCompBuilder.prototype.constructor=WorkflowCompBuilder;WorkflowCompBuilder.getTemplate=function(){return'\x3cdiv\x3e\x3cdiv class\x3d"zc-dem-workflow-bar"\x3e\x3cdiv class\x3d"zc-dem-bar-workflow-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-workflow-2"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-workflow-top"\x3e\x3cspan\x3e\x3cspan class\x3d"workflow-load-bar"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"workflow-load-bar"\x3e\x3c/span\x3e\x3c/div\x3e\x3cbr/\x3e\x3cdiv class\x3d"zc-dem-bar-workflow-2 zc-dem-bar-workflow-dot"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-bar-workflow-1"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
function TemplateBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon")};this.initBuilder=function(){$("#zc-dem-container").append($("#zctemplate-dialog"));$("#appbuilder-main-head").addClass("zc-dem-workflow-header");$TB.initTemplateBuilder(a);$(".ui-zcolorpalette").bind("click",fnStopEvents);$(".ui-dialog-buttons").bind("click",fnStopEvents)};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.TEMPLATEBUILDER)};
this.ajaxInit=function(){$("#customlayoutbuilder-popup").append($("#zctemplate-dialog"));$("#zctemplate-dialog").css("z-index","9999");$TB.initTemplateBuilder(a);this.initKeyboardShortcuts()};this.doDestroy=function(){$("#customlayoutbuilder-popup #zctemplate-dialog").remove();$("#appbuilder-popup").removeClass("zc-dem-page-open")}}TemplateBuilder.prototype=Object.create(ComponentBuilder.prototype);TemplateBuilder.prototype.constructor=TemplateBuilder;
function TemplatePrintBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-page-icon")};this.initBuilder=function(){$("#appbuilder-main-head").addClass("zc-dem-workflow-header");$RBuilder.initTemplateBuilder(a)};this.initKeyboardShortcuts=function(){};this.ajaxInit=function(){this.init()}}TemplatePrintBuilder.prototype=Object.create(ComponentBuilder.prototype);TemplatePrintBuilder.prototype.constructor=TemplatePrintBuilder;
function APCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon")};this.initBuilder=function(){$("#appbuilder-main-head").addClass("zc-dem-workflow-header");WorkflowBuilder.init(a);WorkflowBuilder.registerListEventsForReload();var b=new AProcessConfig($("#approvalConfig"),a);b._variables=a;0==b.getSteps().length&&b.getStepsUL().css("display","none");ComponentBuilder.fadeOutTemplate(800)};this.initKeyboardShortcuts=
function(){KeyUtil.init(AppContexts.WORKFLOWBUILDER)};this.doDestroy=function(){0<$("#workflowListContainer").length&&WorkflowBuilder.updateDataTable();$("#appbuilder-main-head").removeClass("zc-dem-workflow-header")};this.ajaxInit=function(){this.init()}}APCompBuilder.prototype=Object.create(ComponentBuilder.prototype);APCompBuilder.prototype.constructor=APCompBuilder;
function FunctionCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon");$("#appbuilder-popup").addClass("zc-dem-function-builder")};this.initBuilder=function(){$("#appbuilder-main-head").addClass("zc-dem-cfb-header");ziaDisableShortcut();FunctionBuilder.initFunctionBuilder(a);ComponentBuilder.fadeOutTemplate(800);hideLoading()};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.WORKFLOWBUILDER)};
this.doDestroy=function(){0<$("#workflowListContainer").length&&FunctionBuilder.updateFunctionTable();$("#appbuilder-main-head").removeClass("zc-dem-cfb-header zc-dem-dre-header zc-dem-cfb-upgrade");$("#appbuilder-popup").removeClass("zc-dem-function-builder");$("#appbuilder-header").find("#upgradeButton").addClass("zc-hide");$("#appbuilder-popup").find("#function-action-main-container").remove();$("#zc-comp-settings").show();ziaEnableShortcut()};this.beforeClose=function(){var a=this;FunctionBuilder.isEditorContentChanged()?
iConfirm({title:i18n["zc.workflowbuilder.unsavedchanges"],message:i18n["zc.workflowbuilder.changeslost"],button:ZCButton.CLOSE,cbutton:ZCButton.CANCEL,success:function(){FunctionBuilder.disposeCloudEditor();a.builderClose()}}):(FunctionBuilder.disposeCloudEditor(),a.builderClose())};this.ajaxInit=function(){this.init()}}FunctionCompBuilder.prototype=Object.create(ComponentBuilder.prototype);FunctionCompBuilder.prototype.constructor=FunctionCompBuilder;FunctionCompBuilder.getTemplate=function(){return'\x3cdiv class\x3d"zc-dem-cfb-bar"\x3e\x3cdiv class\x3d"zc-dem-cfb-sidebar zc-dem-clearfix"\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-2"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-cfb-content zc-dem-clearfix"\x3e\x3cdiv class\x3d"zc-dem-cfb-title"\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-1"\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv class\x3d"zc-dem-cfb-scriptarea zc-dem-clearfix"\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-1"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-3"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dem-cfb-bar-2"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3c/div\x3e'};
function BlueprintCompBuilder(a){ComponentBuilder.call(this,a);this.initAppearance=function(){$(".zc-builder-icon-hdr").attr("class","zc-builder-icon-hdr zc-workflow-icon")};this.initBuilder=function(){$("#appbuilder-main-head").addClass("zc-dem-workflow-header");WorkflowBuilder.init(a);WorkflowBuilder.registerListEventsForReload();Blueprint.init(a);ComponentBuilder.fadeOutTemplate(800);hideLoading()};this.initKeyboardShortcuts=function(){KeyUtil.init(AppContexts.WORKFLOWBUILDER)};this.doDestroy=
function(){window.onbeforeunload=null;0<$("#workflowListContainer").length&&WorkflowBuilder.updateBluePrintBuilder();$("#appbuilder-main-head").removeClass("zc-dem-workflow-header");$("#appbuilder-header").find("#upgradeButton").addClass("zc-hide")};this.beforeClose=function(){let a=this;Blueprint.isUnsavedChangesPresents()?a.builderClose():iConfirm({title:i18n["zc.workflowbuilder.unsavedchanges"],message:i18n["zc.workflowbuilder.changeslost"],button:ZCButton.CLOSE,cbutton:ZCButton.CANCEL,success:function(){a.builderClose()}})};
this.ajaxInit=function(){this.init()}}BlueprintCompBuilder.prototype=Object.create(ComponentBuilder.prototype);BlueprintCompBuilder.prototype.constructor=BlueprintCompBuilder;BlueprintCompBuilder.getTemplate=function(){return' \x3cdiv class\x3d"zc-bp-loading-container"\x3e\n        \x3cdiv class\x3d"zc-bp-loading-left-container"\x3e\n            \x3cdiv class\x3d"zc-bp-loading-left-image"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"zc-bp-loading-right-container"\x3e\n            \x3cdiv class\x3d"zc-bp-loading-bar zc-bp-loading-bar-box"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"zc-bp-loading-bar zc-bp-loading-bar-box1"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"zc-bp-loading-bar zc-bp-loading-bar-box2"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"zc-bp-loading-bar zc-bp-loading-bar-box3"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e'};function AppComponent(a){var b=this;this.scopeName;this.appLinkName;this.serverPrefix;this.previewServerPrefix;this.liveServerPrefix;this.publicServerPrefix;this.newLivePublicServerPrefix;this.csrfParam;this.csrfValue;var c;this.compLinkName;this.compDispName;this.componentType;this.dateformat;this.APP;this.FORM;this.REPORT;this.PAGE;this.WORKFLOW;this.APPROVALWF;this.CUSTOMFUNCTION;this.BLUEPRINT;this.formLinkName;this.mobileCompsJSON;this.mobileContent;this.deviceType;this.isThirdPartyComponent;
this.CURRENT_COMPONENT;this.CURRENT_MODULE;this.refreshApp;this.isOnBoard;this.init=function(){this.scopeName=a.scopeName;this.appLinkName=a.appLinkName;this.serverPrefix=a.serverPrefix;this.actualAppLinkName=a.actualAppLinkName;this.previewServerPrefix=a.serverPrefix;this.liveServerPrefix=a.liveServerPrefix;this.publicServerPrefix=a.publicServerPrefix;this.newLivePublicServerPrefix=a.newLivePublicServerPrefix;this.csrfParam=a.csrfParam;this.csrfToken=a.csrfToken;this.dateformat=a.dateformat;"undefined"!=
a.mobileCompsJSON&&(this.mobileCompsJSON=a.mobileCompsJSON);a.mobileContent&&(this.mobileContent=a.mobileContent);this.deviceType=a.deviceType;this.isThirdPartyComponent=a.isThirdPartyComponent;this.compLinkName=a.componentLinkName;this.compDispName=a.componentDisplayName;this.componentType=a.componentType;this.environmentName=a.environmentName;this.envUrlFragment=a.envUrlFragment;this.initApp();this.CURRENT_COMPONENT=this.initComponent();a.hasOwnProperty("schemaMeta")&&(this.schemaMeta=a.schemaMeta);
this.userProfile=a.userProfile;this.accordianMenu=new AccordionMenu(this)};this.initApp=function(){b.APP={getAppUrlFragment:function(a,c){if(a){a="";if(c)switch(c){case "development":a+="/environment/development";break;case "stage":a+="/environment/stage"}else environmentName&&(a+="/environment/"+environmentName);return b.scopeName+a+"/"+b.appLinkName}return b.scopeName+b.envUrlFragment+"/"+b.appLinkName},getAppEditUrl:function(){return"/appbuilder/"+this.getAppUrlFragment()},getURL:function(){return b.serverPrefix+
this.getAppEditUrl()},getEditURL:function(){return getAppEditUrl()+"/edit"},getLiveURL:function(a){return b.liveServerPrefix+"/"+this.getAppUrlFragment(!0,a)+"/"},getLivePreviewURL:function(a){return"/preview/"+this.getAppUrlFragment(!0)+"/?frameorigin\x3d"+b.serverPrefix+(void 0!=ZCGlobal.frameOrigin?","+ZCGlobal.frameOrigin:"")+(a?"\x26isInitBuilder\x3dtrue":"")},getThemeSwitchURL:function(){return this.getURL()+"/themeSetting/setDefaultTheme"},getIconUpdateURL:function(){return this.getURL()+"/themeSetting/saveIcons"},
getIconLoadURL:function(){return this.getURL()+"/themeSetting/loadIcons"},getIconRemoveURL:function(){return this.getURL()+"/themeSetting/removeIcons"},getCustomCSSURL:function(){return this.getURL()+"/themeSetting/saveCustomCSS"}}};this.getCSRFParam=function(){return b.csrfParam+"\x3d"+b.csrfToken};this.getPageComponents=function(){if(void 0!=c)return c;AccordionMenu.fetch(b,function(a){c=a;b.accordianMenu.pageCompsJSON=a})};this.hasPageComponents=function(){return void 0!=c};this.setPageComponents=
function(a){c=a;b.accordianMenu.pageCompsJSON=a};this.updateComponent=function(a,c,f){b.componentType=a;variable.componentType=a;-1!=c.indexOf("?")&&(c=c.substring(0,c.indexOf("?")));b.compLinkName=c;variable.componentLinkName=c;b.CURRENT_COMPONENT=b.initComponent();b.formLinkName=f;return b.CURRENT_COMPONENT};this.updateAccordian=function(a){b.setRefreshFlag();var c=Constants.accordianKeys[a.compType],d=void 0,g=this.getPageComponents();$.each(g[c],function(){this.cn==a.currLinkName&&(d=this)});
void 0!=d&&(d.cn=a.newLinkName,d.dn=a.displayName,delete g[c][a.currLinkName],g[c][a.newLinkName]=d);AccordionMenu.updateName(this,{type:a.compType,compName:a.newLinkName})};this.refreshPageComponents=function(a){b.setRefreshFlag();b.setPageComponents(a);return b};this.setRefreshFlag=function(){b.componentType!=Constants.WORKFLOW&&b.componentType!=Constants.APPROVALWF&&b.componentType!=Constants.BLUEPRINT&&b.componentType!=Constants.CUSTOMFUNCTION&&(b.isOnBoard?(b.refreshApp=!1,b.isOnBoard=!1):b.refreshApp=
!0)};this.updateMobileJSON=function(a){"string"==typeof a&&(a=JSON.parse(a));if(a.AppLayout){var c={};c.AppLayout=a.AppLayout;b.mobileCompsJSON=c}a.MainContent&&(c={},c.MainContent=a.MainContent,b.mobileContent=c);a.mobileCompsJSON&&(b.mobileCompsJSON=a.mobileCompsJSON);a.mobileContent&&(b.mobileContent=a.mobileContent)};this.initComponent=function(){switch(parseInt(b.componentType)){case 1:return this.initForm(b.compLinkName),this.FORM;case 2:return this.initReport(b.compLinkName),this.REPORT;case 3:return this.initPage(b.compLinkName),
this.PAGE;case 4:return this.initWorkflow(b.compLinkName),this.WORKFLOW;case 5:return this.initApprovalWF(b.compLinkName),this.APPROVALWF;case 7:return this.initCustomFunction(b.compLinkName),this.CUSTOMFUNCTION;case 8:return this.initBlueBrint(b.compLinkName),this.BLUEPRINT}};this.initForm=function(a){b.FORM={getBaseURL:function(){return b.APP.getURL()+"/form/"+a},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/formbuilder/"+a+"/edit"},getAppearanceURL:function(){return b.APP.getAppEditUrl()+
"/form/"+a+"/edit"},getLiveURL:function(c){return b.liveServerPrefix+"/"+b.APP.getAppUrlFragment(!0,c)+"/#Form:"+a},getLivePreviewURL:function(c){return"/preview/"+b.APP.getAppUrlFragment(!0)+"/?frameorigin\x3d"+b.serverPrefix+(void 0!=ZCGlobal.frameOrigin?","+ZCGlobal.frameOrigin:"")+(c?"\x26isInitBuilder\x3dtrue":"")+"#Form:"+a},getWebPropertyURL:function(){return this.getAppearanceURL()+"?xajazc\x3dtrue\x26deviceType\x3d"+b.deviceType},getMobilePropertyURL:function(){return this.getAppearanceURL()+
"?xajazc\x3dtrue\x26deviceType\x3d"+b.deviceType},getEditAppearanceURL:function(){return b.APP.getAppEditUrl()+"/form/"+a+"/editAppearance"},getType:function(){return Constants.FORM}}};this.initReport=function(a){b.REPORT={getBaseURL:function(){return b.APP.getURL()+"/report/"+a},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/reportbuilder/"+a+"/edit"},getBuilderBaseURL:function(){return b.APP.getAppEditUrl()+"/reportbuilder/"+a},getAppearanceURL:function(){return b.APP.getAppEditUrl()+"/report/"+
a+"/edit"},getLiveURL:function(c){return b.liveServerPrefix+"/"+b.APP.getAppUrlFragment(!0,c)+"/#Report:"+a},getLivePreviewURL:function(c){return"/preview/"+b.APP.getAppUrlFragment(!0)+"/?frameorigin\x3d"+b.serverPrefix+(void 0!=ZCGlobal.frameOrigin?","+ZCGlobal.frameOrigin:"")+(c?"\x26isInitBuilder\x3dtrue":"")+"#Report:"+a},getWebPropertyURL:function(){return this.getAppearanceURL()+"?xajazc\x3dtrue\x26deviceType\x3d"+b.deviceType},getMobilePropertyURL:function(){return this.getAppearanceURL()+
"?xajazc\x3dtrue\x26deviceType\x3d"+b.deviceType},getEditAppearanceURL:function(){return b.APP.getAppEditUrl()+"/report/"+a+"/editAppearance"},getType:function(){return Constants.REPORT}};b.WORKFLOW={getGenerateExpressionUrl:function(){return b.APP.getAppEditUrl()+"/workflow/generateExpression"}}};this.initPage=function(a){b.PAGE={getBaseURL:function(){return b.APP.getURL()+"/page/"+a},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/pagebuilder/"+a+"/edit"},getAppearanceURL:function(){return b.APP.getAppEditUrl()+
"/page/"+a+"/edit"},getLiveURL:function(c){return b.liveServerPrefix+"/"+b.APP.getAppUrlFragment(!0,c)+"/#Page:"+a},getLivePreviewURL:function(c){return"/preview/"+b.APP.getAppUrlFragment(!0)+"/?frameorigin\x3d"+b.serverPrefix+(void 0!=ZCGlobal.frameOrigin?","+ZCGlobal.frameOrigin:"")+(c?"\x26isInitBuilder\x3dtrue":"")+"#Page:"+a},getWebPropertyURL:function(){return b.APP.getAppEditUrl()+"/getAppearance?deviceType\x3d1\x26compType\x3d3\x26compLinkName\x3d"+a},getMobilePropertyURL:function(){return this.getAppearanceURL()+
"?xajazc\x3dtrue\x26deviceType\x3d"+b.deviceType},getEditAppearanceURL:function(){return b.APP.getAppEditUrl()+"/page/"+a+"/editAppearance"},getType:function(){return Constants.PAGE}}};this.initWorkflow=function(a){b.WORKFLOW={getListURL:function(){return b.APP.getAppEditUrl()+"/workflow/edit"},getAddWfURL:function(){return b.APP.getAppEditUrl()+"/workflow/add"},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/workflowbuilder/"+a+"/edit"},getType:function(){return Constants.WORKFLOW},getGenerateExpressionUrl:function(){return b.APP.getAppEditUrl()+
"/workflow/generateExpression"}}};this.initApprovalWF=function(a){b.APPROVALWF={getListURL:function(){return b.APP.getAppEditUrl()+"/workflow/edit"},getAddWfURL:function(){return b.APP.getAppEditUrl()+"/approvalWorkFlow/add"},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/"+b.formLinkName+"/approvalWorkFlow/"+a+"/edit"},getType:function(){return Constants.APPROVALWF},getLiveURL:function(){return b.liveServerPrefix+"/"+b.APP.getAppUrlFragment()+"/#Approvals"}}};this.initCustomFunction=function(a){b.CUSTOMFUNCTION=
{getListURL:function(){return b.APP.getAppEditUrl()+"/workflow/edit"},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/customFunction/"+a+"/edit"},getType:function(){return Constants.CUSTOMFUNCTION}};b.WORKFLOW={getGenerateExpressionUrl:function(){return b.APP.getAppEditUrl()+"/workflow/generateExpression"}}};this.initBlueBrint=function(a){b.BLUEPRINT={getListURL:function(){return b.APP.getAppEditUrl()+"/workflow/edit"},getBuilderURL:function(){return b.APP.getAppEditUrl()+"/blueprint/"+a+
"/edit"},getType:function(){return Constants.BLUEPRINT}}}};var HelpCard=function(){function a(a,d,e){function f(){if(a.hasOwnProperty("navigationLinks")&&0<a.navigationLinks.length){for(var b=a.navigationLinks,c="",d=0;d<b.length;d++)3==d&&(c+='\x3cdiv class\x3d"help-slide-more-link"\x3e\x3cdiv class\x3d"help-slide-more-ico"\x3e\x3ca class\x3d"help-navbar-link"\x3e\x3cspan\x3eMore\x3c/span\x3e\x3ci\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',c+='\x3cul class\x3d"help-slide-more-option"\x3e'),anchorElem=3>d?"":"\x3cli\x3e",anchorElem=3<d?anchorElem+('\x3ca class\x3d"help-navbar-link help-navbar-ico '+
b[d].className+'" title\x3d"'+b[d].title+'"  data-title-position\x3d"top"'):anchorElem+('\x3ca class\x3d"help-navbar-link" title\x3d"'+b[d].title+'"  data-title-position\x3d"top"'),b[d].hasOwnProperty("id")&&(anchorElem+=' id\x3d"'+b[d].id+'"'),b[d].hasOwnProperty("href")&&(anchorElem+=' href\x3d"'+b[d].href+'"'),b[d].hasOwnProperty("target")&&(anchorElem+=' target\x3d"'+b[d].target+'"'),anchorElem+=3>d?'\x3e\x3ci class\x3d"'+b[d].className+'"\x3e\x3c/i\x3e\x3cspan class\x3d"help-link-txt"\x3e'+b[d].title+
"\x3c/span\x3e\x3c/a\x3e":"\x3e"+b[d].title+"\x3c/a\x3e\x3c/li\x3e",c+=anchorElem;return c}return""}var g=ZCWebStorage.getItem(x.CURRENT_TASK_ID);if(d&&0===$("#help-card").length){d='\x3cdiv id\x3d"help-card" class\x3d"help-slider"\x3e\x3cdiv class\x3d"help-slide-header zc-dem-clearfix zc-dem-box-sizing"\x3e\x3cdiv class\x3d"help-slider-title flt-left"\x3e\x3ci class\x3d"zc-db-em zc-dbemhelp-solid"\x3e\x3c/i\x3e\x3cspan\x3e'+i18n["zc.helponboard.help"]+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"help-slide-header-actions flt-right"\x3e\x3ci id \x3d"helpClose" class\x3d"help-slide-close"\x3e\x3c/i\x3e \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"help-slide-body zc-dem-clearfix"\x3e\x3cdiv class \x3d "help-search"\x3e\x3cinput type \x3d "search" id \x3d "helpCard-search" placeholder \x3d "'+
i18n["zc.helponboard.help.searchplaceholder"]+'" autofocus\x3e\x3ci class\x3d"zc-em zc-common-search"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"help-slide-content"\x3e\x3cdiv id\x3d"help-search-results" class \x3d "search-result-main-container"\x3e\x3c/div\x3e\x3cdiv class \x3d "helpTask-Steps"\x3e\x3cdiv class \x3d "helpTask-Steps-contents"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"help-slide-finish-content"\x3e\x3cdiv class\x3d"hc-complete-message"\x3e\x3ci class\x3d"help-steps-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+
i18n["zc.helponboard.help.taskcomplete"]+'\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"back-to-help"\x3e\x3cspan class\x3d"zc-dem-back"\x3e\x3c/span\x3e'+i18n["zc.helponboard.help.backtask"]+'\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"related-links" style\x3d"display:none;"\x3e\x3cdiv class\x3d"related-links-hdr help-header"\x3eRelated Links\x3c/div\x3e\x3cdiv class\x3d"related-links-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"help-navbar"\x3e'+f()+'\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"helpInfoDiv"\x3e\x3cspan\x3eIn case if you need help. It is right here!\x3c/span\x3e\x3cspan class\x3d"helpArrow"\x3e\x3c/span\x3e\x3cdiv id\x3d"helpMsgClose" class\x3d"closeBox msgClose"\x3e\x3c/div\x3e\x3c/div\x3e';
$(document.body).append(d);!isCreateAppPermitted&&$(".help-slide-more-option .hc-group-tasks").hide();0==$("#finishedTaskMessage").length&&R();c();a.hasOwnProperty("callback")&&a.callback.call();null===p&&(p=new C);0==Object.keys(G).length&&b(null,function(){$("#help-card").hideLoading();M(N,function(){"undefined"!==typeof g&&null!==g&&setTimeout(function(){0<$('div[qid\x3d"'+g+'"]').length?$('div[qid\x3d"'+g+'"]').find($(".help-input-area")).trigger("click"):(null===p&&(p=new C),p.listNextTask(G[g]),
$('div[qid\x3d"'+g+'"]').trigger("click"))},500)})});e.call();var h=$(".search-result-main-container");$("#helpCard-search").autocomplete({search:function(a,b){C.resetHelpCard();$(".search-result-main-container").empty();0==a.target.length&&$("noResultDiv").hide();(new C).clearAnimationAndMessage()},minLength:0,dataType:"array",source:function(a,b){$(".ui-menu").remove();0<a.term.length?(a=$.ui.autocomplete.filter(ea,a.term),b(a.slice(0,4))):($(".help-input-area .help-input-element").remove(),M(N))},
messages:{noResults:function(){var a='\x3cdiv id\x3d"noResultDiv"\x3e'+u["zc.helponboard.help.searchnoresult"]+"\x3c/div\x3e";0==$("#noResultDiv").length?$("#help-card").append(a):$("#noResultDiv").show()},results:function(){$("#noResultDiv").hide()}},open:function(){$("ul.ui-autocomplete").addClass("opened")},close:function(){$("ul.ui-autocomplete").removeClass("opened");""===$('input[type\x3d"search"]').val()&&($(".help-input-area .help-input-element").remove(),M(N))},focus:function(a,b){return!1}}).data("ui-autocomplete")._renderItem=
function(a,b){$(".help-input-element-click").removeClass("help-input-element-click");a=$('\x3cdiv qid\x3d"'+b.data.ID+'" class\x3d"help-input-area"\x3e\x3c/div\x3e');var c=$('\x3cdiv class\x3d"help-input-element" style\x3d"cursor:pointer"\x3e'+b.key+'\x3c/div\x3e\x3cdiv class\x3d"closeBox taskClose"\x3e\x3c/div\x3e');0==$('div[qid\x3d"'+b.data.ID+'"]').length&&(a.append(c).appendTo(h),null===p&&(p=new C),p.listNextTask(b.data));return c}}else e&&e();$(".help-navbar-link").off("click.helpLink").on("click.helpLink",
function(){var a=$(this).attr("id"),b="";if(void 0!=a&&("zc-footer-user-Guide"==a&&(b="User Guide"),"zc-footer-help-Webinar"==a&&(b="Webinar"),"ZCLiveChat"==a&&(b="LiveChat"),"zc-reachus-live-support"==a&&(b="Support"),"zc-footer-help-hire-expert"==a&&(b="Hire an Expert"),a=window.location.pathname,a=a.startsWith("/appbuilder/")?"builder":a.startsWith("/userhome/")?"dashboard":"live",""!=b)){var c={};c[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;c.helpAction=b;c.context=a;$.ajax({url:"/userhome/"+
ZCGlobal.scopeName+"/userHelpLinkTracking",data:c,type:"POST"})}})}function b(a,b,c){var d={},e={};$.ajax({url:"/userhome/"+ZCGlobal.scopeName+"/getHelpAppResponse",type:"GET",cache:!0,dataType:"JSON",success:function(f){null!==f&&(ba=f.groupTask,d=f.helpCard,u=f.messageKey,N=aa(d.Level1),fa=aa(d.Level2),ha=aa(d.Level3),$.each(G,function(a,b){b=b.Keywords.split(", ");for(var c=0;c<b.length;c++)e={},""!=G[a].Task&&(e.value=b[c],e.data=G[a],e.key=u[G[a].TaskKey],ea.push(e))}),b&&null==a?b():b(a,c))}})}
function c(){$("#helpClose").off("click").on({click:function(){F.call();B.hide()}});$(".hc-maximize-icon").off("click").on("click",function(){$(".hc-minimize-popup").hide();$(".hc-bubble").is(":visible")?V():L()});$(".hc-min-close").off("click").on("click",function(){F.call()});$(".hc-minimize-popup").off("dblclick").on("dblclick",function(){$(".hc-bubble").is(":visible")?V():L()});$(".hc-group-tasks").off("click").on("click",function(){0<$(".hc-bubble").length&&p.clearAnimationAndMessage();0<v.length&&
p.unbindIncompleteEvents();HelpCard.executeGrpTask()});$(".help-slide-finish-content .back-to-help").off("click").on("click",function(){$("#help-card .helpTask-Steps").show();W();$(".help-slide-finish-content").hide();$(".help-slide-finish-content \x3e p").text("")});$(document.body).off("click").on("click",function(){$(".help-slide-more-link").removeClass("active")});$(".help-slide-more-link").off("click").on("click",function(a){a.stopPropagation();$(this).toggleClass("active")});var a=history.pushState;
history.pushState=function(){a.apply(history,arguments);W()};if(ZCGlobal.zcChatEnabled||ZCGlobal.zcPreSalesEnabled||ZCGlobal.zcPremiumChatEnabled)$("#ZCLiveChat").off("click").on("click",function(){$("#help-card").fadeOut();ZCLiveChat.load()});else $("#ZCLiveChat").hide();d()}function d(){$("#finishedTaskMessage .closeBox").off("click").on("click",function(){Y()&&n();f();B.hide()});$("#finishedTaskMessage .finish").off("click").on("click",function(){$("#finishedTaskMessage .restart").addClass("hide");
f();$("#help-card").is(":visible")&&L();B.hide()});$("#finishedTaskMessage .proceed").off("click").on("click",function(){ZCWebStorage.setItem(x.TASKPOINTER,y);W();executeTutorial()});$("#finishedTaskMessage .restart").off("click").on("click",function(){window.location.href=ZCWebStorage.getItem(x.TASK_START_URL);ZCWebStorage.remove(x.TASK_START_URL);$("#finishedTaskMessage").hide();$("#finishedTaskMessage .restart").addClass("hide")});$("#finishedTaskMessage .skip").off("click").on("click",function(){$("#finishedTaskMessage \x3e p").text(D[++y].taskSubTitle);
if(Object.keys(D).length<=y)T(),$("#finishedTaskMessage .proceed").addClass("hide"),$("#finishedTaskMessage .skip").addClass("hide"),$("#finishedTaskMessage .finish").removeClass("hide");else{$("#finishedTaskMessage .finish").addClass("hide");$("#finishedTaskMessage .proceed").removeClass("hide");var a=parseInt(y)+1;"true"==D[a].isSkipEnable?$("#finishedTaskMessage .skip").removeClass("hide"):$("#finishedTaskMessage .skip").addClass("hide")}})}function e(){$(".zc-onboard-close").off("click").on("click",
function(){0==ZCWebStorage.getItem(x.TASKPOINTER)?r(function(){n();B.hide();$(".zc-onboard-popup-wrapper").deActive()}):(n(),B.hide(),$(".zc-onboard-popup-wrapper").deActive());w()});$(".onboard-next").off("click").on("click",function(){0<v.length&&p.unbindIncompleteEvents();0<$(".hc-bubble").length&&p.clearAnimationAndMessage();w();k()});$(".onboard-start").off("click").on("click",function(){r(function(){k()},!0);w()})}function f(){$("#finishedTaskMessage").hide();$("#finishedTaskMessage .htmlMsg").empty();
$("#finishedTaskMessage .help-popup-finis-ico").show();$("#finishedTaskMessage \x3e p").show();W()}function g(a){switch(ZCGlobal.setup){case "eu":var c="Walkthrough|104499000000009664";break;case "cn":c="Walkthrough|104499000000009664";break;case "in":c="Walkthrough|104499000000009664";break;default:c="Walkthrough|87851000081135840"}da();0==Object.keys(ba).length?b(c,h,a):h(c,a)}function h(a,b){a=ba[a];y=void 0!=ZCWebStorage.getItem(x.TASKPOINTER)?ZCWebStorage.getItem(x.TASKPOINTER):void 0!=b?b:0;
for(var c=0;c<a.length;c++){var d=a[c].value.split("-|-"),e=G[d[1]];e.taskSubTitle=u[d[2]];e.isSkipEnable=d[4];e.taskMessage=u[d[5]];e.taskTitle=u[d[6]];D[d[3]]=G[d[1]]}ZCWebStorage.setItem(x.TASKPOINTER,y);ZCWebStorage.setItem(x.WALKTHROUGH_STATUS,!0);void 0!=b?(z=!0,B.show(),r(function(){k()})):ia()}function k(){Shortcut.disable(!0);$(".zc-onboard-popup-wrapper").deActive();var a=D[++y],b=Object.keys(D).length;$(".zc-onboard-title .zc-onboard-subtitle").text(a.taskSubTitle);$(".zc-onboard-title .title").text(a.taskTitle);
y<=b&&(a=D[y],p=new C,p.setData(a["Selectors_List.Selector"],a.ID,a.Task),p.start())}function l(){var a=$('\x3cdiv class\x3d"zc-dem-help-freeze zc-dem-common-freeze" style\x3d"display:none"\x3e\x3c/div\x3e');$("body").append(a);return{show:function(){$(a).fadeIn(200)},hide:function(){$(a).fadeOut(200)}}}function m(){$(".zc-onboard-btn-actions a").hide();$(".onboard-next").show()}function n(){y=0;z=!1;D={};B.hide();T()}function q(){var a='\x3cdiv class\x3d"zc-onboard-popup-wrapper zc-onboard-whats-new"\x3e\x3cdiv class\x3d"zc-onboard-popup"\x3e\x3cdiv class\x3d"zc-onboard-title zc-dem-box-sizing"\x3e\x3cp class\x3d"title"\x3e'+
u["zc.helponboard.switch.welcome"]+'\x3c/p\x3e\x3cspan class\x3d"zc-onboard-subtitle"\x3e '+u["zc.helponboard.newbuilder.onboardtitle"]+" "+u["zc.helponboard.newbuilder.helplink"]+'\x3c/span\x3e\x3cdiv class\x3d"zc-onboard-close"\x3e\x3ca href\x3d"javascript:void(0);"\x3e'+i18n["zc.helponboard.skip"]+'\x3ci class\x3d"zc-em zc-common-close"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-on board-body zc-dem-clearfix"\x3e\x3cdiv class\x3d"zc-onboard-steps flt-left zc-dem-box-sizing"\x3e\x3cspan class\x3d"zc-dem-whats-new-head"\x3eWhat\u2019s New\x3c/span\x3e\x3cul class\x3d"zc-onboard-steps-list"\x3e\x3cli class\x3d"zc-ob-device-support active"\x3e\x3cspan\x3e'+
u["zc.helponboard.switch.device"]+'\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"zc-ob-page-builder"\x3e\x3cspan\x3e'+u["zc.helponboard.switch.page"]+'\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"zc-ob-report-type"\x3e\x3cspan\x3e'+u["zc.helponboard.switch.reporttype"]+'\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"zc-ob-integ"\x3e\x3cspan\x3e'+u["zc.helponboard.switch.integrations"]+'\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"zc-ob-workflow"\x3e\x3cspan\x3e'+u["zc.helponboard.switch.workflow"]+'\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"zc-ob-appide"\x3e\x3cspan\x3e'+
u["zc.helponboard.switch.appide"]+'\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-onboard-image-action flt-left"\x3e\x3cdiv class\x3d"zc-onboard-image-action-bg"\x3e\x3ci class\x3d"zc-onboard-image-icon"\x3e\x3c/i\x3e\x3ci class\x3d"zc-onboard-devie-support-mobile"\x3e\x3cspan class\x3d"zc-onboard-devie-support-mobile-cont"\x3e\x3c/span\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-onboard-btn-actions"\x3e\x3ca href\x3d"javascript:void(0);" class\x3d"zc-proceed" id\x3d"zc-proceed" style\x3d""\x3e'+
i18n["zc.onboarding.wtcontinue"]+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";$(document.body).append(a)}function w(a){var b={};b[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;var c=ZCWebStorage.getItem(x.TASKPOINTER);b.currentTask=null!=c?parseInt(c)+1:0;a&&(b.currentStep=currentMap.step);$.ajax({url:"/userhome/"+ZCGlobal.scopeName+"/walkthroughCurrentStatus",data:b,type:"POST"})}function r(a,b){var c={};c[ZCGlobal.csrfTokenName]=ZCGlobal.csrfToken;b&&(c.currentTask=1);$.ajax({url:"/userhome/"+
ZCGlobal.scopeName+"/updateWalkthroughStatus",data:c,type:"POST",cache:!0,success:function(b,c,d){void 0!=a&&a()}})}function I(){$(".zc-onboard-close").off("click").on("click",function(){r(function(){$(".zc-onboard-popup-wrapper").deActive();B.hide();A=!1;$(".zc-onboard-c5switch").removeClass("zc-onboard-c5switch")})});$("#zc-proceed").off("click").on("click",function(){r(function(){$(".zc-onboard-popup-wrapper").deActive();B.hide();switch(ZCGlobal.setup){case "eu":var a="104499000000009261";break;
case "cn":a="104499000000009261";break;case "in":a="104499000000009261";break;default:a="87851000081923709"}a=G[a];p=new C;p.setData(a["Selectors_List.Selector"],a.ID,a.Task);p.start()})});$(".zc-ob-device-support").off("mouseover").on("mouseover",function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);$(".zc-onboard-devie-support-mobile").removeClass("hide");$(".zc-onboard-image-action").addClass("zc-onboard-daskboard-image");H=
"zc-onboard-daskboard-image"});$(".zc-ob-page-builder").off("mouseover").on("mouseover",function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);$(".zc-onboard-devie-support-mobile").addClass("hide");$(".zc-onboard-image-action").addClass("zc-onboard-builder-image");H="zc-onboard-builder-image"});$(".zc-ob-report-type").off("mouseover").on("mouseover",function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);
$(".zc-onboard-devie-support-mobile").addClass("hide");$(".zc-onboard-image-action").addClass("zc-onboard-report-image");H="zc-onboard-report-image"});$(".zc-ob-integ").off("mouseover").on("mouseover",function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);$(".zc-onboard-devie-support-mobile").addClass("hide");$(".zc-onboard-image-action").addClass("zc-onboard-integ-image");H="zc-onboard-integ-image"});$(".zc-ob-workflow").off("mouseover").on("mouseover",
function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);$(".zc-onboard-devie-support-mobile").addClass("hide");$(".zc-onboard-image-action").addClass("zc-onboard-workflow-image");H="zc-onboard-workflow-image"});$(".zc-ob-appide").off("mouseover").on("mouseover",function(){$(this).siblings().removeClass("active");$(this).addClass("active");$(".zc-onboard-image-action").removeClass(H);$(".zc-onboard-devie-support-mobile").addClass("hide");
$(".zc-onboard-image-action").addClass("zc-onboard-appidee-image");H="zc-onboard-appidee-image"})}function J(){$("#nextStep");var a=p.descriptions.length;if(0<$(currentMap.selector).length&&""!==currentMap.description){1==currentMap.step&&$(".finished").removeClass("finished");if(0===$(messageBubbleDiv).length){var b=$('\x3cdiv class\x3d"hc-bubble" style\x3d"display:none;"\x3e\x3ci class\x3d"zc-db-em zc-dbemcommon-close"\x3e\x3c/i\x3e\x3cdiv class\x3d"pointer pointerBorder"\x3e\x3c/div\x3e\x3cdiv class\x3d"hc-message-body"\x3e\x3cdiv class\x3d"help-message-text"\x3e'+
currentMap.description+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"help-message-footer"\x3e\x3cdiv class\x3d"hc-message-steps"\x3e\x3c/div\x3e\x3ca id\x3d"nextStep" style\x3d"display:none;" class\x3d"nextStep"\x3eNext\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');$(document.body).append(b);A&&$(".help-message-text").html(currentMap.description)}else{b=$(".hc-bubble");b.removeClass("fbBubbleEffect");var c=$(".pointer");c.attr("class","pointer pointerBorder");c.removeAttr("style");!A&&$(".help-message-text").text(currentMap.description);
A&&$(".help-message-text").html(currentMap.description);6>=a?(c=$("#"+currentMap.id+"_step_"+currentMap.step),c.addClass("finished"),c.prev().addClass("finished")):$(".hc-message-steps").text(currentMap.step+" of "+p.descriptions.length)}1==p.descriptions.length?$(".help-message-footer").hide():$(".help-message-footer").show();1<p.descriptions.length&&(0==$(".hc-message-step").length||$(".hc-message-step").attr("id").split("_")[0]!=currentMap.id)&&(a=6>=a?E(a):i18n["zcpages.dialog.chart.subtype.step"]+
" "+currentMap.step+" "+i18n["zc.onboarding.stepof"]+" "+p.descriptions.length,$(".hc-message-steps").html(a),$("#"+currentMap.id+"_step_"+currentMap.step).addClass("finished"));$(currentMap.selector).is("select")||$(currentMap.selector).is("input[type\x3d'text']")||"zcddChange"==currentMap.eventType||A?(null==currentMap.next?($(".help-message-footer").show(),nextStepText=i18n["zc.reportedit.create.finish"]):nextStepText=i18n["zc.onboarding.wtnext"],$("#nextStep").text(nextStepText),$("#nextStep").show()):
$("#nextStep").hide();K();b.show();$("#nextStep").off("click").on("click",function(a){A&&$(".zc-onboard-show-comp").removeClass("zc-onboard-show-comp");$(currentMap.selector).is("input[type\x3d'text']")&&""==$(currentMap.selector).val().trim()?($(".help-button-effect-hover").removeClass("help-button-effect-hover"),$(".hc-bubble").hide(),setTimeout(function(){$(".hc-bubble").show()},100)):null!==currentMap.next?S(currentMap.next)?S(currentMap.next)||"zcddChange"==currentMap.eventType||A?(p.clearAnimationAndMessage(),
$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover"),currentMap.hasOwnProperty("onblur")?!1===currentMap.onblur&&p.getNextElement()||(currentMap.onblur=!1):p.getNextElement()):$(currentMap.selector).effect("highlight",{},3E3):(p.clearAnimationAndMessage(),p.getNextElement(1)):A?(hideXfreezer(),p.clearAnimationAndMessage(),A=!1,$(".zc-onboard-c5switch").removeClass("zc-onboard-c5switch")):(p.clearAnimationAndMessage(),$("#help-card .help-slide-finish-content").show(),
$("#help-card .helpTask-Steps").hide(),$(".help-slide-finish-content .hc-task-name").text(G[currentMap.id].Task),$(".help-slider-minimize-left").removeClass("help-slider-minimize-left"),$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover"))});$(".hc-bubble .zc-dbemcommon-close").off("click").on("click",function(){$(".help-slider-minimize").removeClass("help-slider-minimize");$(".help-slider-minimize-left").removeClass("help-slider-minimize-left");z||A?($(".hc-bubble").hide(),
$(".highlightArea").hide(),hideXfreezer(),p.unbindResizeEvent(),iConfirm({title:u["zc.helponboard.grptask.exit.titlemsg"],message:u["zc.helponboard.grptask.exit.subtitlemsg"],success:function(){hideXfreezer();n();p.clearAnimationAndMessage();A=!1;$(".zc-onboard-c5switch").removeClass("zc-onboard-c5switch");0<v.length&&p.unbindIncompleteEvents()},failure:function(){p.displayAnimationAndMessage()}})):(W(),V())})}else z||($("#finishedTaskMessage \x3e p").text(u["zc.helponboard.help.exitmsg"]),$("#finishedTaskMessage .restart").removeClass("hide"),
$("#finishedTaskMessage").show())}function E(a){for(var b="",c=1,d=1;d<=a+(a-1);d++)0==d%2?b+="\x3cdiv class\x3d'hc-message-step-rod'\x3e\x3c/div\x3e":(b+="\x3cdiv id\x3d'"+currentMap.id+"_step_"+c+"' class\x3d'hc-message-step'\x3e\x3c/div\x3e",c++);return b}function K(){var a=$(".hc-bubble"),b=$(".blink-hovered"),c=$(".highlightArea"),d=$(".pointer");a.hide();$(".fbBubbleEffect").removeClass("fbBubbleEffect");var e=$(window).outerWidth(),f=$(window).outerHeight();c.width()>2*a.width()&&c.height()>
2*a.height()?(a.css({left:b.offset().left+b.outerWidth(),top:b.offset().top}),d.addClass("pointerLeft")):f-c.offset().top-c.height()<=a.outerHeight()&&e-c.offset().left-c.width()<=a.outerWidth()?(a.css({left:c.offset().left-(a.outerWidth()-c.width()),top:c.offset().top-a.outerHeight()-13}),d.addClass("pointerBottomRight"),d.css({top:a.height()+2})):f-c.offset().top-c.height()<=a.outerHeight()?(a.css({left:c.offset().left,top:c.offset().top-a.outerHeight()-13}),d.addClass("pointerBottomLeft"),d.css({top:a.height()+
2})):e-c.offset().left-c.width()<=a.outerWidth()?(a.css({left:c.offset().left-a.outerWidth(),top:c.offset().top}),d.addClass("pointerRight")):(a.css({left:c.offset().left+c.width(),top:c.offset().top}),d.addClass("pointerLeft"));A&&(c=b=void 0,2==currentMap.step&&(b=$("#zc-dem-browser-content").offset().left+$("#zc-dem-browser-content").width(),c=$("#zc-dem-browser-content").offset().top+$("#zc-dem-browser-content").height()/2-a.height()/2),3==currentMap.step&&(b=$("#appearance-content").offset().left-
a.width(),c=$("#appearance-content").offset().top+$("#appearance-content").height()/2-a.height()/2,d.removeClass("pointerBottomRight"),d.addClass("pointerRight").css({top:50})),void 0!==b&&void 0!==c&&a.css({left:b,top:c}))}function L(){$("#helpCard-search").val("");0!=Object.keys(G).length&&(M(N),$("#help-card").hideLoading());$(".help-slider").css("top",$(".pageHeader").outerHeight()+"px");$(".help-slider-minimize").removeClass("help-slider-minimize");$(".help-slider-minimize-left").removeClass("help-slider-minimize-left");
$(".help-slide-finish-content").hide();$(".helpTask-Steps").show();V();0<$("#searchResults").length&&$(this).empty();0<$(".hc-bubble").length&&!z&&p.clearAnimationAndMessage()}function F(){0<$(".hc-bubble").length&&!z&&($(U).hide(),p.clearAnimationAndMessage("bubble"));C.resetHelpCard();da();null===ZCWebStorage.getItem(x.FIRST_VISIT)&&(ZCWebStorage.setItem(x.FIRST_VISIT,!0),!0===ZCWebStorage.getItem(x.FIRST_VISIT)&&ZCWebStorage.setItem(x.FIRST_VISIT,!1));0<v.length&&p.unbindIncompleteEvents();$(".helpotherlist").is(":visible")&&
$(".helpotherlist").hide();T()}function M(a,b){var c="",d=window.location.href,e=!1;e=!1;var f=[],g="",h=$(".search-result-main-container");0<$(".blink-hovered").length&&(!z&&p.clearAnimationAndMessage(),C.resetHelpCard());for(var k=0;k<X.length;k++)if(f=X[k].PageUrls,"string"==typeof f&&""!=f||"object"==typeof f&&0!=f.length)for(var l=0;l<f.length;l++){e=f[l].split("-|-");var m=new RegExp(e[1]);if(e=C.is_current_url(m,d))(e=C.is_exactUrl(m,d))?(g=f[l],l=f.length,k=X.length):e=!1}a=$.merge($.merge(P(a,
g),P(fa,g)),P(ha,g));for(k=0;k<a.length;k++)10>k&&""!==a[k].TaskKey?c+='\x3cdiv qid\x3d"'+a[k].ID+'" class\x3d"help-input-area"\x3e\x3cdiv class\x3d"help-input-element" style\x3d"cursor:pointer;"\x3e'+u[a[k].TaskKey]+'\x3c/div\x3e\x3cdiv class\x3d"closeBox taskClose"\x3e\x3c/div\x3e\x3c/div\x3e':k=a.length;h.empty().append(c).hide().fadeIn("slow");$(".help-input-area").on({click:function(){z&&n();$(".help-slide-finish-content").hide();$("#helpCard-search").val($(this).text());$(this).find("div.taskClose").addClass("optionClose");
var a=$(this).attr("qid");$(".help-input-element-click").removeClass("help-input-element-click");$(this).addClass("help-input-element-click");$(".help-input-area").not(".help-input-element-click").hide();$(".help-slider").addClass("help-slider-minimize");$(".helpTask-Steps-contents").empty();setTimeout(function(){O(a)},300);$(".help-slider").removeClass("help-slide-style");setTimeout(function(){p.start();$("div[qid\x3d"+a+"] .taskClose").fadeIn()},500);(new C).clearAnimationAndMessage("bubble");$(".highlightArea").hide();
B.show()}});b&&b.call()}function P(a,b){for(var c=[],d=[],e=0;e<a.length;e++)d=a[e].PageUrls,-1<$.inArray(b,d)&&c.push(a[e]);c.sort(function(a,b){return parseInt(a.isDefault)-parseInt(b.isDefault)});return c}function O(a){var b="";p=new C;p.setData(G[a]["Selectors_List.Selector"],a,G[a].Task);ZCWebStorage.setItem(x.TASK_START_URL,window.location.href);var c=p.getData();$(".help-input-element-click").removeClass("help-input-element-click");$('div[qid\x3d"'+a+'"]').addClass("help-input-element-click");
for($(".helpTask-Steps").fadeIn(10);null!==c;)"true"===c.isOptional&&0>=$(c.selector).length&&(c=Q(c)),b+='\x3cdiv id\x3d"'+a+"_"+(c.step-1)+'" class\x3d"help-round-background"\x3e\x3cdiv class\x3d"help-button help-button-effect help-button-border"\x3e\x3ci class\x3d"button_icon help_icon help-steps-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+c.stepMessage+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e",c=c.next;$(".helpTask-Steps-contents").append(b)}function Q(a){return null===a.previous?(a=a.next,a.previous=null,
a):null===a.next?(a=a.previous,a.next=null,a):a.previous.next=a.next}function R(){var a='\x3cdiv id\x3d"finishedTaskMessage" class\x3d"temporaryMsg help-complete-popup"\x3e\x3cdiv class\x3d"closeBox"\x3e\x3c/div\x3e\x3ci class\x3d"help-popup-finis-ico"\x3e\x3c/i\x3e\x3cp\x3e\x3c/p\x3e\x3cdiv class\x3d"htmlMsg"\x3e\x3c/div\x3e\x3cdiv class\x3d"help-complete-footer"\x3e\x3ca class\x3d"proceed hide"\x3e'+i18n["zc.helponboard.start"]+'\x3c/a\x3e\x3ca class\x3d"skip hide"\x3e'+i18n["zc.helponboard.skip"]+
'\x3c/a\x3e\x3ca class\x3d"restart hide"\x3e'+i18n["zc.helponboard.restart"]+'\x3c/a\x3e\x3ca class\x3d"finish"\x3e'+i18n["zc.helponboard.ok"]+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e";$(document.body).append(a)}function da(){$(".zls-small").removeClass("flt-left");$(".help-slider").hide("slide",{direction:"down"},300);$(".help-slider").removeClass("animated")}function V(){var a=$("#help-card");$("#help-card").is(":visible")?B.hide():$(a).show().iSlide({skipFreeze:!0,afterClose:function(){$(a).hide()}});
$(".help-slider").addClass("animated slideInUp");setTimeout(function(){$(".slideInUp").removeClass("slideInUp")},1E3)}function W(){0<v.length&&p.unbindIncompleteEvents();$("#searchResults").empty();0<$(".hc-bubble").length&&p.clearAnimationAndMessage();$(".help-slider-minimize").removeClass("help-slider-minimize");$("#helpCard-search").val("");$(".help-input-area").remove();$(".help-slide-finish-content").hide();B.hide();C.resetHelpCard();M(N);T()}function aa(a){$.extend(G,a);for(var b=[],c=0;c<Object.keys(a).length;c++)""===
a[Object.keys(a)[c]].Task&&""===a[Object.keys(a)[c]]["Selectors_List.Selector"]||b.push(a[Object.keys(a)[c]]);b.sort(function(a,b){return parseInt(a.isDefault)-parseInt(b.isDefault)});X=X.concat(b);return b}function Y(){return ZCWebStorage.getItem(x.WALKTHROUGH_STATUS)}function T(){Shortcut.enable(!0);var a=ZCWebStorage.getItem(x.FIRST_VISIT);$.each(x,function(a,b){ZCWebStorage.remove(x[a])});ZCWebStorage.setItem(x.FIRST_VISIT,a)}function ia(){y=ZCWebStorage.getItem(x.TASKPOINTER);z=!0;if(0==y&&($(a).find("li").removeClass("zc-dem-tick"),
a=window.location.href,!(a.endsWith("/dashboard")||0<a.indexOf("signupSuccess"))))return ZCWebStorage.setItem(x.TASK_START_URL,"/userhome/"+ZCGlobal.scopeName+"/dashboard"),0==$("#finishedTaskMessage").length&&R(),$("#finishedTaskMessage \x3e p").text(u["zc.helponboard.grptask.homepageredirectmsg"]),$("#finishedTaskMessage .restart").removeClass("hide"),$("#finishedTaskMessage .finish").addClass("hide"),$("#finishedTaskMessage .restart").text("Go To Home"),$("#finishedTaskMessage").show(),d(),B.show(),
!1;if(0==$(".zc-onboard-popup").length){a='\x3cdiv class\x3d"zc-onboard-popup-wrapper"\x3e\x3cdiv class\x3d"zc-onboard-popup"\x3e\x3cdiv class\x3d"zc-onboard-title zc-dem-box-sizing"\x3e\x3cp class\x3d"title"\x3e'+u["zc.helponboard.grptask.titlemsg"]+'\x3c/p\x3e\x3cspan class\x3d"zc-onboard-subtitle"\x3e '+u["zc.helponboard.grptask.subtitlemsg"]+'\x3c/span\x3e\x3cdiv class\x3d"zc-onboard-close"\x3e\x3ca href\x3d"javascript:void(0);"\x3e '+i18n["zc.helponboard.skip"]+'\x3ci class\x3d"zc-em zc-common-close"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-onboard-body zc-dem-clearfix"\x3e\x3cdiv class\x3d"zc-onboard-steps flt-left zc-dem-box-sizing"\x3e\x3cul class\x3d"zc-onboard-steps-list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-onboard-image-action flt-left"\x3e\x3ci class\x3d"zc-onboard-image-icon"\x3e\x3c/i\x3e\x3cdiv class\x3d"zc-onboard-btn-actions"\x3e\x3ca href\x3d"javascript:void(0);" class\x3d"onboard-start" style\x3d"display: none;"\x3e'+
i18n["zc.helponboard.start"]+'\x3c/a\x3e\x3ca href\x3d"javascript:void(0);" class\x3d"onboard-next" style\x3d"display: none;"\x3e'+i18n["zc.helponboard.proceed"]+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";$(document.body).append(a);var a=$(".zc-onboard-popup .zc-onboard-steps-list");var b=0==y?u["zc.helponboard.grptask.subtitlemsg"]:D[y].taskSubTitle;var c=0==y?u["zc.helponboard.grptask.titlemsg"]:D[y].taskTitle;$(".zc-onboard-title .zc-onboard-subtitle").text(b);$(".zc-onboard-title .title").text(c);
b=Object.keys(D).length;var f=c="";for(i=1;i<=b;i++)i<=y&&(c="zc-dem-tick"),""!==D[i].taskMessage&&(f+='\x3cli class\x3d"'+c+'" id\x3d"'+D[i].ID+'"\x3e\x3ci class\x3d"ui-1-check-curve zc-li-solid"\x3e\x3c/i\x3e\x3ca href\x3d"javascript:void(0);"\x3e'+D[i].taskMessage+"\x3c/a\x3e\x3c/li\x3e"),c="";$(a).append(f);0==y?$(".onboard-start").show():m();e()}else a=$(".zc-onboard-popup .zc-onboard-steps-list"),$(a).find("li").removeClass("active"),0!=y?$(a).find("li[id\x3d"+D[y].ID+"]").addClass("zc-dem-tick"):
($(a).find("li").removeClass("zc-dem-tick"),b=u["zc.helponboard.grptask.subtitlemsg"],c=u["zc.helponboard.grptask.titlemsg"],$(".zc-onboard-title .zc-onboard-subtitle").text(b),$(".zc-onboard-title .title").text(c),$(".zc-onboard-btn-actions a").hide(),$(".onboard-start").show());b=parseInt(y)+1;null!=D[b]&&($(a).find("li[id\x3d"+D[b].ID+"]").addClass("active"),imageClass="zc-onboard-image-step-"+b,$(".zc-onboard-body").addClass(imageClass));$(".zc-onboard-popup-wrapper").active();B.show()}function S(a,
b){var c="comp-preview settings-app-icon settings-appname-edit-button setup-connection app-list lookup-display-type zc-dem-primarybtn zc-dem-fs-btn wf-add-newaction zc-dem-top-header-action-btn zcpb-mb-closebtn zc-pb-lftpnl-drag-elem backup-done-btn".split(" "),d={skipFreeze:!0,skipElement:"#help-card"},e=!1,f=!1;"wf-add-newaction"==$(a.selector).attr("hcelemname")&&z&&(f=!0);f||$.each(c,function(b,d){if($(a.selector).attr("hcelemname")==c[b]||$(a.selector).hasClass(c[b]))return e=!0,!1});e=e||""!==
a.ScrollElement;e=void 0!=b?b:e;return!e&&$(a.selector).isVisible(d)||e&&0<$(a.selector).length&&$(a.selector).is(":visible")}var ea=[],G={},ba={},D={},u={},y=0,z=!1,N={},fa={},ha={},X=[],U="",p=null,ca=[],v=[],Z=null,A=!1,H="",x={TASKPOINTER:"tasksPointer",WALKTHROUGH_STATUS:"isWalkThroughEnabled",CURRENT_TASK_ID:"currentTaskId",TASK_START_URL:"taskStartUrl",FIRST_VISIT:"firstVisit"},B;(function(){$(document).ready(function(){B=l();Y()?g():void 0!=ZCWebStorage.getItem(x.CURRENT_TASK_ID)&&ZCWebStorage.getItem(x.CURRENT_TASK_ID)&&
setTimeout(function(){$("#zcHelpButton").trigger("click")},500)})})();var C=function(){function a(){this.length=0;this.tail=this.head=null}function b(a){highlightElem=$(".highlightArea");highlightElem.show();p.clearAnimationAndMessage();l();h();z||A||ZCWebStorage.setItem(x.CURRENT_TASK_ID,a)}function c(){var a=$(document.body);0>=$(".highlightArea").length&&a.append('\x3cdiv class\x3d"highlightArea"\x3e\x3c/div\x3e');B.show();a="";if(!z){var b=u[G[currentMap.id].MessageKey];a+='\x3cdiv class\x3d"tmpMsgHdr"\x3e'+
u["zc.helponboard.help.notask"]+"\x3c/div\x3e\x3cdiv\x3e";a+='\x3cdiv class\x3d"circle"\x3e'+b+"\x3c/div\x3e"}z?(w(!0),a="",0==$("#finishedTaskMessage").length&&R(),d(),a+='\x3cdiv class\x3d"tmpMsgHdr"\x3e'+u["zc.helponboard.grptask.close.titlemsg"]+"\x3c/div\x3e\x3cdiv\x3e",a+='\x3cdiv class\x3d"circle"\x3e'+u["zc.helponboard.grptask.close.subtitlemsg"]+"\x3c/div\x3e",$("#finishedTaskMessage .htmlMsg").html(a),$("#finishedTaskMessage").show(),$("#finishedTaskMessage .help-popup-finis-ico").hide(),
$("#finishedTaskMessage \x3e p").hide(),n()):A?(a="",0==$("#finishedTaskMessage").length&&R(),d(),a+='\x3cdiv class\x3d"tmpMsgHdr"\x3e'+u["zc.helponboard.grptask.close.titlemsg"]+"\x3c/div\x3e\x3cdiv\x3e",$("#finishedTaskMessage .htmlMsg").html(a),$("#finishedTaskMessage").show(),$("#finishedTaskMessage .help-popup-finis-ico").hide(),$("#finishedTaskMessage \x3e p").hide(),A=!1,$(".zc-onboard-c5switch").removeClass("zc-onboard-c5switch")):($("#finishedTaskMessage .htmlMsg").html(a),$("#finishedTaskMessage .help-popup-finis-ico").hide(),
$("#finishedTaskMessage \x3e p").hide(),$("#finishedTaskMessage .restart").addClass("hide"),$("#finishedTaskMessage .finish").removeClass("hide"),$("#finishedTaskMessage").trigger("fadeIn"),$(document).keyup(function(a){27===a.keyCode&&$("#finishedTaskMessage .closeBox").trigger("click")}))}function e(a){B.hide();a.off().on("mouseover.highlight",function(){a.hide()})}function g(a,b){if(a&&0<a.length)for(var c in b){var d=b[c];$(a).off(d)}}function h(){var a=0,b=0;if(""!==currentMap.ScrollElement){var d=
$(currentMap.ScrollElement);if(S(currentMap)||"zcddChange"==currentMap.eventType){var e="zcddChange"==currentMap.eventType?$(currentMap.selector).data("zcdd").getContainer():$(currentMap.selector);a=e.offset().top;b=a-e.innerHeight()/2-120;H(a,d.position().top,d.position().top+d.height())||setTimeout(function(){b+=d.scrollTop();d.animate({scrollTop:b},500)},200);Z=setTimeout(function(){S(currentMap,!1)?p.displayAnimationAndMessage():c()},900)}else setTimeout(function(){h()},200)}else Z=setTimeout(function(){p.displayAnimationAndMessage()},
700)}function k(){if(currentMap&&!A){switch(currentMap.eventType){case "drag":g($(currentMap.selector),["mouseover.dragHelpCard","mousedown.dragHelpCard","dragstart.dragHelpCard"]);g($(document),["dragstop.dragHelpCard"]);break;case "drop":g($(currentMap.selector),["mouseenter.dropHelpCard"]);break;case "click":g($(currentMap.selector),["click.clickHelpCard"]);break;case "mouseover":g($(currentMap.selector),["mouseover.mouseoverHelpCard","mousedown.mouseoverHelpCard","mousemove.mouseoverHelpCard",
"mouseup.mouseoverHelpCard"]);g($(document),["mouseup.mouseoverHelpCard"]);break;case "hover":g($(currentMap.selector),["mouseenter.hoverHelpCard"]);break;case "blur":g($(currentMap.selector),["blur.blurHelpCard"]);break;case "change":g($(currentMap.selector),["change.changeHelpCard"]);break;case "zcddChange":g($(currentMap.selector),["change.zcddChangeHelpCard"]);break;case "keyevent":g($(currentMap.selector),["keydown.keyupHelpCard"]),g($(currentMap.selector),["change.keyupHelpCard"])}0<$(".help-slider-minimize-left").length&&
$(".help-slider-minimize-left").removeClass("help-slider-minimize-left")}p.unbindResizeEvent()}function l(){var a=currentMap.eventType;switch(a){case "drag":v.push({selector:$(currentMap.selector),events:["mouseover.dragHelpCard"]});$(currentMap.selector).on("mouseover.dragHelpCard",I);break;case "drop":v.push({selector:$(currentMap.selector),events:["mouseenter.dropHelpCard"]});$(currentMap.selector).on("mouseenter.dropHelpCard",K);break;case "click":v.push({selector:$(currentMap.selector),events:["click.clickHelpCard"]});
$(currentMap.selector).on("click.clickHelpCard",M);break;case "mouseover":v.push({selector:$(currentMap.selector),events:["mouseover.mouseoverHelpCard"]});$(currentMap.selector).on("mouseover.mouseoverHelpCard",r);break;case "hover":v.push({selector:$(currentMap.selector),events:["mouseenter.hoverHelpCard"]});$(currentMap.selector).on("mouseenter.hoverHelpCard",q);break;case "change":v.push({selector:$(currentMap.selector),events:["change.changeHelpCard"]});$(currentMap.selector).on("change.changeHelpCard",
E);break;case "zcddChange":v.push({selector:$(currentMap.selector),events:["change.zcddChangeHelpCard"]});$(currentMap.selector).on("change.zcddChangeHelpCard",E);break;case "blur":v.push({selector:$(currentMap.selector),events:["blur.blurHelpCard"]});setTimeout(function(){$(currentMap.selector).on("blur.blurHelpCard",F)},500);break;case "keyevent":v.push({selector:$(currentMap.selector),events:["keydown.keyupHelpCard"]}),$(currentMap.selector).off("keydown.keyupHelpCard").on("keydown.keyupHelpCard",
function(a){clearTimeout(Z);13===a.keyCode&&(""==$(this).val().trim()?(p.clearAnimationAndMessage(),p.bindEvent(currentMap)):(p.clearAnimationAndMessage(),k(),currentMap=currentMap.next,p.getNextElement()))}),v.push({selector:$(currentMap.selector),events:["change.keyupHelpCard"]}),$(currentMap.selector).on("change.keyupHelpCard",E)}"zcddChange"==a?p.ripple($(".highlightArea"),$(currentMap.selector).data("zcdd").getContainer()):p.ripple($(".highlightArea"),$(currentMap.selector));a=Object.keys(D).length;
z&&y==a&&0<currentMap.selector.indexOf("zc-dem-access-link")&&(a=$(currentMap.selector).attr("href").split("#")[0]+"?wt\x3d_proceed",$(currentMap.selector).attr("href",a))}function q(){p.clearAnimationAndMessage();$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");p.getNextElement()}function M(){p.clearAnimationAndMessage();$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");p.getNextElement()}function P(a){p.clearAnimationAndMessage();
$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");"mouseoverHelpCard"!=a.handleObj.namespace&&(currentMap=currentMap.next,$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover"));p.getNextElement()}function r(){p.unbindIncompleteEvents();var a=$(currentMap.elem),b=$(currentMap.target);v.push({selector:a,events:["mousedown.mouseoverHelpCard"]});a.on("mousedown.mouseoverHelpCard",function(){v.push({selector:a,events:["mousemove.mouseoverHelpCard"]});
v.push({selector:$(currentMap.selector),events:["dblclick.mouseoverHelpCard"]});a.off("dblclick.mouseoverHelpCard").on("dblclick.mouseoverHelpCard",P);a.on("mousemove.mouseoverHelpCard",function(){v.push({selector:$(document),events:["mouseup.mouseoverHelpCard"]});$(".hc-bubble").hide();$(".highlightArea").hide();hideXfreezer();b.xfreeze();$(document).off("mouseup.mouseoverHelpCard").on("mouseup.mouseoverHelpCard",function(a){p.clearAnimationAndMessage();$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-
1)+'"]').addClass("help-button-effect-hover");k();p.getNextElement()})})})}function F(){p.clearAnimationAndMessage();$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");p.getNextElement();currentMap.onblur=!0}function E(){p.clearAnimationAndMessage();$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");p.getNextElement()}function I(){p.unbindIncompleteEvents();var a=$(currentMap.elem),b=$(currentMap.target),c=
currentMap;v.push({selector:a,events:["mousedown.dragHelpCard"]});a.on("mousedown.dragHelpCard",function(){a.off("mousedown.dragHelpCard");v.push({selector:$(currentMap.elem),events:["dragstart.dragHelpCard"]});v.push({selector:$(currentMap.selector),events:["dblclick.dragHelpCard"]});a.off("dblclick.dragHelpCard").on("dblclick.dragHelpCard",P);a.on("dragstart.dragHelpCard",function(a){currentMap.started=!0;p.ripple($(".highlightArea"),b);$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"] .button_icon').removeClass("button_icon_red");
$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover");$(".hc-bubble").hide();$(".highlightArea").hide();p.getNextElement();v.push({selector:$(document),events:["dragstop.dragHelpCard"]});$(document).on("dragstop.dragHelpCard",function(a){var d=H(a.pageX,b.offset().left,b.offset().left+b.width());a=H(a.pageY,b.offset().top,b.offset().top+b.height());d&&a?(currentMap.started=!1,$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"] .button_icon').removeClass("button_icon_red"),
$('div[id\x3d"'+currentMap.id+"_"+(currentMap.step-1)+'"]').addClass("help-button-effect-hover"),p.clearAnimationAndMessage(),$(".hc-bubble").hide(),k(),clearTimeout(Z),p.getNextElement()):($(".help-button-effect-hover").removeClass("help-button-effect-hover"),z&&hideXfreezer(),p.clearAnimationAndMessage(),p.bindEvent(c))})})})}function K(){p.clearAnimationAndMessage();k()}function Q(){var a=currentMap.selector;$(a).find("[elname\x3dcriteriaField] optgroup:not([label\x3d'User Defined Fields'])").remove();
$(a).find("[elname\x3dcriteriaField] option:not([fctype\x3d29]):not([fctype\x3d0])").remove()}function H(a,b,c){return a>b&&a<c}this.selectors=[];this.descriptions=[];U=".blink-hovered";messageBubbleDiv=".hc-bubble";eventMap={};currentMap={};var N=new a;a.prototype.add=function(a,b){""===a[2]&&(a[2]="hover");a={selector:a[0],description:u[a[1]],eventType:a[2],target:a[3],stepMessage:u[a[4]],elem:$(a[0]),id:b,next:null,previous:null,step:this.length+1,isOptional:a[5],ScrollElement:a[6],urlRegex:a[7],
iframe:a[9]};0===this.length?this.head=a:(this.tail.next=a,a.previous=this.tail);this.tail=a;this.length++};this.getData=function(){return N.head};this.setData=function(b,c,d){var e=!1,f;currentMap={};ca=b;for(var g=0;g<ca.length;g++){var h=ca[g].value.split("-|-");if(h[7]&&!1===e){b=new RegExp(h[8].trim());var k=window.location.href;if(e=C.is_current_url(b,k))(f=C.is_exactUrl(b,k))?(k.match(b),N=new a,this.selectors=[],this.descriptions=[]):e=!1}N.add(h,c,d);this.selectors.push(h[0]);this.descriptions.push(h[1])}currentMap=
N.head};this.start=function(a){p.clearAnimationAndMessage();p.unbindIncompleteEvents();p.bindEvent()};this.bindEvent=function(a){p.clearAnimationAndMessage();currentMap={};p.unbindIncompleteEvents();currentMap=void 0!=a?a:p.getData();a=$(document.body);z&&hideXfreezer();if(0<$(currentMap.selector).length)if(0>=$(".highlightArea").length?(B.show(),a.append('\x3cdiv class\x3d"highlightArea"\x3e\x3c/div\x3e')):($(".temporaryMsg").hide(),B.show()),S(currentMap))b(currentMap.id);else{var d=0;if("zcddChange"==
currentMap.eventType)b(currentMap.id);else var e=setInterval(function(){d++;S(currentMap)?(clearInterval(e),b(currentMap.id)):5<d&&(clearInterval(e),c())},1E3)}else c();$(document).off("click").on({click:function(a){0<$(".ui-autocomplete").length&&$(".ui-autocomplete").hide("")}});$(".taskClose.optionClose").off("click").on({click:function(){$(".help-slider-minimize").removeClass("help-slider-minimize");$(".help-slider-minimize-left").removeClass("help-slider-minimize-left");$("#finishedTaskMessage .restart").addClass("hide");
f();L()}})};this.listNextTask=function(a){$('div[qid\x3d"'+a.ID+'"]').on({click:function(){$(".help-slider").addClass("help-slider-minimize");$(".helpTask-Steps-contents").empty();$(this).find("div.closeBox").addClass("optionClose");$(".closeBox.taskClose").not(".optionClose").remove();O(a.ID);$(this).addClass("help-input-element-click");$(".help-input-area").not(".help-input-element-click").remove();setTimeout(function(){p.start();$(".taskClose").fadeIn()},1500)}})};this.animationPlacing=function(a){var b=
$(".highlightArea");a="zcddChange"==currentMap.eventType?$(a).data("zcdd").getContainer():$(a);if(0<a.length){var c=a.offset();b.css({top:c.top,left:c.left,height:a.outerHeight(),width:a.outerWidth()});p.clearAnimationAndMessage();b.show();b.children().show()}};this.unbindIncompleteEvents=function(){if(v&&0<v.length){for(var a in v){var b=v[a];g(b.selector,b.events)}v=[]}};this.getNextElement=function(a){k();(z||A)&&hideXfreezer();var b=!1;$(".helpScreenFreeze-target").removeClass("helpScreenFreeze-target");
var d=0;a=void 0!=a?a:8;if(null!==currentMap.next){currentMap=currentMap.next;var e=currentMap.elem;if(S(currentMap)){var f=$(document).find(e.selector);0<f.length&&(currentMap.elem=f);z&&4==y&&9==currentMap.step&&Q();"keyevent"==currentMap.previous.eventType?l():setTimeout(function(){l()},500);h()}else var g=setInterval(function(){var b=$(document.body).find(e.selector);d++;S(currentMap)?(clearInterval(g),currentMap.elem=b,z&&4==y&&9==currentMap.step&&Q(),setTimeout(function(){l()},500),h()):d>a&&
(clearInterval(g),c())},1E3);$(".helpScreenFreezeEffect").removeClass("helpScreenFreezeEffect");B.show()}else z?(ZCWebStorage.setItem(x.TASKPOINTER,y),ZCWebStorage.setItem(x.WALKTHROUGH_STATUS,!0),f=Object.keys(D).length,z&&(y==f?(b=!0,n()):m())):(T(),p.clearAnimationAndMessage(),B.hide(),$("#help-card .help-slide-finish-content").show(),$("#help-card .helpTask-Steps").hide(),$(".help-slide-finish-content .hc-task-name").text(G[currentMap.id].Task));z||b||A||(A&&null==currentMap.next?(A=!1,$(".zc-onboard-c5switch").removeClass("zc-onboard-c5switch")):
(b=$(".helpTask-Steps .helpTask-Steps-contents .help-button-effect-hover"),document.querySelector(".helpTask-Steps").scrollTop=29*(b.length-1)))};this.displayAnimationAndMessage=function(a){p.animationPlacing(currentMap.selector);J();e($(".highlightArea"));!a&&(z||A)&&$(currentMap.selector).xfreeze({outerDimensions:$(currentMap.selector).hasClass("zc-dem-icon-container")});A&&(4==currentMap.step?$("#zc-component-switch").addClass("zc-onboard-show-comp"):$(currentMap.selector).addClass("zc-onboard-show-comp"));
Shortcut.disable(!0);null===currentMap.next&&v.push({selector:$(currentMap.selector),events:["click.lastelem"]});v.push({selector:$(window),events:["resize.helpcard"]});var b;$(window).off("resize.helpcard").on("resize.helpcard",function(){clearTimeout(b);b=setTimeout(function(){$(".hc-bubble").hide();p.displayAnimationAndMessage(!0)},100)})};this.unbindResizeEvent=function(){g($(window),["resize.helpcard"])};this.initiateSpecificStep=function(a){var b=p.getData();p.clearAnimationAndMessage();for(var c=
0;c<a;c++)b=b.next;currentMap=b;p.animationPlacing(currentMap.selector);J();k();l()};this.refreshData=function(){for(var a=N.head;null!==a;)delete a.onblur,a=a.next};this.ripple=function(a,b){var c=b.offset(),d=$("#help-card").offset();c&&d&&c.left+b.outerWidth()>=d.left&&c.top+b.outerHeight()>=d.top?$(".help-slider").addClass("help-slider-minimize-left"):$(".help-slider").is(":visible")||z||A||V();0===$(".blink-hovered").length?(b=$('\x3cdiv class\x3d"blink-hovered"/\x3e'),b.appendTo(a)):$(U).show()};
this.clearAnimationAndMessage=function(a){0<$(U).length&&"ripple"===a?$(U).hide():(0<$(messageBubbleDiv).length&&"bubble"===a||($(".highlightArea").hide(),$(U).hide()),$(messageBubbleDiv).hide())}};C.resetHelpCard=function(){$(".related-links").hide();$(".related-links-content").empty();$(".helpTask-Steps-contents").empty();$("#searchResults").empty()};C.is_current_url=function(a,b){return a.test(b)};C.is_exactUrl=function(a,b){a=b.match(a);return null!==a&&b.substr(a.index,b.length)===a[0]?!0:!1};
return{init:function(b){Y()?$("#help-card").hide():a(b,!0,function(){"none"===$("#help-card").css("display")?($("#help-card").showLoading(),L()):F()})},executeGrpTask:g,switchOnboard:function(){showLoading();b(null,function(){hideLoading();A=!0;q();$("body").addClass("zc-onboard-c5switch");B.show();I();setTimeout(function(){$(".zc-onboard-popup-wrapper").active()},800)})},clearLocalStorage:T,checkGrpTaskLoaded:Y,updateWalkthroughstatus:r}}();ZCFOOTER={BUILDER:1,DASHBOARD:2,SETUP:3,SIGNUPSUCCESS:4,getInstance:function(a){switch(a){case 1:case 2:case 3:case 4:return ZCGlobal.isOnPremiseVersion?new WrappedFooter(a):new WMSFooter(a)}}};
function ZCFooter(){var a=this;this.init=function(b){useCompression&&!ZCGlobal.isOnPremiseVersion?loadFiles([ZCPath.wmsbarCss,ZCPath.wmsbarJs]).then(function(){a.setup(b)}):a.setup(b)};this.getFooterEls=function(){var a=ZCGlobal.setup,c=ZCGlobal.isRequestFromUS;if("undefined"!=typeof homeInfo&&homeInfo.isOnPremiseVersion||"undefined"!=typeof bootConfig&&bootConfig.isOnPremiseVersion)var d=!0;var e="\x3cdiv class\x3d'flt-right'\x3e";ZCGlobal.eligibleForC6Upgrade&&(e+="\x3cspan id\x3d'c6UpgradePopupOpenBtn' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-c6upgrade'"+
(ZCGlobal.remindC6Upgrade?" style\x3d'display: none;'":"")+"\x3e\x3ci class\x3d'zc-li-solid zc-new-solid' value\x3d'zc-new-solid' html\x3d'zc-new-solid'\x3e\x3c/i\x3e\x3ca\x3e\x3cspan\x3e"+i18n["zc.common.c6.upgrade.trycreator6"]+"\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e");e+="\x3cspan id\x3d'zcChatButton' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-chat-link' title\x3d'"+i18n["zc.settings.usersAndPermissions.chat"]+"' data-title-position\x3d'top'\x3e\x3ci class\x3d'zc-em zc-common-chat'\x3e\x3c/i\x3e\x3c/span\x3e";
c&&(e+="\x3cspan id\x3d'zc-zoholics' class\x3d'zc-dem-zoholics-banner'\x3e\x3cspan\x3e\x3ca href\x3d'https://www.zoho.com/workshops/creator-us.html' target\x3d'_blank'\x3e"+i18n["zc.zoholics.link.usroadshow"]+"\x3c/a\x3e\x3c/span\x3e\x3c/span\x3e");!ZCGlobal.isSuperAdmin||ZCGlobal.isDeveloperEdition||d||(ZCGlobal.isPaidVersion?e+="\x3cspan id\x3d'zcSubsUpgrade' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-subs-upgrade' data-title-position\x3d'top'\x3e\x3ca href\x3d'javascript:void(0);' tabindex\x3d'-1' class\x3d'zc-dem-top-header-action-btn zc-dem-subscribe zc-dem-clearfix' title\x3d'"+
i18n["zc.common.builder.trialexpires.subscriptionmsg"]+"' onclick\x3d'Upgrade.redirectToUpgradePage(\""+ZCGlobal.scopeName+'","Footer");\'\x3e\x3cspan\x3e'+i18n["zc.accacordian.subscription"]+"\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e":(e+="\x3cdiv id\x3d'zcSubsUpgrade' tabindex\x3d'-1' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-subs-upgrade'\x3e\x3cspan data-title-position\x3d'top'\x3e",ZCGlobal.isEvaluationVersion?(e+=i18n["zc.common.builder.trialexpires"]+"\x3c/span\x3e\x3cspan class\x3d'zc-dem-expiry-to-trial-days'\x3e"+
(ZCGlobal.trailExpireDays+1)+"\x3c/span\x3e\x3cspan class\x3d'zc-dem-expiry-days-text'\x3e",e=0==ZCGlobal.trailExpireDays?e+(i18n["zc.common.builder.trialexpires.day"]+"\x3c/span\x3e\x3cspan\x3e | \x3c/span\x3e"):e+(i18n["zc.common.builder.trialexpires.days"]+"\x3c/span\x3e\x3cspan\x3e | \x3c/span\x3e")):ZCGlobal.isTrailCanceledUser&&(e+=i18n["zc.common.builder.trialexpired"]+"\x3c/span\x3e\x3cspan\x3e | \x3c/span\x3e"),e+="\x3ca href\x3d'javascript:void(0);' tabindex\x3d'-1' class\x3d'zc-dem-top-header-action-btn zc-dem-upgrade zc-dem-clearfix' title\x3d'"+
i18n["zc.common.builder.trialexpires.upgrademsg"]+"'onclick\x3d'Upgrade.redirectToUpgradePage(\""+ZCGlobal.scopeName+'","Footer");\'\x3e\x3cspan\x3e'+i18n["zc.accacordian.upgrade"]+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e"));e+="\x3cspan id \x3d 'zcKeyboardShortcut' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-keybd-link' title\x3d'"+i18n["zc.dem.keyboardshortcuts"]+"' data-title-position\x3d'top'\x3e\x3ci class\x3d'zc-em zc-common-keyboard'\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan id\x3d'zcFeedback' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-feedback-link'\x3e\x3ci class\x3d'zc-db-em zc-dbemcommon-email'\x3e\x3c/i\x3e\x3cspan\x3e"+
i18n["zc.edit.feedback"]+"\x3c/span\x3e\x3c/span\x3e\x3cspan id\x3d'zcLiveChat' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-livechat-link'\x3e\x3ci class\x3d'zc-em zc-common-headphone'\x3e\x3c/i\x3e\x3cspan\x3e"+i18n["zc.pricing.liveChatSupport"]+"\x3c/span\x3e\x3c/span\x3e";e+="\x3cspan id \x3d 'zcChat' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-livesupport-link' title\x3d'"+i18n["zc.reachus.liveChat"]+"' data-title-position\x3d'top' style\x3d'display:none'\x3e\x3ci class\x3d'zc-db-em zc-dbemlive-chat-active'\x3e\x3c/i\x3e\x3csmall class\x3d'circle-ripple'\x3e\x3c/small\x3e\x3c/span\x3e";
-1==["skydesk"].indexOf(a)&&(e+="\x3cspan id\x3d'zcHelpButton' class\x3d'zc-dem-ui-footer-links zc-dem-box-sizing zc-dem-help-link'\x3e\x3ci class\x3d'zc-db-em zc-dbemcommon-help-alt'\x3e\x3c/i\x3e\x3cspan\x3e"+i18n["zc.home.help"]+"\x3c/span\x3e\x3c/span\x3e");return e+"\x3c/div\x3e"};this.generateHelpCardOption=function(){switch(ZCGlobal.setup){case "skydesk":var b=[{className:"zc-db-em zc-dbemuser-guide",title:i18n["zc.helponboard.footer.userguide"],href:"https://www.skydesk.jp/en/apps/creator/help/",
target:"_blank",id:"zc-footer-user-Guide"},{className:"zc-db-em zc-dbemlive-chat",title:i18n["zc.reachus.liveChat"],target:"_blank",id:"ZCLiveChat"}];break;case "cn":b=[{className:"zc-db-em zc-dbemuser-guide",title:i18n["zc.helponboard.footer.userguide"],href:"https://www.zoho.com.cn/creator/help/user-guides.html",target:"_blank",id:"zc-footer-user-Guide"},{className:"zc-db-em zc-dbemlive-chat",title:i18n["zc.reachus.liveChat"],target:"_blank",id:"ZCLiveChat"},{className:"zc-db-em zc-dbemhelp-support",
title:i18n["zc.helponboard.footer.support"],id:"zc-reachus-live-support"},{className:"zc-db-em zc-dbemhire-expert",title:i18n["zc.helponboard.footer.hireanexpert"],href:"http://www.zoho.com.cn/creator/post-requirement.html",target:"_blank",id:"zc-footer-help-hire-expert"}];break;case "eu":b=[{className:"zc-db-em zc-dbemuser-guide",title:i18n["zc.helponboard.footer.userguide"],href:"https://"+(ZCGlobal.isC6Account?"www.zoho.com/creator/help/user-guides.html":"www.zoho.eu/creator/newhelp/user-guides.html"),
target:"_blank",id:"zc-footer-user-Guide"},{className:"zc-db-em zc-dbemlive-chat",title:i18n["zc.reachus.liveChat"],target:"_blank",id:"ZCLiveChat"},{className:"zc-db-em zc-dbemhelp-support",title:i18n["zc.helponboard.footer.support"],id:"zc-reachus-live-support"},{className:"help-webinar",title:i18n["zc.helponboard.footer.webinar"],href:"https://www.zoho.eu/creator/webinars.html?source\x3dinproduct_homeHelp",target:"_blank",id:"zc-footer-help-Webinar"},{className:"zc-db-em zc-dbemhire-expert",title:i18n["zc.helponboard.footer.hireanexpert"],
href:"http://www.zoho.eu/creator/partners/work-with-a-partner.html?src\x3dHelp",target:"_blank",id:"zc-footer-help-hire-expert"}];break;default:b=[{className:"zc-db-em zc-dbemuser-guide",title:i18n["zc.helponboard.footer.userguide"],href:"https://"+(ZCGlobal.isC6Account?"www.zoho.com/creator/help/user-guides.html":"www.zoho.com/creator/newhelp/user-guides.html"),target:"_blank",id:"zc-footer-user-Guide"},{className:"zc-db-em zc-dbemlive-chat",title:i18n["zc.reachus.liveChat"],target:"_blank",id:"ZCLiveChat"},
{className:"zc-db-em zc-dbemhelp-support",title:i18n["zc.helponboard.footer.support"],id:"zc-reachus-live-support"},{className:"help-webinar",title:i18n["zc.helponboard.footer.webinar"],href:"https://www.zoho.com/creator/webinars.html?source\x3dinproduct_liveHelp",target:"_blank",id:"zc-footer-help-Webinar"},{className:"help-hire-an-expert",title:i18n["zc.helponboard.footer.hireanexpert"],href:"https://www.zoho.com/creator/partners/work-with-a-partner.html?src\x3dHelp",target:"_blank",id:"zc-footer-help-hire-expert"}]}return{navigationLinks:b,
invokeElement:$("#zcHelpButton"),callback:function(){var b=function(){switch(a.type){case 1:var b=REACHUS.BUILDER;break;case 2:case 3:case 4:b=REACHUS.DASHBOARD}REACHUS.getInstance(b)};if(useCompression){var d=new Requires(Modules.SUPPORTFEEDBACK);require(d.get(),d.getPromise(function(){b()}))}else b()}}};this.bindFooterEls=function(){if(ZCGlobal.eligibleForC6Upgrade)$("#c6UpgradePopupOpenBtn").off("click").on("click",function(){C6UpgradePopup.openC6UpgradePopup()});$(".zc-dem-keybd-link").off("click").on("click",
function(){KeyUtil.showHelp()});$("#zcFeedbackClose").off("click").on("click",function(){unfreeze();$("#zcfooterfeedback").removeClass("active")});$("#zcHelpButton").off("click").on("click",function(){var b=a.generateHelpCardOption();HelpCard.init(b);$(".zls-small").addClass("flt-left")});if(ZCGlobal.zcChatEnabled||ZCGlobal.zcPreSalesEnabled||ZCGlobal.zcUpgradeChatEnabled)$("#zcChat").off("click").on("click",function(){ZCLiveChat.load()});$("#licenseInfo").off("click").on("click",function(a){getLicenseContent()});
$("#chatFooter").zcTooltip()};this.setup=function(a){}}
function WMSFooter(a){ZCFooter.call(this);this.type=a;var b=this;this.setup=function(a){if("undefined"==typeof isCrmIntegDomain||!isCrmIntegDomain)if("undefined"==typeof isConnectOrigin||!isConnectOrigin){try{WmsUIImpl.UIReady=function(){WebMessanger.disableWMSStatus();WebMessanger.setServiceStatus("\x3cdiv id\x3d'chatFooter' class\x3d'zc-dem-ui-footer'\x3e"+b.getFooterEls()+"\x3c/div\x3e");b.bindFooterEls();$("#zcChatButton").hide();a&&$("#zcKeyboardShortcut").hide();$("#zcLiveChat").hide();$("#zcFeedback").hide();
$("#wms-menucontainer [title],#ui-zfeedback-dialog [title]").attr("data-title-ignore",!0)}}catch(e){var c=window.console;c.log(e)}try{WebMessanger.disableNetworkDownBanner(),WebMessanger.disableAudioVideoChat(),WebMessanger.setNoDomainChange(),WebMessanger.setChatServer(chatUrl),WebMessanger.enableGlobalSearch(),WebMessanger.enablePhoneBridge(0==ZCGlobal.bundleOrgId?{serviceName:"ZohoCreator",serviceId:ZCGlobal.loginZsoid}:{serviceName:"ZohoCreator",serviceId:ZCGlobal.loginZsoid,bundleService:ZCGlobal.bundleName,
bundleOrgId:ZCGlobal.bundleOrgId}),WebMessanger.register("CE",ZCGlobal.loginZuid,!1)}catch(e){c=window.console,c.log(e)}}}}WMSFooter.prototype=Object.create(ZCFooter.prototype);WMSFooter.prototype.constructor=WMSFooter;
function WrappedFooter(a){ZCFooter.call(this);var b=this;this.type=a;this.setup=function(a){$("body").append("\x3cdiv id\x3d'zc-mail-support' class\x3d'zc-dem-right-popup zc-dem-box-sizing zc-op-support-slider'\x3e\x3cdiv class\x3d'zc-dem-right-title zc-dem-box-sizing'\x3e\x3cspan class\x3d'zc-dem-right-title-text zc-dem-clearfix'\x3e\x3ci class\x3d'tech-2-headset zc-li-solid'\x3e\x3c/i\x3e\x3cspan\x3e"+i18n["zc.reachus.reachUs"]+"\x3c/span\x3e\x3c/span\x3e\x3ca id\x3d'opreachUsClose' href\x3d'javascript:;' class\x3d'zc-dem-right-close'\x3e\x3ci\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-dem-tab zc-dem-clearfix'\x3e\x3ca class\x3d'zc-dem-tab-header zc-dem-box-sizing selected'\x3e\x3ci class\x3d'zc-li-outline tech-2-headset'\x3e\x3c/i\x3e\x3cspan\x3e"+
i18n["zc.reachus.Email"]+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-dem-right-content zc-dem-box-sizing'\x3e\x3cdiv id\x3d'reachUsForm'\x3e\x3cdiv class\x3d'zc-dem-label-top zc-dem-form-group'\x3e\x3clabel\x3e"+i18n["zc.home.from"]+"\x3c/label\x3e\x3cdiv class\x3d'zc-dem-field-group'\x3e\x3cinput type\x3d'text' id\x3d'fromEmailForSupport' name\x3d'fromEmailForSupport' value\x3d'"+ZCGlobal.loginEmail+"' class\x3d'zc-dem-field zc-dem-input zc-dem-box-sizing'\x3e\x3cspan class\x3d'zc-onpremise-field-msg'\x3e"+
i18n["zc.op.footer.reachus.from.note"]+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-dem-label-top zc-dem-form-group zc-op-subject-field'\x3e\x3cdiv class\x3d'zc-dem-field-group'\x3e\x3cinput type\x3d'text' id\x3d'subjectForSupport' name\x3d'subjectForSupport' placeholder\x3d'"+i18n["zc.op.footer.reachus.subject.placeholder"]+"' class\x3d'zc-dem-field zc-dem-input zc-dem-box-sizing'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-dem-label-top zc-dem-form-group zc-op-comments-field'\x3e\x3cdiv class\x3d'zc-dem-field-group'\x3e\x3ctextarea id\x3d'contentForSupport' placeholder\x3d'"+
i18n["zc.op.footer.reachus.comments.placeholder"]+"' class\x3d'zc-dem-field zc-dem-input zc-dem-box-sizing zc-dem-textarea'\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-op-attachedfiles'\x3e\x3ci class\x3d'zc-li-outline files-3-zip'\x3e\x3c/i\x3e\x3cspan id\x3d'attachment_name' class\x3d'zc-op-filename'\x3e\x3c/span\x3e\x3cspan id\x3d'attachment_size'\x3e\x3c/span\x3e\x3ci id\x3d'removeAttachment' class\x3d'zc-li-solid ui-1-simple-remove'\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d'zc-op-reachuslinks'\x3e\x3cli class\x3d'zc-op-attachment-container'\x3e\x3cinput type\x3d'file' title\x3d'"+
i18n["zc.op.footer.reachus.attach.title"]+"' id\x3d'attachment' class\x3d'zc-op-attachment-link' /\x3e\x3ci class\x3d'zc-li-outline ui-1-attach-86'\x3e\x3c/i\x3e\x3c/li\x3e\x3cli id\x3d'opreachUsStatusToggle' class\x3d'zc-op-status-container'\x3e\x3ci id\x3d'criticality' title\x3d'"+i18n["zc.op.footer.reachus.criticality.title"]+"' class\x3d'zc-li-outline ui-2-alert-'\x3e\x3c/i\x3e\x3cdiv id\x3d'opreachUsStatus' class\x3d'zc-op-status-list'\x3e\x3cspan\x3e"+i18n["zc.op.footer.reachus.criticality.header"]+
"\x3c/span\x3e\x3cul\x3e\x3cli class\x3d'zc-op-status-none'\x3e\x3cdiv class\x3d'zc-dem-radio zc-dem-clearfix'\x3e\x3cinput type\x3d'radio' name\x3d'ReachUsStatus' value\x3d'"+i18n["zc.op.footer.reachus.criticality.none"]+"' id\x3d'ReachUsStatus_none' checked\x3e\x3clabel for\x3d'ReachUsStatus_none' class\x3d'zc-op-status-list-label'\x3e"+i18n["zc.op.footer.reachus.criticality.none"]+"\x3c/label\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d'zc-op-status-FYI'\x3e\x3cdiv class\x3d'zc-dem-radio zc-dem-clearfix'\x3e\x3cinput type\x3d'radio' name\x3d'ReachUsStatus' value\x3d'"+
i18n["zc.op.footer.reachus.criticality.fyi"]+"' id\x3d'ReachUsStatus_fyi'\x3e\x3clabel for\x3d'ReachUsStatus_fyi' class\x3d'zc-op-status-list-label'\x3e"+i18n["zc.op.footer.reachus.criticality.fyi"]+"\x3c/label\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d'zc-op-status-wait'\x3e\x3cdiv class\x3d'zc-dem-radio c-dem-clearfix'\x3e\x3cinput type\x3d'radio' name\x3d'ReachUsStatus' value\x3d'"+i18n["zc.op.footer.reachus.criticality.wait"]+"' id\x3d'ReachUsStatus_wait'\x3e\x3clabel for\x3d'ReachUsStatus_wait' class\x3d'zc-op-status-list-label'\x3e"+
i18n["zc.op.footer.reachus.criticality.wait"]+"\x3c/label\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d'zc-op-status-urgent'\x3e\x3cdiv class\x3d'zc-dem-radio zc-dem-clearfix'\x3e\x3cinput type\x3d'radio' name\x3d'ReachUsStatus' value\x3d'"+i18n["zc.op.footer.reachus.criticality.emergency"]+"' id\x3d'ReachUsStatus_emergency'\x3e\x3clabel for\x3d'ReachUsStatus_emergency' class\x3d'zc-op-status-list-label'\x3e"+i18n["zc.op.footer.reachus.criticality.emergency"]+"\x3c/label\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3ci class\x3d'zc-op-status-list-arrow'\x3e \x3c/i\x3e\x3c/div\x3e\x3c/li\x3e\x3c/div\x3e\x3cspan id\x3d'attachmentMsg' class\x3d'zc-onpremise-field-msg'\x3e"+
i18n["zc.op.footer.reachus.attachment.note"]+"\x3c/span\x3e\x3cdiv id\x3d'reachUsFormSubmitButton' class\x3d'zc-dem-btnactions'\x3e\x3cbutton type\x3d'button' id\x3d'submitRequest' class\x3d'zc-dem-border-radius-2 zc-dem-box-sizing zc-dem-btn'\x3e\x3cspan\x3e"+i18n["zc.op.footer.reachus.submit"]+"\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'wmstoolbar' class\x3d'zc-footer zc-onpremise-footer'\x3e\x3cdiv id\x3d'zcHelpButton' class\x3d'zc-foot-help zc-foot-link'\x3e\x3ci class\x3d'zc-db-em zc-dbemcommon-help-alt'\x3e\x3c/i\x3e\x3cspan\x3e"+
i18n["zc.home.help"]+"\x3c/span\x3e\x3cul class\x3d'zc-foot-help-link'\x3e\x3cli\x3e\x3ca href\x3d'https://www.zoho.com/creator/on-premise/help/user-guides.html' target\x3d'_blank' title\x3d''\x3e"+i18n["zc.helponboard.footer.userguide"]+"\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d'https://www.zoho.com/creator/help/on-premise/quick-start-guide.html' target\x3d'_blank' title\x3d''\x3e"+i18n["zc.help.quickGuide"]+"\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca id\x3d'zc-support' title\x3d''\x3e"+i18n["zc.helponboard.footer.support"]+
"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id \x3d 'zcKeyboardShortcut' class\x3d'zc-foot-keyboard zc-foot-link' title\x3d'"+i18n["zc.dem.keyboardshortcuts"]+"' data-title-position\x3d'top'\x3e\x3ci class\x3d'zc-em zc-common-keyboard'\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e");a&&$("#zcKeyboardShortcut").hide();$("body").click(function(){$(".zc-foot-help.zc-foot-link").removeClass("active");b.hideCriticalityPopup()});$(".zc-foot-help.zc-foot-link").off("click").on("click",function(a){a.stopPropagation();
$(this).toggleClass("active")});$(".zc-foot-keyboard.zc-foot-link").off("click").on("click",function(a){a.stopPropagation();KeyUtil.showHelp()});$("#zc-support").off("click").on("click",function(a){a.stopPropagation();$(".zc-foot-help.zc-foot-link").removeClass("active");SMTPChecker.isMailSettingsConfigured()&&$("#zc-mail-support").addClass("active")});$("#opreachUsClose").click(function(){b.clearReachUsFields()});$(".zc-op-status-list-label").click(function(){$('input[name\x3d"ReachUsStatus"]').next().removeClass("selected");
$(this).addClass("selected");var a=$(".zc-op-status-list-label.selected").css("color");$("#criticality").css("color",a);b.hideCriticalityPopup()});$("#opreachUsStatusToggle").off("click").on("click",function(a){a.stopPropagation();$("#opreachUsStatusToggle").toggleClass("active")});$("#attachment").change(function(){$("#attachmentMsg").css("color","#999");var a=document.getElementById("attachment").files[0];if(null==a)$("#removeAttachment").click();else{$(".zc-op-attachedfiles").show();var b=50<a.name.length?
a.name.substring(0,39)+"...."+a.name.substring(a.name.length-7,a.name.length):a.name,c=a.size/Math.pow(1024,2);$("span.zc-op-filename").attr("title",a.name);document.getElementById("attachment_name").textContent=b;document.getElementById("attachment_size").textContent=c.toString().substring(0,6)+"MB"}});$("#removeAttachment").click(function(){b.removeAttachment()});$("#submitRequest").click(function(){form=$("#zc-mail-support");var a=$(form).find("#fromEmailForSupport").val();if(""==a)$("#fromEmailForSupport").showError("Enter a from Email Address");
else if(validateEmailAddress(a)){var c=$(form).find("#subjectForSupport").val();if(""==c)$("#subjectForSupport").attr("placeholder",i18n["zc.op.footer.reachus.subject.error"]),$("#subjectForSupport").showError("");else{var f=$("input[name\x3dReachUsStatus]:checked").val();c="None"!=f?c+" - "+f:c;f=document.getElementById("attachment").files[0];if(null!=f&&15E6<f.size)$(".zc-op-attachedfiles").showError(""),$("#attachmentMsg").css("color","#F73934");else{var g=new FormData;g.append("fromEmail",a);
g.append("subject",c);g.append("content",$(form).find("#contentForSupport").val());null!=f&&g.append("attachment",f);$.ajax({url:"/userhome_op/"+ZCGlobal.scopeName+"/contactSupport",type:"POST",beforeSend:function(){g.append(_csrfName,getCSRF())},data:g,contentType:!1,processData:!1,success:function(a){void 0!=a&&"success"==a?(showToast(i18n["zc.reachus.successMsg"]),b.clearReachUsFields()):showToast(i18n["zc.general.erralert1msg"],4)}})}}}else $("#fromEmailForSupport").showError("Enter a valid from Email Address")})};
this.hideCriticalityPopup=function(){$("#opreachUsStatusToggle").removeClass("active")};this.clearReachUsFields=function(){$("#zc-mail-support").removeClass("active");document.getElementById("subjectForSupport").value="";document.getElementById("contentForSupport").value="";b.removeAttachment();b.hideCriticalityPopup();"None"!=$("input[name\x3dReachUsStatus]:checked").val()&&($("#ReachUsStatus_none").prop("checked",!0),$('input[name\x3d"ReachUsStatus"]').next().removeClass("selected"),$("#ReachUsStatus_none").addClass("selected"),
$("#criticality").css("color","#222"),b.hideCriticalityPopup())};this.removeAttachment=function(){$(".zc-op-attachedfiles").hide();$("#attachmentMsg").css("color","#999");document.getElementById("attachment").value="";document.getElementById("attachment_name").textContent=null;document.getElementById("attachment_size").textContent=null;$("span.zc-op-filename").attr("title",null)}}WrappedFooter.prototype=Object.create(ZCFooter.prototype);WrappedFooter.prototype.constructor=WrappedFooter;
if(ZCGlobal.isOnPremiseVersion)var SMTPChecker=new function(){this.typeOfUsers=["2","4"];this.isMailSettingsConfigured=function(){var a=$.ajax({url:"/userhome_op/"+ZCGlobal.scopeName+"/isSmtpConfigured",type:"GET",async:!1}).responseText;switch(a){case "success":return!0;case void 0:return showToast(i18n["zc.general.erralert1msg"],4),!1;case SMTPChecker.typeOfUsers[0]:case SMTPChecker.typeOfUsers[1]:return SMTPChecker.showConfigureMailPopup(a),!1}};this.showConfigureMailPopup=function(a){switch(a){case SMTPChecker.typeOfUsers[0]:iCustomizePopup({title:i18n["zc.op.smtp.notconfigured.title"],
body:"\x3cp\x3e"+i18n["zc.op.smtp.notconfigured.commonmsg"]+"\x3c/p\x3e",buttons:[{name:i18n["zc.op.smtp.notconfigured.admin.button"],type:ZCModalConstants.MODAL_SUBMIT}],parentClass:"zc-op-setmailserver-popup",success:function(){window.open(window.location.protocol+"//"+window.location.host+"/userhome/"+ZCGlobal.scopeName+"/dashboard/setup#mailServerSettings","_blank");return!0}},function(){$(".zc-dem-dialogue-content.zc-dem-hideicon i").addClass("zc-op-setmailserver-icon")});break;case SMTPChecker.typeOfUsers[1]:iCustomizePopup({title:i18n["zc.op.smtp.notconfigured.title"],
body:"\x3cp\x3e"+(i18n["zc.op.smtp.notconfigured.commonmsg"]+" "+i18n["zc.op.smtp.notconfigured.usermsg"])+"\x3c/p\x3e",buttons:[{name:i18n["zc.message.okbutton"],type:ZCModalConstants.MODAL_SUBMIT}],parentClass:"zc-op-setmailserver-popup",success:function(){return!0}},function(){$(".zc-dem-dialogue-content.zc-dem-hideicon i").addClass("zc-op-setmailserver-icon")})}}};var Sandbox=new function(){this._init=function(){$("#createSandbox").focus()};this.getAppURL=function(){return appbuilder.component.APP.getAppEditUrl()};this.getSandboxUrl=function(){return this.getAppURL()+"/sandbox/edit"};this.getVersionUrl=function(){var a=appbuilder.component,b=a.appLinkName,c=b.lastIndexOf("-");b=b.substring(0,c);return"/appbuilder/sandbox/"+a.scopeName+"/"+b+"/version"};this.deleteSandbox=function(){$.ajax({beforeSend:function(){this.url=Sandbox.getSandboxUrl()+this.url},url:"/isUncommittedChangesAvailable",
type:"GET",success:function(a,b,c){-1<a.indexOf("true")?iConfirm({title:i18n["zc.settings.sandbox.unpublishedChanges"],message:i18n["zc.settings.sandbox.unpublishedMessage"],success:function(){Sandbox.deleteSandbox1()}}):Sandbox.deleteSandbox1()}})};this.redirectUpgradePlan=function(){$.ajax({type:"GET",url:"/userhome/"+appbuilder.component.scopeName+"/showPlan",data:{},success:function(a,b,c){window.location.href=a.storeurl}})};this.deleteSandbox1=function(){showLoading();$.ajax({beforeSend:function(){this.url=
Sandbox.getSandboxUrl()+this.url},url:"/deleteSandbox",type:"POST",data:appbuilder.component.getCSRFParam(),success:function(a,b,c){hideLoading();window.location.href=void 0!=variable.frameorigin&&"null"!=variable.frameorigin?appbuilder.component.APP.getAppEditUrl()+"/edit?frameorigin\x3d"+variable.frameorigin:appbuilder.component.APP.getAppEditUrl()+"/edit"}})};this.createVersion1=function(){var a={},b={},c=appbuilder.component,d=!1;if(0==$("#patchesList tr:not(:first) input[type\x3dcheckbox]:checked").length)iAlert("Select at least one change that needs to be published");
else if($("#patchesList").find("tbody").find("input[type\x3dcheckbox]").each(function(c){if($(this).is(":checked")){c=$(this).closest("tr[hasDiff\x3dtrue]");var e=$(c).attr("componenttype")+"#"+$(c).attr("componentid"),f={};f.status=$(c).attr("componentstatus");a[e]=f}else c=$(this).closest("tr[hasDiff\x3dtrue]"),e=$(c).attr("componenttype")+"#"+$(c).attr("componentid"),f={},f.status=$(c).attr("componentstatus"),b[e]=f,d=!0}),d){var e={};e.JSONString='{"patchComponents":'+JSON.stringify(a)+"}";$.ajax({beforeSend:function(){this.url=
Sandbox.getVersionUrl()+this.url;this.data=this.data+"\x26"+c.getCSRFParam()},url:"/validateVersionCreation",type:"POST",data:e,success:function(c,d,e){hideLoading();c=JSON.parse(c);var f=c.autoIncluded,g=[];if("error"!==c.status){void 0!==f&&$("#patchesList").find("tr").each(function(b){b=$(this).attr("key");if(-1<f.indexOf(b)&&"1"!==$(this).attr("status")){var c=$(this).attr("displayName"),d=$(this).attr("compCategoryName");g.push("\x3cbr\x3e"+c+" - "+d);c={};c.status=$(this).attr("componentstatus");
a[b]=c}});for(var h in b)c={status:"0"},h in a||"1"===b[h].status||(a[h]=c);0<g.length?($("#createversionpane3").animate({right:"-100%"},"fast"),$("#freezeLayer").hide(),iConfirm({title:i18n["zc.settings.sandbox.dependentComponents"],message:i18n["zc.settings.sandbox.dependentMessage"]+g,button:i18n["zc.settings.sandbox.addAndProceed"],cbutton:i18n.cancel,success:function(){Sandbox.createVersion2(a)}})):Sandbox.createVersion2(a)}else iAlert("Error in validation")}})}else Sandbox.createVersion2(a)};
this.createVersion2=function(a){iCustomizePopup({title:"Version Details",body:$("#createversionpane3").html(),buttons:[{name:ZCButton.PUBLISH,type:ZCModalConstants.MODAL_SUBMIT},{name:ZCButton.CANCEL,type:ZCModalConstants.MODAL_CANCEL}],success:function(){Sandbox.createVersion3(a);return!0}},function(){})};this.createVersion3=function(a){var b=appbuilder.component;if(""==$("#versionName").val()||""==$.trim($("#versionDescription").val())||""==$("#versionNumber").val())$("#freezeLayer").hide(),iAlert("Please fill all the details");
else if(isNaN($("#versionNumber").val()))$("#freezeLayer").hide(),iAlert("Version number can only have numbers and a dot. Example: 2.38, 4.10");else if(250<$("#versionDescription").val().length)$("#freezeLayer").hide(),iAlert(i18n["zc.markerplace.builder.developer.description"]);else{showLoading();var c={};c.JSONString='{"patchComponents":'+JSON.stringify(a)+"}";c.description=$("#versionDescription").val();c.name=$("#versionName").val();c.version=$("#versionNumber").val();$.ajax({beforeSend:function(){this.url=
Sandbox.getVersionUrl()+this.url;this.data=this.data+"\x26"+b.getCSRFParam()},url:"/create",type:"POST",data:c,success:function(a,b,c){"success"===a||"scheduled"===a?Sandbox.getPackagePublishStatus():"version_creation_in_progress"===a?(hideLoading(),"versionhistory"===window.location.hash.substr(1)?window.location.reload():window.location.href=Sandbox.getAppURL()+"/settings/edit#versionhistory"):"Version_Number_Less_Than_Previous"===a?(hideLoading(),iAlert("Provide a number greater than the previous version")):
"Unlisted_Components"===a?(hideLoading(),iAlert("There are components that have been modified while initiating the publish process. Please refresh and try publishing again")):(hideLoading(),iAlert("Error in publishing"))}})}};this.getPackagePublishStatus=function(){$.ajax({beforeSend:function(){this.url=Sandbox.getVersionUrl()+this.url},url:"/getPackagePublishStatus",type:"GET",success:function(a,b,c){-1<a.indexOf("Error")?(hideLoading(),iAlert("Error in publishing")):-1<a.indexOf("Completed")?($("#createVersion").find("a.zc-dem-right-close").trigger("click"),
"versionhistory"===window.location.hash.substr(1)?window.location.reload():window.location.href=Sandbox.getAppURL()+"/settings/edit#versionhistory"):setTimeout(function(){Sandbox.getPackagePublishStatus()},5E3)}})};this.selectVersionComponents=function(a,b){window.location.href="/service/"+b+"/"+a+"/summary#publish"};this.showCreateVersion=function(){$.ajax({beforeSend:function(){this.url=Sandbox.getVersionUrl()+this.url},url:"/showCreate",type:"GET",success:function(a,b,c){$("#createVersion").length&&
$("#createVersion").remove();0==$("#newVersionContainer").length&&$("body").append('\x3cdiv id\x3d"newVersionContainer"\x3e\x3c/div\x3e');$("#newVersionContainer").html(a);$("#hasOnlyReleasedComps").length&&$("#componentListToPublish").remove();$("#createVersion").iSlide({afterOpen:function(a){$(a.slider).find("tbody input[type\x3dcheckbox]").on("change",function(){var b=$(a.slider).find("tbody input[type\x3dcheckbox]").length,c=$(a.slider).find("tbody input[type\x3dcheckbox]:checked").length;b!=
c?$(a.slider).find("#zc-sb-ApplyToall").prop("checked",!1):$(a.slider).find("#zc-sb-ApplyToall").prop("checked",!0)});$(a.slider).find("input[name\x3dcancel]").unbind("click").bind("click",function(){$(a.slider).find("a.zc-dem-right-close").trigger("click")});$(a.slider).find("div.zc-dem-right-content").zcScrollPane()}})}})};this.showCreateSandbox=function(){$(".confirmMainContainer").is(":visible")||iConfirm({title:i18n["zc.settings.sandbox.startSandboxSession"],message:i18n["zc.settings.sandbox.startSandboxMessage"],
submitOnEnterKey:!1,success:function(){showLoading();$.ajax({beforeSend:function(){this.url=Sandbox.getSandboxUrl()+this.url},url:"/createSandbox",type:"POST",data:SettingsVariable.getCSRFParam(),success:function(a,b,c){-1<a.indexOf("error")?(hideLoading(),iAlert(i18n["zc.settings.builder.sandbox.erroroccurred"])):-1<a.indexOf("linknamealreadyexists")?(hideLoading(),msg=replaceParams(i18n["zc.settings.builder.sandbox.linknameexists"],Array(appbuilder.component.appLinkName+"-sandbox")),iAlert(msg)):
-1<a.indexOf("notallowedappname")?(hideLoading(),msg=i18n["zc.setup.appnamevalidation.characters"]+"\x3cbr\x3e"+i18n["zc.sandbox.appnamevalidation.characters.tryagain"],iAlert(msg)):-1<a.indexOf("blueprintsExist")?(hideLoading(),msg="Sandbox can't be created for the app with blueprints",iAlert(msg)):Sandbox.isSandboxCreated()}})}})};this.isSandboxCreated=function(){$.ajax({beforeSend:function(){this.url=Sandbox.getSandboxUrl()+this.url},url:"/isSandboxCreated",type:"GET",success:function(a,b,c){-1<
a.indexOf("success")?window.location.href=Sandbox.getAppURL()+"/edit":-1<a.indexOf("error")?(hideLoading(),iAlert(i18n["zc.settings.builder.sandbox.erroroccurred"])):setTimeout(function(){var a=Sandbox.isSandboxCreated();"undefined"!==typeof a&&-1<a.indexOf("success")&&(window.location.href=Sandbox.getAppURL()+"/edit")},5E3)}})};this.showVersionSummary=function(a){$.ajax({beforeSend:function(){this.url=Sandbox.getVersionUrl()+this.url},url:"/showVersionSummary",type:"GET",data:{versionId:a},success:function(a,
c,d){$("#versionSummaryContainer").html(a).iSlide({afterOpen:function(a){$(a.slider).find("input[name\x3dcancel]").unbind("click").bind("click",function(){$zcmodal.getModal("versionSummaryContainer").close()})}});$("#publishSummary").zcScrollPane()}})};this.toggleCheckboxAll=function(a){var b=$(a).is(":checked");$("#patchesList").find("input[type\x3dcheckbox]").each(function(a){$(this).prop("checked",b)})}};var OpenSansMapReportJson={version:8,name:"Klokantech Basic",metadata:{"mapbox:autocomposite":!1,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},center:[8.54806714892635,47.37180823552663],zoom:12.241790506353492,bearing:0,pitch:0,sources:{openmaptiles:{type:"vector",url:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/data/v3.json"},country_boundary:{type:"geojson",
data:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/geojson/country_boundary.geojson"},telangana_inner_boundary:{type:"geojson",data:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/geojson/telangana_inner_boundary.geojson"}},glyphs:getSpecificDomain(Constants.ZOHO_MAPS)+"/vector/fonts/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"hsl(47, 26%, 88%)"}},{id:"landuse-residential",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["all",
["\x3d\x3d","$type","Polygon"],["\x3d\x3d","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":.7}},{id:"landcover_grass",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["\x3d\x3d","class","grass"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":.45}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",paint:{"fill-color":"rgba(192, 216, 151, 0.53)","fill-opacity":1}},{id:"landcover_wood",type:"fill",
source:"openmaptiles","source-layer":"landcover",filter:["\x3d\x3d","class","wood"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{base:1,stops:[[8,.6],[22,1]]}}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["\x3d\x3d","$type","Polygon"],paint:{"fill-color":"hsl(205, 56%, 73%)"}},{id:"landcover-ice-shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["\x3d\x3d","subclass","ice_shelf"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 26%, 88%)",
"fill-opacity":.8}},{id:"landcover-glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["\x3d\x3d","subclass","glacier"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{base:1,stops:[[0,1],[8,.5]]}}},{id:"landuse",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["\x3d\x3d","class","agriculture"],layout:{visibility:"visible"},paint:{"fill-color":"#eae0d0"}},{id:"landuse_overlay_national_park",type:"fill",source:"openmaptiles",
"source-layer":"landcover",filter:["\x3d\x3d","class","national_park"],paint:{"fill-color":"#E1EBB0","fill-opacity":{base:1,stops:[[5,0],[9,.75]]}}},{id:"park_outline",type:"line",source:"openmaptiles","source-layer":"park",layout:{},paint:{"line-color":"rgba(159, 183, 118, 0.69)","line-dasharray":[.5,1]}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["\x3d\x3d","$type","LineString"],paint:{"line-color":"hsl(205, 56%, 73%)","line-width":{base:1.4,stops:[[8,1],
[20,8]]},"line-opacity":1}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",paint:{"fill-color":"hsl(39, 41%, 86%)","fill-outline-color":"hsl(36, 45%, 80%)","fill-opacity":{base:1,stops:[[13,.6],[14,1]]}}},{id:"housenumber",type:"symbol",source:"openmaptiles","source-layer":"housenumber",minzoom:17,filter:["\x3d\x3d","$type","Point"],layout:{"text-field":"{housenumber}","text-size":10,"text-font":["Open Sans Regular"]},paint:{"text-color":"hsla(0, 14%, 57%, 0.51)","text-halo-color":"hsl(39, 41%, 86%)",
"text-halo-width":.5}},{id:"road_path",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["in","class","path","track"]],layout:{"line-cap":"square","line-join":"bevel"},paint:{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{base:1.55,stops:[[4,.25],[20,10]]}}},{id:"road_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["in","class","minor","service"]],
layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 97%)","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"tunnel_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","brunnel","tunnel"],["\x3d\x3d","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]},"line-dasharray":[.36,.18]}},{id:"tunnel_major",
type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","brunnel","tunnel"],"in class primary secondary tertiary trunk".split(" ")],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]},"line-dasharray":[.28,.14]}},{id:"road_trunk_primary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["in","class",
"trunk","primary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"road_secondary_tertiary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["in","class","secondary","tertiary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,20]]}}},{id:"road_major_motorway",type:"line",source:"openmaptiles",
"source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","class","motorway"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-offset":0}},{id:"railway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["\x3d\x3d","class","rail"],layout:{visibility:"visible"},paint:{"line-color":"hsl(34, 12%, 66%)","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"bridge_minor case",
type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","brunnel","bridge"],["\x3d\x3d","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d",
"brunnel","bridge"],"in class primary secondary tertiary trunk".split(" ")],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","brunnel","bridge"],["\x3d\x3d","class","minor_road"]],layout:{"line-cap":"round","line-join":"round"},
paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["\x3d\x3d","$type","LineString"],["\x3d\x3d","brunnel","bridge"],"in class primary secondary tertiary trunk".split(" ")],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"admin_sub",type:"line",source:"openmaptiles","source-layer":"boundary",
filter:["in","admin_level",4,6,8],layout:{visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 76%)","line-dasharray":[2,1]}},{id:"admin_country",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["all",["\x3c\x3d","admin_level",2],["\x3d\x3d","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":"hsla(0, 8%, 22%, 0.51)","line-width":{base:1.3,stops:[[3,.5],[22,15]]}}},{id:"country_boundary",type:"line",source:"country_boundary",
layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(248, 7%, 66%)","line-width":{base:1,stops:[[0,.6],[4,1.4],[5,2],[12,8]]}}},{id:"telangana_inner_boundary",type:"line",source:"telangana_inner_boundary",minzoom:4,maxzoom:6,paint:{"line-color":"hsl(0, 0%, 76%)","line-dasharray":[2,1]}},{id:"poi_label",type:"symbol",source:"openmaptiles","source-layer":"poi",minzoom:5,filter:["all",["\x3d\x3d","$type","Point"],["\x3d\x3d","rank",1]],layout:{"text-size":11,"text-font":["Open Sans Regular"],
visibility:"visible","text-offset":[0,.5],"icon-size":1,"text-anchor":"top","text-field":"{name}","text-max-width":8},paint:{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1}},{id:"road_major_label",type:"symbol",source:"openmaptiles","source-layer":"transportation_name",filter:["\x3d\x3d","$type","LineString"],layout:{"symbol-placement":"line","text-field":"{name}","text-font":["Open Sans Regular"],"text-transform":"uppercase","text-letter-spacing":.1,
"text-size":{base:1.4,stops:[[10,8],[20,14]]},"text-rotation-alignment":"map"},paint:{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{id:"place_label_other",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:8,filter:["all",["\x3d\x3d","$type","Point"],["!\x3d","class","city"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Regular"],"text-max-width":6,"text-size":{stops:[[6,10],[12,14]]},visibility:"visible","text-anchor":"center"},paint:{"text-color":"rgba(50, 46, 37, 1)",
"text-halo-color":"hsl(0, 0%, 100%)","text-halo-blur":0,"text-halo-width":1}},{id:"place_label_city",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:16,filter:["all",["\x3d\x3d","$type","Point"],["\x3d\x3d","class","city"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,16]]}},paint:{"text-color":"rgba(50, 46, 37, 1)","text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-blur":0,"text-halo-width":1,"text-opacity":1}},
{id:"country_label",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["\x3d\x3d","$type","Point"],["\x3d\x3d","class","country"]],layout:{"text-field":"{name_en}","text-font":["Open Sans Bold"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},"text-transform":"none"},paint:{"text-color":"rgba(50, 48, 46, 1)","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":0,"icon-translate":[0,0]}}]};var latLngRegx=/^-?([0-8]?[0-9]|90)\.[0-9]{1,7},-?((1?[0-7]?|[0-9]?)[0-9]|180)\.[0-9]{1,7}$/;
function createCreatorMarker(a,b,c){var d=c.getView().getReportDom().getReportContainer();$(d).find(".zc-marker-div").remove();for(d=0;d<a.length;d++){var e=a[d],f=e.lat,g=e.lon,h=e.recordLinkId,k=e.mapIcon,l=e.pinColor,m=e.mapIconColor,n=document.createElement("div");if(void 0!==k){n.className="zc-marker-div zc-map-marker-container";var q=document.createElement("i"),w=document.createElement("i");q.style.color=l;w.style.color=m;q.className="zc-li-solid pin";w.className="zc-li-solid zc-map-inner-icon "+
k;n.appendChild(q);n.appendChild(w)}else n.className="zc-marker-div",k=getSpecificDomain(Constants.IMAGE_STATIC_SERVER)+"/maps/v8_1_7/images/maps-blue-marker.svg",n.style.backgroundImage="url("+k+")";k=e.layout;$(n).attr("layout",k);$(n).attr("lat",f);$(n).attr("lon",g);$(n).attr("recordLinkId",h);cutomMarker=new mapboxgl.Marker(n,{offset:[-0,-17.5]});cutomMarker.setLngLat([e.lon,e.lat]);cutomMarker.addTo(b);regCardEvent(cutomMarker._element,c)}}
function createMarker(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=f.lat;f=f.lon;var h=document.createElement("div");h.className="zc-marker-div";var k=getSpecificDomain(Constants.IMAGE_STATIC_SERVER)+"/maps/v8_1_7/images/maps-blue-marker.svg";h.style.backgroundImage="url("+k+")";$(h).attr("lat",g);$(h).attr("lon",f);h=new mapboxgl.Marker(h,{offset:[-0,-17.5]});h.setLngLat([f,g]);h.addTo(b);c&&d.push(h)}if(c)return d}
function regCardEvent(a,b){var c=b.getView(),d=c.getReportDom().getReportContainer();b="mouseover";ZCGlobal.isMobileLayout&&(b="touchend");$(a).on(b,function(a,b,g){timer=setTimeout(function(){var b=a.currentTarget,e=$(b).closest(".map-view"),f=$(b).attr("lat"),g=$(b).attr("lon");f=$(d).find("div[lat\x3d'"+f+"'][lon\x3d'"+g+"']");void 0===$(f).attr("layout")&&fillLayoutInfo(f,c);var n="\x3cdiv id\x3d'zc-multimap-card' class\x3d'zc-multimap-card";1<f.length&&(n+=" zc-more-map-cards ");n+="'\x3e\x3cdiv id\x3d'zc-card-innercont'\x3e";
1<f.length?$(f).each(function(a){n+=$(this).attr("layout")}):n+=$(b).attr("layout");n+="\x3c/div\x3e\x3c/div\x3e";f=$(d).find("#zc-card-cont");$(f).html(n);$(f).fadeIn(300);$(f).css({position:"fixed"});g=$(e).offset().left;var q=$(e).offset().top,w=$(b).width(),r=$(d).find("#zc-multimap-card").width();$(window).width();var I=$(b).height(),J=$(d).find("#zc-multimap-card").height();$(window).height();var E=$(b).offset();$(b).position();b=r/2-w/2;r=E.left-b;var K=E.top-J;e=g+$(e).width();r+2*b>e?r-=
r+2*b+w-e:0>r-g&&(r=0>g?15:g+15);J>E.top-q&&(K=E.top+I);$(f).css({left:r+"px",top:K+"px"});$(f).find("div[elname\x3dzc-dem-card-more]").on("click",function(a){c.showRecordMenu(a,this);ZCGlobal.isMobileLayout&&$(c.getReportDom().getFreezeLayer()).addClass("zc-filter-frz").show();a.stopPropagation()});$(f).find("[elname\x3dzc-record]").on("mousedown",function(a){c.showReportContextMenu(a,this)});void 0!=$("ul[elName\x3dzc-recMenuActionList]").data("zcpo")&&$("ul[elName\x3dzc-recMenuActionList]").data("zcpo").hide();
void 0!=$("ul[elName\x3dzc-moreRecActionFloat]").data("zcpo")&&$("ul[elName\x3dzc-moreRecActionFloat]").data("zcpo").hide();$(f).find("[elname\x3dzc-record] .recordTab a").off("click").on("click",function(a){stopPropogation(a)});$(d).find("#zc-card-cont").find("[elname\x3dzc-record]").off("click").on("click",function(a){c.handleOnClickAction({element:this,event:a})});if(!ZCGlobal.isMobileLayout)$(d).find(".zc-marker-div").off("click").on("click",function(a){var b=$(this).attr("lat"),e=$(this).attr("lon");
if(1<$(d).find("div[lat\x3d'"+b+"'][lon\x3d'"+e+"']").length)return!1;b=$(this).attr("recordLinkId");b=$(d).find("#zc-card-cont [elname\x3d'zc-record'][reclinkid\x3d'"+b+"']");0!=$(b).length&&c.handleOnClickAction({element:b,event:a})})},500)}).on("mouseout",function(a){hideCardContent(d,a);clearTimeout(timer)});if(ZCGlobal.isMobileLayout)$(".mapboxgl-canvas").on("touchend",function(a){hideCardContent(d,a)});else $(d).find("#zc-card-cont").on("mouseout",function(a){hideCardContent(d,a)})}
function hideCardContent(a,b){b=b.relatedTarget||b.toElement;0<$(b).closest(".zc-multimap-card").length||$(b).hasClass("pin")||$(b).hasClass("zc-map-inner-icon")||(b=$(a).find("#zc-card-cont"),$(b).removeAttr("style"),$(b).fadeOut(300),$(a).find("ul[elName\x3dzc-recMenuActionList]").data("zcpo")?$(a).find("ul[elName\x3dzc-recMenuActionList]").data("zcpo").hide():"",$(a).find("ul[elName\x3dzc-moreRecActionFloat]").data("zcpo")?$(a).find("ul[elName\x3dzc-moreRecActionFloat]").data("zcpo").hide():"")}
function fillLayoutInfo(a,b){$(a).each(function(a){a=$(this).attr("recordlinkid");a=b.getQVLayout(a);$(this).attr("layout",a)})};var DEPARTMENT={PRESALES:"Zoho Creator Solutions",ONBOARDING:"Zoho CreatorOnboarding",SUPPORT:"Zoho Creator",PREMIUM:"Zoho Creator Premium Supp",APP_DECK:"Zoho Creator AppDeck",ACCOUNT_MANAGEMENT:"Zoho Creator Account Mana"},CHAT_SOURCE={C6_PORTAL:"C6Portal",C6_UPGRADE:"C6Upgrade"},CHATACTION={AUTOOPEN:1,OPEN:2,CLOSE:3,MINIMIZE:4},ZCLiveChat=function(){function a(){var a=ZCGlobal.loginEmail;if(""==a||null==a||void 0==a)url="/userhome/"+ZCGlobal.scopeName+"/chatEmailIdTracking",$.ajax({url,success:function(a,
b,c){}})}var b=ZCGlobal.zcChatEnabled,c=ZCGlobal.zcUpgradeChatEnabled,d=ZCGlobal.zcPreSalesEnabled,e=ZCGlobal.zcPremiumChatEnabled,f="undefined"==typeof ZCGlobal.isPlanDeprecated?isPlanDeprecated:ZCGlobal.isPlanDeprecated,g="undefined"==typeof ZCGlobal.isAppDeckApp?!1:ZCGlobal.isAppDeckApp,h=this,k=ZCGlobal.loginEmail,l=ZCGlobal.loginZuid,m="undefined"==typeof ZCGlobal.superAdminEmailId?"":ZCGlobal.superAdminEmailId,n="undefined"==typeof ZCGlobal.dataCenter?"":ZCGlobal.dataCenter,q="undefined"==typeof ZCGlobal.webAnalyticsInfo?
{}:ZCGlobal.webAnalyticsInfo,w;if(w=q.IsPushEnabled){try{var r="true"==localStorage.getItem(ZCGlobal.loginZuid+"_WEBANALYTICS")?!0:!1}catch(M){r=!1}w=!r}var I=w,J=q.IsCreatorCRMContact,E=ZCGlobal.scopeId,K=f||c||e||b||d,L="undefined"==typeof ZCGlobal.loginUserDispName?ZCGlobal.scopeName:ZCGlobal.loginUserDispName,F=!1;h.initialize=function(){if("undefined"==typeof $zoho){var c="";"CHINA"==n&&(!I&&d||b)&&(c="39a299b6b8b19824aeb97e0b9fdf501541c460abf85ce9bc5c2668bd8ad74fea");"CHINA"!=n&&K&&(c="96f66ce99a169884b6edc135f7757e8f93b9d37df942802428c2bfd917487c03640d28b3111feedcb2170b932b0fb813");
var e=new URLSearchParams(window.location.search);e.has("initZobot")&&(F=!0,e["delete"]("initZobot"),history.pushState("",document.title,window.location.pathname+(0<e.toString().length?"?"+e.toString():"")+window.location.hash));if(""!=c&&(e='var $zoho\x3d$zoho || {};$zoho.salesiq \x3d $zoho.salesiq || {widgetcode:"'+c+'",values:{},ready:function(){ ZCLiveChat.setDepartment(); ZCLiveChat.triggerZobot(true,false);$zoho.salesiq.postloadtime \x3d 3000; $zoho.salesiq.visitor.feedback(function(){ var data\x3d {}; data.source\x3d"window.minimise"; data.botType \x3d 1; data.widgetCode\x3d"'+
c+'"; data.loginZuid\x3d"'+l+'"; data.maintainState \x3d "true"; data.id\x3d"zc-salesiq-promotion"; AssistBotListener.listen(data);}); $zoho.salesiq.chat.missed(function(){var data\x3d {}; data.source\x3d"chat.missed"; data.widgetcode\x3d"'+c+'"; data.id\x3d"zc-salesiq-missed"; AssistBotListener.listen(data);});$zoho.salesiq.visitor.name("'+L+'");$zoho.salesiq.visitor.email("'+k+'"); $zoho.salesiq.visitor.info({"Super Admin Email" : "'+m+'" , "Data Center" : "'+n+'" , "Login User Email1" : "'+k+'" , "CreatorVersion" : "'+
(ZCGlobal.isC6Account||window.location.href.includes("admindashboard")?"Creator6":"Creator5")+'" , "ChatOrigin" : "'+(window.location.href.includes("/admindashboard")||window.location.href.includes("/dashboard")?"HomePage":window.location.href.includes("/appbuilder")||"undefined"!=typeof variable&&variable.moduleName?"Builder":"Live")+'" }); $zoho.salesiq.floatbutton.visible("hide");$zohosq.chat.enableCrossDomain("true");$zoho.salesiq.floatwindow.minimize(function(){$("#zcChat").show(); ZCLiveChat.logAction(CHATACTION.MINIMIZE);});}};var d\x3ddocument;s\x3dd.createElement("script");s.type\x3d"text/javascript";s.id\x3d"zsiqscript";s.defer\x3dtrue;s.src\x3d"https://salesiq.zoho.com/widget";t\x3dd.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t);d.write("\x3cdiv id\x3d\'zsiqwidget\'\x3e\x3c/div\x3e");',
a(),c=document.createElement("script"),c.innerHTML=e,e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(c,e),ZCGlobal&&ZCGlobal.isC4)){var f=function(){return $($("#siqiframe")[0]).length&&$($("#siqiframe")[0].contentWindow.document.getElementById("window-ribbon")).length};if(f())g&&clearInterval(g),h();else var g=setInterval(function(){f()&&(g&&clearInterval(g),h())},500);var h=function(){var a=$("#siqiframe")[0].contentWindow.document.getElementById("window-ribbon");$(a).hasClass("c4-live-chat")||
$(a).addClass("c4-live-chat")}}I&&(e='var $zoho\x3d$zoho || {}; $zoho.salesiq \x3d $zoho.salesiq || {widgetcode:"accbb8eb52d309d13817ff494a2007e012d6973fc15ea32000268559d614b849", values:{},ready:function(){$zoho.salesiq.floatbutton.visible("hide");$zoho.salesiq.tracking.domain("zoho.com.cn");ZCLiveChat.pushAnalyticsData();}};var d\x3ddocument;s\x3dd.createElement("script");s.type\x3d"text/javascript";s.id\x3d"zsiqscript";s.defer\x3dtrue;s.src\x3d"https://salesiq.zoho.com.cn/widget";t\x3dd.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t)',
c=document.createElement("script"),c.innerHTML=e,e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(c,e),$("body").addClass("zc-hide-assist-bot"))}};h.triggerZobot=function(a,b){a=a?15E3:0;h.computeDepartment()==DEPARTMENT.APP_DECK&&(b||F)&&setTimeout(function(){$zoho.salesiq.visitor.customaction("AppDeck_Bot _Trigger");h.logAction(POPUPACTION.AUTOOPEN)},a)};h.setDepartment=function(a){var b=h.computeDepartment(a);if(""!=b){var c=[];c.push(b);$zoho.salesiq.chat.department(c);a&&
$zoho.salesiq.visitor.info({"Chat Source":a});return!0}return!1};h.computeDepartment=function(a){var h="";switch(a){case CHAT_SOURCE.C6_PORTAL:return DEPARTMENT.ACCOUNT_MANAGEMENT;case CHAT_SOURCE.C6_UPGRADE:return DEPARTMENT.ACCOUNT_MANAGEMENT}f?h=DEPARTMENT.ACCOUNT_MANAGEMENT:e?h=DEPARTMENT.PREMIUM:c?h=DEPARTMENT.ONBOARDING:b?h=DEPARTMENT.SUPPORT:g?h=DEPARTMENT.APP_DECK:d&&(h=DEPARTMENT.PRESALES);return h};h.show=function(a){"undefined"!=typeof $zoho&&h.setDepartment(a)&&($zoho.salesiq.floatwindow.visible("show"),
F=!1)};h.hide=function(){"undefined"!=typeof $zoho&&$zoho.salesiq.floatwindow.visible("hide")};h.start=function(a){var b="";"undefined"!=typeof $zoho&&(a&&(a.userName&&$zoho.salesiq.visitor.name(a.userName),a.emailId&&$zoho.salesiq.visitor.email(a.emailId),a.emailId&&$zoho.salesiq.visitor.info({"Login User Email2":a.emailId}),a.question&&$zoho.salesiq.visitor.question(a.question),b=a.source?a.source:""),ZCLiveChat.show(b),$zoho.salesiq.chat.start())};h.initialize();h.logAction=function(a){h.computeDepartment()==
DEPARTMENT.APP_DECK&&(a==CHATACTION.AUTOOPEN||F&&a==CHATACTION.MINIMIZE)&&h.trackAction(a)};h.trackAction=function(a){var b={featureID:1111};b.actionType=a;$.ajax({type:"GET",data:b,url:"/userhome/"+ZCGlobal.scopeName+"/trackAction",success:function(){},error:function(){}})};h.pushAnalyticsData=function(){try{var a=J?"DIRECT_SIGN_UP":"EXISTING_SIGN_UP",b={};if("-100"!=E){b.zsoid=E;a=J?"DIRECT_ORG_CREATION":"EXISTING_ORG_CREATION";try{localStorage.setItem(ZCGlobal.loginZuid+"_WEBANALYTICS","true")}catch(O){}}b.op=
a;b.e=k;b.sn="ZohoCreator";$zoho.salesiq.visitor.customaction(JSON.stringify(b))}catch(O){}};return{show:function(a){return self.show(a)},hide:function(){return self.hide()},start:function(a){return self.start(a)},load:function(a){$("#zcChat").hide();ZCLiveChat.show(a)},emailCheck:a,pushAnalyticsData,setDepartment,triggerZobot,logAction}}(),AssistBotListener=new function(){var a=function(a,b){var c={};c.promoCode=a.promoCode;c.botType=a.botType;c.isCancel=b;$.ajax({url:"/userhome/"+ZCGlobal.scopeName+
"/assisBotPromo",data:c,error:function(){}})},b=function(a){ZCLiveChat.hide();$(a).addClass("zc-salesiq-active")};this.listen=function(c){if("window.minimise"==c.source||"chat.missed"==c.source){var d=$("#"+c.id);if(0!=d.length){var e="true"==c.maintainState?!0:!1,f="undefined"==typeof d.attr("zc-promoCode")?"1001":d.attr("zc-promoCode");c.promoCode=f;if(f=e)f="true"==ZCWebStorage.getItem("zc_promo_"+c.botType+"_"+c.promoCode+"_"+c.loginZuid)?!0:!1;if(!f){b(d);f=[];f.push($(d).find("#zc-salesiq-overlay"));
f.push($(d).find("#zc-salesiq-close"));f.push($(d).find("#zc-promo-link"));for(var g in f)$(f[g]).off("click").on("click",function(b){b=$(b.target);var f="zc-promo-link"==$(b).attr("id")?!0:!1;e&&ZCWebStorage.setItem("zc_promo_"+c.botType+"_"+c.promoCode+"_"+c.loginZuid,"true");$(d).removeClass("zc-salesiq-active");"true"==$(b).attr("doTrack")&&a(c,!f);f&&(b=$(b).attr("link_url"))&&window.open(b)});$(document).keyup(function(a){27===a.keyCode&&(a=$(".zc-salesiq-active"),0<a.length&&$(a).find("#zc-salesiq-overlay").click())})}}}}};var FunctionBuilder=new function(){var a=this;this.wfFuncTableEle;this.argumentHtml;this.functionDelugeEditor;this.reloadPage=!1;this.functionTable;this.initFunctionList=function(b){a.component=b;a.wfFuncTableEle=$("#wfFunctionTable");a.nameSpaceFilter=$("#nameSpaceList");a.activeNameSpace=$(a.nameSpaceFilter).find("li.active").length?$(a.nameSpaceFilter).find("li.active").attr("namespace"):$(a.nameSpaceFilter).find("li:first").addClass("active").attr("namespace");a.functionPopulateUrl=appbuilder.component.APP.getAppEditUrl()+
"/workflowbuilder/edit";$.fn.DataTable.isDataTable("#wfFunctionListing")||(a.initFunctionTable(),a.bindListEvents());$(a.nameSpaceFilter).find("#namespaceContent").zcScrollPane({autoReinit:!0})};this.initFunctionTable=function(){a.nameSpaceSort();a.functionSort();var b=$("#workflowListContainer");a.functionTable=$(a.wfFuncTableEle).find("#wfFunctionListing").zcTable({paging:!1,searching:!0,info:!1,order:[[0,"asc"]],columnDefs:[{targets:[0],visible:!1},{targets:[1,2,3,4],orderable:!1}],searchCols:[{targets:[0],
search:"All"==a.activeNameSpace?"":a.activeNameSpace,caseInsensitive:!1}],oSearch:{sSearch:$(b).find("input[elename\x3dcustomFuncSearch]").val()},language:{zeroRecords:i18n["zc.workflow.builder.fuctions.dashboard.nofunctionsforsearch"]},initComplete:function(c,d){$("#wfFunctionListing_filter").css("display","none");$(a.wfFuncTableEle).find("#wfFunctionListing").find("thead").css("display","none");c=this.api().rows().nodes();WorkflowBuilder.wfState==WorkflowConstants.CUSTOM_FUNCTIONS?($(b).find("#no-workflow").addClass("zc-hide"),
0!=c.length&&($(b).find("div[elename\x3dno-workflow]").addClass("zc-hide"),$("#wfFunctionTable").removeClass("zc-hide"),$(b).find("div[elename\x3dwfTableContainer]").css("opacity","1"),$(b).find("div[elename\x3dwfFilter]").find("li[wfType\x3d"+WorkflowBuilder.wfState+"]").addClass("active")),$("#workflowTable").addClass("zc-hide"),$(b).find("#wfListHead").find("a[elename\x3daddWorkFLowEle]").text(i18n["zc.workflow.builder.fuctions.dashboard.newfunctionbutton"]),$(b).find("input[elename\x3dcustomSearch]").parent().addClass("zc-hide"),
$(b).find("input[elename\x3dcustomFuncSearch]").parent().removeClass("zc-hide")):(c=c.length,WorkflowBuilder.workflowTable.rows().nodes(),0==WorkflowBuilder.workflowTable.column(0).data().filter(function(a,b){return a==WorkflowBuilder.wfState?!0:!1}).length&&0<c&&($(b).find("div[elename\x3dno-workflow]").addClass("zc-hide"),c=$("#no-workflow"),$(c).find("i").css("display","block"),$(c).find("p").removeClass("hide"),$(c).find("i[elname!\x3d"+WorkflowBuilder.wfState+"]").css("display","none"),$(c).find("p[elname!\x3d"+
WorkflowBuilder.wfState+"]").addClass("hide"),$(c).removeClass("zc-hide"),$("#workflowTable").css("opacity","0"),$("#workflowfilterNav .zc-dem-worlflow-filter").hide(),$(b).find("div[elename\x3dwfTableContainer]").css("opacity","1"),$(b).find("div[elename\x3dwfFilter]").find("li[wfType\x3d"+WorkflowBuilder.wfState+"]").addClass("active")));$(a.wfFuncTableEle).find("#functionTableBody").zcScrollPane({autoReinit:!0})},drawCallback:function(b){if(WorkflowBuilder.wfState==WorkflowConstants.CUSTOM_FUNCTIONS){if("All"==
a.activeNameSpace){b=this.api();var c=b.rows({page:"current"}).nodes(),e=null;b.column(0,{page:"current"}).data().each(function(a,b){e!==a&&($(c).eq(b).before('\x3ctr namespace\x3d"'+a+'" class\x3d"group zc-dem-workflow-name"\x3e\x3ctd colspan\x3d"4"\x3e'+a+"\x3c/td\x3e\x3c/tr\x3e"),e=a)})}$("#workflowListContainer").find("div[elename\x3dreportWFNotify]").addClass("zc-hide");$("#workflowListContainer").find(".zc-warning-toast").addClass("zc-hide");b=this.api().rows().nodes();a.handleNoData(0==b.length)}}})};
this.updateFunctionTable=function(){$.ajax({url:a.customFunctionUrl+"/getFunctionDetails?functionId\x3d"+a.functionMeta.funcId,type:"GET",beforeSend:function(){showLoading()},success:function(b,c,d){hideLoading();a.destroyFunctionTable();a.updateTableRow(b)}})};this.destroyFunctionTable=function(){$("#workflowListContainer").find("#wfFunctionTable").addClass("zc-hide");$("#workflowListContainer").find("div[elename\x3dno-workflow]").addClass("zc-hide");$(a.wfFuncTableEle).find("#functionTableBody").data("zcsp").destroy();
a.functionTable.destroy()};this.bindListEvents=function(){$(a.wfFuncTableEle).off("click","p[elename\x3dfunctionDispName]").on("click","p[elename\x3dfunctionDispName]",function(b){var c=$(this).attr("funcsyntax");a.getFunctionBuilder(c);b.preventDefault()});$(a.wfFuncTableEle).off("click","a[elename\x3ddeleteFunction]").on("click","a[elename\x3ddeleteFunction]",function(b){var c=$(this).parent().parent(),d=$(c).attr("namespace");a.deleteCustomFunction({functionId:$(c).find("p[elename\x3dfunctionDispName]").attr("functionid"),
functionName:$(c).find("p[elename\x3dfunctionDispName]").attr("funcname"),language:$(c).find("td[elename\x3dlanguageCol]").attr("language"),successCallBK:function(){a.functionTable.row(c).remove().draw();var b=a.functionTable.column(0).data().filter(function(a,b){return a==d?!0:!1}).length,f=a.functionTable.rows().nodes().length;0==b&&($(a.nameSpaceFilter).find('li[namespace\x3d"'+d+'"]').remove(),$(a.nameSpaceFilter).find("li:first a").trigger("click"));0==f&&0==WorkflowBuilder.count()&&($("#workflowListContainer").find("div[elename\x3dno-workflow]").removeClass("zc-hide"),
$("#workflowListContainer").find("div[elename\x3dwfTableContainer]").css("opacity","0"),WorkflowBuilder.wfState=WorkflowConstants.FORM_WF)},nameSpace:$(c).attr("namespace")});b.preventDefault()});$(a.wfFuncTableEle).off("click","span[elename\x3dfunctionReference]").on("click","span[elename\x3dfunctionReference]",function(b){b=$(this).parent().parent();a.getFuntionReference({functionId:$(b).find("p[elename\x3dfunctionDispName]").attr("functionid"),buttons:[{name:ZCButton.OKAY,type:ZCModalConstants.MODAL_CANCEL}],
type:"reference"})});$(a.nameSpaceFilter).off("click","li a").on("click","li a",function(){$(a.nameSpaceFilter).find("li").removeClass("active");$(this).parent("li").addClass("active");a.activeNameSpace=$(this).parent("li").attr("namespace");var b="All"==a.activeNameSpace?"zc.workflow.builder.fuctions.dashboard.textinsearchfield":"zc.workflow.builder.fuctions.dashboard.searchplaceholder";$(workflowListContainer).find("input[elename\x3dcustomFuncSearch]").attr("placeholder",i18n[b]);b="All"==a.activeNameSpace?
"":"^"+a.activeNameSpace+"$";a.functionTable.column(0).search(b,!0,!1,!1).draw()});$("#workflowListContainer").find("input[elename\x3dcustomFuncSearch]").off("keyup change").on("keyup change",function(){var b=$(this).val();$(this).siblings(".zc-common-close").removeClass("hide");$(this).siblings(".zc-fb-look-up").addClass("hide");""==b&&($(this).siblings(".zc-common-close").addClass("hide"),$(this).siblings(".zc-fb-look-up").removeClass("hide"));a.functionTable.search(b).draw()});$("#workflowListContainer").find("i[elename\x3dclearFuncSearch]").off("click").on("click",
function(){$(this).siblings("input[elename\x3dcustomFuncSearch]").val("");$("#workflowListContainer").find("input[elename\x3dcustomFuncSearch]").trigger("keyup");$(this).addClass("hide");$(this).siblings(".zc-fb-look-up").removeClass("hide")});$(a.wfFuncTableEle).off("mouseover","p[elename\x3dfunctionDispName], span[elename\x3dsyntaxDispText]").on("mouseover","p[elename\x3dfunctionDispName], span[elename\x3dsyntaxDispText]",function(){"functionDispName"==$(this).attr("elename")?a.singleLineTooltip(this):
a.singleLineTooltip(this,"left")});$(a.nameSpaceFilter).off("mouseover","a[elename\x3dnamespaceDisp]").on("mouseover","a[elename\x3dnamespaceDisp]",function(){a.twoLineTooltip(this)});$(a.wfFuncTableEle).off("click","td[elename\x3dsyntaxCol] i").on("click","td[elename\x3dsyntaxCol] i",function(){var b=$("\x3cinput\x3e\x3c/input\x3e").attr({type:"text",id:"syntaxContent",value:$(this).siblings("span").text().trim()});$(a.wfFuncTableEle).append(b);b.select();document.execCommand("copy");b.remove();
showToast(i18n["zc.workflow.builder.functions.copied"])})};this.updateTableRow=function(b){var c=b.nameSpace,d="";if($(a.nameSpaceFilter).find("li").length){var e=$(a.nameSpaceFilter).find("li.active");d=$(e).attr("namespace");$(e).removeClass("active");$(a.nameSpaceFilter).find('li[namespace\x3d"'+c+'"]').length||a.constructNameSpaceEle(c)}else a.constructNameSpaceEle(c);e=$(a.wfFuncTableEle).find("tbody tr[functionid\x3d"+a.functionMeta.funcId+"]");var f=$(e).attr("namespace");a.constructFuncRowEle(b,
e);""!=f&&($(a.wfFuncTableEle).find("tbody").find('tr[namespace\x3d"'+f+'"]').length||$(a.nameSpaceFilter).find('li[namespace\x3d"'+f+'"]').remove());$.fn.DataTable.isDataTable("#wfFunctionListing")||a.initFunctionTable();a.handleNoData(!1);b="All"!=d?c:d;$(a.nameSpaceFilter).find('li[namespace\x3d"'+b+'"]').find("a").trigger("click");FunctionBuilder.activeNameSpace=b};this.constructFuncRowEle=function(b,c){var d=b.nameSpace,e=c.length?c:$("#workflowListContainer").find("#clonedFuncRow tr").clone();
$(e).attr({namespace:d,functionid:b.functionid});$(e).find("p[elename\x3dfunctionDispName]").attr({funcname:b.functionName,functionid:b.functionid,funcsyntax:b.completeFuncName});$(e).find("p[elename\x3dfunctionDispName]").find("a").text(b.functionName);$(e).find("a[elename\x3ddeleteFunction]").attr("functionid",b.functionid);$(e).find("td[elename\x3dreturnTypeCol]").text(b.returnType);$(e).find("td[elename\x3dlanguageCol]").attr("language",b.language).text(b.languageStr);$(e).find("td[elename\x3dsyntaxCol]").find("span[elename\x3dsyntaxDispText]").text(b.syntax);
$(e).find("td[elename\x3dnamespaceCol]").text(d);c.length||$(a.wfFuncTableEle).find("tbody").append(e)};this.constructNameSpaceEle=function(b){var c=$("\x3cli\x3e\x3c/li\x3e").attr("namespace",b);$(c).append($("\x3ca\x3e\x3c/a\x3e").attr("elename","namespaceDisp").text(b));$(c).find("a").append($("\x3ci\x3e\x3c/i\x3e").addClass("zc-em zc-wb-namespace"));$(a.nameSpaceFilter).find("ul").append(c)};this.nameSpaceSort=function(){var b=$(a.nameSpaceFilter).find("li[namespace!\x3dAll]").sort(function(a,
b){return $(b).attr("namespace").toUpperCase()<$(a).attr("namespace").toUpperCase()?1:-1}),c=$(a.nameSpaceFilter).find("li[namespace\x3dAll]");$(a.nameSpaceFilter).find("ul").empty();$(a.nameSpaceFilter).find("ul").append(c);$(a.nameSpaceFilter).find("ul").append(b)};this.functionSort=function(){var b=$(a.wfFuncTableEle).find("tbody").find("tr").sort(function(a,b){return $(b).find("p[elename\x3dfunctionDispName]").text().toUpperCase()<$(a).find("p[elename\x3dfunctionDispName]").text().toUpperCase()?
1:-1});$(a.wfFuncTableEle).find("tbody").empty();$(a.wfFuncTableEle).find("tbody").append(b)};this.twoLineTooltip=function(a){var b=$(a).text().trim(),d=2*parseFloat($(a).css("line-height").replace("px",""));d+=parseFloat($(a).css("padding-top").replace("px",""));d+=parseFloat($(a).css("padding-bottom").replace("px",""));d<a.scrollHeight&&$(a).zcTooltip({title:b,className:"zc-function-tooltip",position:"right"}).show()};this.singleLineTooltip=function(a,c){var b=$(a).text().trim();a.offsetWidth<a.scrollWidth&&
$(a).zcTooltip({title:b,className:"zc-function-tooltip",position:void 0!=c?c:"right"}).show()};this.getFunctionBuilder=function(b){var c={type:7};c.compName=b;WebAppearance.showBuilder(a.component,c,!0);AccordionMenu.updateStaticName(b)};this.handleNoData=function(b){var c=$("#no-custom-function");$("#workflowfilterNav .zc-dem-worlflow-filter").hide();b?($(c).removeClass("zc-hide"),$(a.wfFuncTableEle).addClass("zc-hide"),$("#workflowfilterNav div[elename\x3dfunctionFilter]").addClass("zc-hide"),$("#workflowListContainer").find("div[elename\x3dwfTableContainer]").removeClass("zc-dem-form-workflow")):
($(c).addClass("zc-hide"),$(a.wfFuncTableEle).removeClass("zc-hide"),$("#workflowfilterNav div[elename\x3dfunctionFilter]").removeClass("zc-hide"),$("#workflowListContainer").find("div[elename\x3dwfTableContainer]").addClass("zc-dem-form-workflow"))};this.initFunctionBuilder=function(b){WorkflowBuilder.wfState=WorkflowConstants.CUSTOM_FUNCTIONS;a.functionMeta={};a.builderContainer=$("#cfb-action-container");a.activeNameSpace=$(a.builderContainer).find("#namespace").val();a.component=b;a.initFunctionEditor();
a.bindBuilderEvents();a.functionPopulateUrl=appbuilder.component.APP.getAppEditUrl()+"/workflowbuilder/edit";a.customFunctionUrl=appbuilder.component.APP.getAppEditUrl()+"/customFunction"};this.initFunctionEditor=function(){a.functionMeta.appid=$(a.builderContainer).find("#applicationId").val();a.functionMeta.language=$(a.builderContainer).find("#language").val();a.functionMeta.namespace=$(a.builderContainer).find("#namespace").val();a.functionMeta.funcname=$(a.builderContainer).find("#customFunc").attr("functionName");
a.functionMeta.funcId=$(a.builderContainer).find("#customFunc").attr("functionid");a.functionMeta.isConnectionReferenced=$(a.builderContainer).find("#customFunc").attr("isConnectionReferenced");"0"==a.functionMeta.language?a.initDelugeEditor():a.initCloudEditor()};this.initDelugeEditor=function(){$("#zc-comp-settings").hide();$(".zc-dem-cfb-header").addClass("zc-dem-dre-header");$(a.builderContainer).find("div[elename\x3dfunctionFooter]").addClass("zc-cfb-deluge-btns");var b=$(a.builderContainer).find("#customFunctionEditor").find("#div-freeflow-editarea-function"),
c=$(a.builderContainer).find("#customFunc").find("input[elename\x3dfunctionScript]").val(),d=$(a.builderContainer).find("#customFunc").attr("functionid");$(b).show();c={script:void 0!=c?c:"",restriction:DelugeEditorWrapper.prototype.getRestrictedEntries(DELUGE_ACTION_MAP.functions),execute:a.executeCustomFunction,sharedBy:a.component.scopeName,metadata:{appLinkName:a.component.appLinkName},workflow:{workflowId:d,componentType:"Function",actionType:0},connectionUrl:appbuilder.component.APP.getAppEditUrl()+
"/customFunction/"+a.functionMeta.funcId+"/connection/references",save:function(){a.saveCustomFunction()}};a.functionDelugeEditor=initializeDelugeEditor($(b).get(0),c);a.functionDelugeEditor.updateTopBarMenu([{label:i18n["zc.c5.setup.connections.title"],action:"true"==a.functionMeta.isConnectionReferenced?"show":"hide"}]);a.functionDelugeEditor.setOptions({callback:function(){a.functionDelugeEditor.gotoLine(1)}},!0)};this.initCloudEditor=function(){var b=$("#cloudEditorEle"),c=$(b).find("input[name\x3dorgName]").val(),
d=$(b).find("input[name\x3drepoName]").val(),e=$(b).find("input[name\x3dfunctionName]").val(),f=$(b).find("input[name\x3dfunctionType]").val(),g=$(b).find("input[name\x3dlanguage]").val();b=$(b).find("input[name\x3dresourceId]").val();$(a.builderContainer).find("div[elename\x3dfunctionFooter]").addClass("zc-cfb-cloud-btns");showLoading();zce.init({bindEditor:"cloudMainEditor",bindExplorer:"cloudFileTree",bindUploadModal:"cloudModal",appDomain:"/zccloud/",actions:{save:{id:"saveFuncBtn",callback:zce.defaultSaveCallback,
success:a.cloudSaveSuccessCallback,error:a.cloudSaveErrorCallback},uploadFiles:{id:"submitUpload",callback:zce.UploadMethod,success:a.cloudUploadSuccessCallback,error:a.cloudUploadErrorCallback},removeFiles:{id:"removeFiles",success:a.cloudRemoveSuccessCallBk,error:a.cloudRemoveErrorCallBk}},orgInfo:c,editorTheme:"vs",data:{editor:{ZCLOUDSTACKID:parseInt(g),FUNCTIONNAME:e,REPOSITORYNAME:d,FUNCTIONTYPE:parseInt(f),ZCLOUDRESOURCEID:b}},readyCallback:a.editorReadySuccessCallback,readyErrorCallback:a.editorReadyErrorCallback,
executeCallback:a.executeCloudFunction,updateCallback:a.cloudUpdateCallback,showLoading,hideLoading});a.bindCustomMenu();a.pricingCheck()};this.bindBuilderEvents=function(){$("#zc-comp-settings").off("click").on("click",function(){var b=$(a.builderContainer).find("#customFunc").attr("functionid");$.ajax({url:appbuilder.component.APP.getAppEditUrl()+"/customFunction/showSettings",type:"GET",data:{functionId:b},beforeSend:showLoading(),success:function(b,d,e){hideLoading();$(b).iSlide({afterOpen:function(){a.registerSettingsEvents($("#functionSettings"))},
afterClose:function(a){$(a.slider).remove()},focusFirstField:!0})}})});$(a.builderContainer).find("input[elename\x3dexecuteFunction]").on("click",function(){a.executeCustomFunction()});$(a.builderContainer).find(".zc-cfb-deluge-btns input[elename\x3dsaveFunction]").on("click",function(){a.functionDelugeEditor.editor.saveScript()});$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dsaveFunction]").on("click",function(){$(this).showTextLoading(i18n["zc.workflow.builder.functions.savingaction"])});
$(a.builderContainer).find("#cloudConsole").find("i[elename\x3dcloseConsole]").off("click").on("click",function(){$(this).hide();$(this).siblings("i[elename\x3dopenConsole]").css("display","inline-block");$(a.builderContainer).find("#cloudConsole").addClass("zc-cfb-console-hide")});$(a.builderContainer).find("#cloudConsole").find("i[elename\x3dopenConsole]").off("click").on("click",function(){$(this).hide();$(this).siblings("i[elename\x3dcloseConsole]").css("display","inline-block");$(a.builderContainer).find("#cloudConsole").removeClass("zc-cfb-console-hide")});
$(a.builderContainer).find("#cloudConsole").find("div[elename\x3dcopyEle] a").off("click").on("click",function(){var b=$("\x3cinput\x3e\x3c/input\x3e").attr({type:"text",id:"copyCloudResult",value:$(a.builderContainer).find("span[elename\x3dcloudResult]").text().trim()});$(a.builderContainer).find("#cloudConsole").append(b);b.select();document.execCommand("copy");b.remove();showToast(i18n["zc.workflow.builder.functions.copied"])});$(a.builderContainer).find("#fileWrapper").find("#treeSearch").off("keyup change").on("keyup change",
function(){$(a.builderContainer).find("#fileWrapper").find("i[elename\x3dclearTreeSearch]").removeClass("hide");var b=$(this).val().toLowerCase(),c=$(a.builderContainer).find("#cloudFileTree").find(".jstree-node"),d=$(a.builderContainer).find("#cloudFileTree").find(".jstree-node:not(.jstree-leaf)");$(d).find("ul").length||$(d).find(".jstree-icon.jstree-ocl").trigger("click");$(c).filter(function(){$(this).toggle(-1<$(this).find("a").text().toLowerCase().indexOf(b))});""==b&&$(a.builderContainer).find("#fileWrapper").find("i[elename\x3dclearTreeSearch]").addClass("hide")});
$(a.builderContainer).find("#fileWrapper").find("i[elename\x3dclearTreeSearch]").off("click").on("click",function(){$(a.builderContainer).find("#fileWrapper").find("#treeSearch").val("");$(a.builderContainer).find("#fileWrapper").find("#treeSearch").trigger("keyup");$(this).addClass("hide")})};this.executeCustomFunction=function(b,c){var d={};d.sharedBy=a.component.scopeName;d.zccpn=a.component.csrfToken;d.functionid=a.functionMeta.funcId;d.appID=a.functionMeta.appid;d.zohoruntime=(new Date).getTime();
d.isSchedulerScript=!1;a.verifyChangesBeforeExecute(c,function(){a.executeFunctionScript(b,d)})};this.verifyChangesBeforeExecute=function(b,c){if(a.functionMeta.language!=Constants.DELUGE?ZCUser.getPlanDetails().isZCloudFunctionEnabled():1)a.isEditorContentChanged()&&!b?iConfirm({title:i18n["zc.workflow.builder.functions.executedelugescript"],message:i18n["zc.workflow.builder.function.execute.savechng.alertmsg"],button:ZCButton.PROCEED,cbutton:ZCButton.CANCEL,success:function(){c()}}):c()};this.isEditorContentChanged=
function(){return 0!=a.functionMeta.language?zce.getEditor().getValue()!=zce.getOldTextContent():a.functionDelugeEditor.isEditorContentModified()};this.disposeCloudEditor=function(){void 0!=a.functionMeta.language&&0!=a.functionMeta.language&&zce.disposeEditor()};this.executeFunctionScript=function(b,c){b&&(b=b.querySelectorAll("input, select, textarea"),a.getArgValues(b,c),c.isArgValue=!0,c.showresult=!0);$.ajax({url:appbuilder.component.APP.getAppEditUrl()+"/workflowbuilder/edit/executeScript",
type:"POST",beforeSend:function(){showLoading()},data:c,success:function(b,c,f){hideLoading();a.functionMeta.language!=Constants.DELUGE&&void 0!=b.code?a.handleCloudExecuteResponse(b):DelugeExecuteWorkflow.handle(b,a.executeCustomFunction)}})};this.handleCloudExecuteResponse=function(b){200==b.code?a.cloudExecuteSuccessCallback(b):a.cloudExecuteErrorCallback(b)};this.getArgValues=function(a,c){for(var b in a)if(a.hasOwnProperty(b)){var e=a[b];let d=e.getAttribute("name");""!=d&&null!=d&&(c[d]=e.value)}};
this.getFuntionReference=function(b){var c={};c=a.getUrlParams();c.functionid=b.functionId;c.scripttype="functionReferenceDetails";$.ajax({beforeSend:function(){showLoading()},url:a.functionPopulateUrl+"/populateCustomFunction",type:"POST",data:c,success:function(c,e,f){hideLoading();"success"==c.status&&a.customizeReferencePopup(c.errorMessage,i18n["zc.settings.functions.functionreference"],b)}})};this.customizeReferencePopup=function(b,c,d){if(0<$(".zc-dem-dialogue-container").length)$(".zc-dem-dialogue-content").html(b);
else{var e=function(){$.each($(".zc-dem-field-del-refer-content .zc-dem-ref-list.active"),function(a,b){f($(b))})},f=function(a){$(a).children("ul").slideUp(400);$(a).find(".zc-li-outline.arrows-1-minimal-up").removeClass("arrows-1-minimal-up").addClass("arrows-1-minimal-down");$(a).removeClass("active")};b="delete"==d.type?"\x3cdiv class\x3d'zc-dem-field-del-refer-warn zc-dem-clearfix'\x3e\x3ci class\x3d'zc-li-outline ui-3-alert'\x3e\x3c/i\x3e\x3cp\x3e"+i18n["zc.functions.refermsg"]+"\x3c/p\x3e\x3c/div\x3e"+
b:"\x3cdiv class\x3d'zc-dem-field-del-refer-warn zc-dem-clearfix'\x3e\x3ci class\x3d'zc-li-outline ui-3-alert'\x3e\x3c/i\x3e\x3cp\x3e"+i18n["zc.functions.refermsg1"]+"\x3c/p\x3e\x3c/div\x3e"+b;iCustomizePopup({body:b,buttons:d.buttons,success:function(){return!0},failure:function(){}});b='\x3cspan class\x3d"references-title-msg"\x3e'+c+"\x3c/span\x3e\x3c/span\x3e";$(".zc-dem-dialogue-container .zc-dem-dialogue-header").html(b).show();$(".zc-dem-dialogue-container").addClass("zc-ref-popup-error");
$(".zc-dem-dialogue-container").find(".zc-dem-dialogue-close").remove();$(".zc-dem-dialogue-header").addClass("zc-dem-clearfix");$(".zc-dem-dialogue-container").addClass("zc-dem-box-sizing");$(".zc-dem-dialogue-container").find(".zc-dem-dialogue-content").addClass("zc-dem-field-del-refer");$(".zc-dem-box-sizing.zc-dem-ref-type").click(function(){var a=$(this).parent();a.hasClass("active")?f(a):(e(),$(a).children("ul").slideDown(400),$(a).find(".zc-li-outline.arrows-1-minimal-down").removeClass("arrows-1-minimal-down").addClass("arrows-1-minimal-up"),
$(a).addClass("active"))});$(".zc-dem-dialogue-header .references-reload-icon").unbind("click").bind("click",function(){a.getFuntionReference(d)})}};this.deleteCustomFunction=function(b){var c=b.functionId,d=b.functionName,e=b.language,f=b.nameSpace;iWarning({title:i18n["zc.workflowbuilder.deleteconfirm"],message:i18n["zc.workflow.builder.functions.deletefunctionmessage"],success:function(){var g={};g=a.getUrlParams();g.scripttype="workflowdelete";g.functionid=c;g.language=e;g.sb_tracking=!0;g.functionName=
f==Constants.DEFAULT_NAMESPACE?d:f+"."+d;g.sb_compCategory=WorkflowConstants.FUNCTION;$.ajax({beforeSend:function(){showLoading()},url:a.functionPopulateUrl+"/populateCustomFunction",type:"POST",data:g,success:function(c,d,e){hideLoading();"success"!=c.status?(b.buttons=[{name:ZCButton.CLOSE,type:ZCModalConstants.MODAL_SUBMIT}],b.type="delete",a.customizeReferencePopup(c.errorMessage,i18n["zc.settings.functions.deletefunction"],b)):b.successCallBK()}})},failure:function(){}});$(".zc-dem-dialogue-content ").find("i").after('\x3cdiv class\x3d"zc-function-delete-label"\x3e'+
i18n["zc.workflow.builder.fuctions.dashboard.functionname"]+" : "+d+"\x3c/div\x3e")};this.saveCustomFunction=function(){var b=a.getUrlParams(),c=""!=a.functionMeta.namespace?a.functionMeta.namespace+"."+a.functionMeta.funcname:a.functionMeta.funcname;b.language=a.functionMeta.language;b.script=a.functionDelugeEditor.getEditorValue();b.scripttype="workflowmodify";b.functionid=a.functionMeta.funcId;b.functionName=c;b.sb_tracking=!0;b.sb_compCategory=WorkflowConstants.FUNCTION;$.ajax({url:a.functionPopulateUrl+
"/populateCustomFunction",type:"POST",beforeSend:function(){$(a.builderContainer).find("input[elename\x3dsaveFunction]").showTextLoading(i18n["zc.workflow.builder.functions.savingaction"])},data:b,success:function(b,e,f){$(a.builderContainer).find("input[elename\x3dsaveFunction]").hideTextLoading(i18n["zc.workflow.builder.functions.savefunction"]);0==a.functionMeta.language&&a.functionDelugeEditor.handleResponse(b,function(){showStatus(i18n.saved);var d=b.functionDetails.nameSpace,e=b.functionDetails.functionName,
f=b.functionDetails.paramDetail,l=d==Constants.DEFAULT_NAMESPACE?e:d+"."+e;a.functionDelugeEditor.updateTopBarMenu([{label:i18n["zc.c5.setup.connections.title"],action:1==b.functionDetails.isConnectionReferenced?"show":"hide"}]);a.functionMeta.namespace=d==Constants.DEFAULT_NAMESPACE?"":d;a.functionMeta.funcname=e;$(a.builderContainer).find("#namespace").val(a.functionMeta.namespace);$(a.builderContainer).find("#argArray").val(f);$(a.builderContainer).find("#customFunc").attr("functionname",e);$(a.builderContainer).find("#customFunc").find("input[elename\x3dfunctionScript]").val(b.functionDetails.syntax);
c!=l&&(d=appbuilder.component.APP.getAppEditUrl()+"/customFunction/"+l+"/edit",history.pushState({},"",d),AccordionMenu.updateStaticName(l))})},error:function(b,c,f){$(a.builderContainer).find("input[elename\x3dsaveFunction]").hideTextLoading(i18n["zc.workflow.builder.functions.savefunction"]);iAlert(i18n["zc.deluge.editor.save.requesterror"])}})};this.registerSettingsEvents=function(b){$(b).find("#functionProperties").zcScrollPane();$(b).find("#new-function-name").focus();$(b).find("select").zcDropDown();
var c=$(b).find("input[elename\x3dcurrentNamespace]").val(),d=$(b).find("input[elename\x3dcurrentReturnType]").val();CreateCustomFunction.init(a.component,$(b),!0,$(a.builderContainer));$(b).find("#namespaceSelect").data("zcdd").setValue(c);$(b).find("#returnTypeSelect").data("zcdd").setValue(d.toLowerCase());$(b).find("#cancelButton").off("click").on("click",function(){$(b).find(".zc-common-close").trigger("click")})};this.getUrlParams=function(){var b={};b.appid=ZCGlobal.applicationId;b.freeflow=
"false";b.isNewPopulation=!0;b.zccpn=a.component.csrfToken;b.zohoruntime=(new Date).getTime();return b};this.editorReadySuccessCallback=function(){hideLoading();var b=$(a.builderContainer).find("#cloudEditorBody");$(b).find(".CodeMirror-wrap").hide();$("div.zc-cfb-filetree-tooltip").hide();"lib"!=zce.selectedFile&&$(a.builderContainer).find("#cloudFileTitle").find("span").text(zce.selectedFile)};this.editorReadyErrorCallback=function(){};this.cloudSaveSuccessCallback=function(b){hideLoading();$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dsaveFunction]").hideTextLoading(i18n["zc.workflow.builder.functions.savefunction"]);
var c=!1;zce.getEditorData()!=zce.getOldTextContent()&&(c=!0);zce.setOldTextContent(zce.getEditorData());var d=$(a.builderContainer).find("#cloudConsole");b=JSON.parse(b);var e=b.data;b=e.compilation?JSON.parse(e.compilation):b;200==b.code?(showStatus(i18n.saved),$(d).hide()):($(d).find("div[elename\x3dconsoleToast] span").text(i18n["zc.workflow.builder.functions.savedwitherror"]),$(d).find("div[elename\x3dcloudResource]").hide(),$(d).find("div[elename\x3dcopyEle]").hide(),$(d).find("div[elename\x3dcloudConsoleOutput]").find("span[elename\x3dcloudOutputTitle]").text(i18n["zc.workflow.builder.functions.errordetails"]),
$(d).find("div[elename\x3dcloudConsoleOutput]").show(),a.cloudSaveExecuteCallback(b.message,2));c&&a.changeDeployStatus()};this.cloudSaveErrorCallback=function(b){var c=$(a.builderContainer).find("#cloudConsole");$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dsaveFunction]").hideTextLoading(i18n["zc.workflow.builder.functions.savefunction"]);$(c).find("div[elename\x3dconsoleToast] span").text(i18n["zc.workflow.builder.functions.errorsaving"]);$(c).find("div[elename\x3dcloudConsoleOutput]").find("span[elename\x3dcloudOutputTitle]").text(i18n["zc.workflow.builder.functions.errordetails"]);
$(c).find("div[elename\x3dcloudConsoleOutput]").show();$(c).find("div[elename\x3dcloudResource]").hide();$(c).find("div[elename\x3dcopyEle]").hide();a.cloudSaveExecuteCallback(b,0)};this.cloudExecuteSuccessCallback=function(b){hideLoading();var c=$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dexecuteFunction]");$(c).hideTextLoading(i18n["zc.workflow.builder.functions.executecloud"]);c=JSON.parse(b.function_output);var d=[];$.each(c.log,function(b,c){d.push(a.getParsedContent(c.data))});
b={};b.output=a.getParsedContent(c.output);b.log=d;c=$(a.builderContainer).find("#cloudConsole");$(c).find("div[elename\x3dconsoleToast] span").text(i18n["zc.workflow.builder.functions.functionsuccessful"]);$(c).find("div[elename\x3dcloudConsoleOutput]").find("span[elename\x3dcloudOutputTitle]").text(i18n["zc.workflow.builder.functions.result"]);$(c).find("div[elename\x3dcloudConsoleOutput]").show();$(c).find("div[elename\x3dcloudResource]").show();$(c).find("div[elename\x3dcopyEle]").show();a.cloudSaveExecuteCallback(JSON.stringify(b),
1)};this.cloudExecuteErrorCallback=function(b){hideLoading();var c=$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dexecuteFunction]");$(c).hideTextLoading(i18n["zc.workflow.builder.functions.executecloud"]);try{var d=b.message}catch(e){d="Error while executing the function"}b=$(a.builderContainer).find("#cloudConsole");$(b).find("div[elename\x3dconsoleToast] span").text(i18n["zc.workflow.builder.functions.functionexefailed"]);$(b).find("div[elename\x3dcloudConsoleOutput]").find("span[elename\x3dcloudOutputTitle]").text(i18n["zc.workflow.builder.functions.errordetails"]);
$(b).find("div[elename\x3dcloudConsoleOutput]").show();$(b).find("div[elename\x3dcloudResource]").hide();$(b).find("div[elename\x3dcopyEle]").hide();a.cloudSaveExecuteCallback(d,0)};this.cloudSaveExecuteCallback=function(b,c){var d=$(a.builderContainer).find("#cloudConsole"),e=$(d).find("div[elename\x3dconsoleToast]");1==c?($(e).addClass("zc-cfb-console-success-toast").removeClass("zc-cfb-console-failure-toast zc-cfb-console-warning-toast"),$(e).find("i").addClass("ui-1-check-circle-08").removeClass("ui-1-circle-remove zc-em zc-common-alert"),
$(d).find("div[elename\x3dconsoleResult]").find("span[elename\x3dcloudResult]").removeClass("zc-cfb-console-output-error")):(0==c?($(e).addClass("zc-cfb-console-failure-toast").removeClass("zc-cfb-console-success-toast zc-cfb-console-warning-toast"),$(e).find("i").addClass("ui-1-circle-remove").removeClass("ui-1-check-circle-08 zc-em zc-common-alert")):($(e).addClass("zc-cfb-console-warning-toast").removeClass("zc-cfb-console-success-toast zc-cfb-console-failure-toast"),$(e).find("i").addClass("zc-em zc-common-alert").removeClass("ui-1-check-circle-08 ui-1-circle-remove")),
$(d).find("div[elename\x3dconsoleResult]").find("span[elename\x3dcloudResult]").addClass("zc-cfb-console-output-error"));$(d).find("i[elename\x3dcloseConsole]").css("display","inline-block");$(d).find("i[elename\x3dopenConsole]").css("display","none");$(d).removeClass("zc-cfb-console-hide");$(d).find("div[elename\x3dconsoleResult]").find("span[elename\x3dcloudResult]").text(b);$(d).find("div[elename\x3dcloudResource]").hide();$(d).show()};this.cloudUploadSuccessCallback=function(a){hideLoading();
zce.setFunctionFileList(zce.setExplorerDataCallback,zce.setErrorExplorerDataCallback);$("#"+zce.getUploadModalID()).fadeOut(500)};this.cloudUploadErrorCallback=function(a){hideLoading();try{if(a.hasOwnProperty("responseText")){var b=JSON.parse(a.responseText).error;var d=b.errors?b.errors[0].reason:b.reason}else a.hasOwnProperty("error")&&(d=a.error)}catch(e){d=i18n["zc.workflow.builder.functions.fileuploadfailed"]}$("#uploadFileButton").showError(d)};this.cloudRemoveSuccessCallBk=function(b){zce.getFunctionFileContent(zce.getConfig().data.editor.FUNCTIONNAME+
zce.getFileExtension(zce.getConfig().data.editor.ZCLOUDSTACKID),zce.setEditorContentCallback,zce.setErrorEditorContentCallback);zce.setSelectedFile(zce.getConfig().data.editor.FUNCTIONNAME+zce.getFileExtension(zce.getConfig().data.editor.ZCLOUDSTACKID));zce.setFunctionFileList(zce.setExplorerDataCallback,zce.setErrorExplorerDataCallback);$("#"+zce.getUploadModalID()).fadeOut(500);$(a.builderContainer).find("#cloudFileTitle").find("span").text(zce.getConfig().data.editor.FUNCTIONNAME+zce.getFileExtension(zce.getConfig().data.editor.ZCLOUDSTACKID));
showToast(b.message)};this.cloudRemoveErrorCallBk=function(a){try{var b=JSON.parse(a.responseText).error;var d=b.errors?b.errors[0].reason:b.reason}catch(e){d=i18n["zc.workflow.builder.functions.fileremovalfailed"]}iAlert(d)};this.cloudUpdateCallback=function(){$(a.builderContainer).find(".zc-cfb-cloud-btns input[elename\x3dsaveFunction]").showTextLoading(i18n["zc.workflow.builder.functions.savingaction"]);zce.defaultSaveCallback()};this.executeCloudFunction=function(){a.executeCustomFunction()};
this.changeDeployStatus=function(){var b={};b.functionId=a.functionMeta.funcId;b.zccpn=a.component.csrfToken;$.ajax({url:a.customFunctionUrl+"/changeDeployStatus",type:"POST",data:b,success:function(a,b,e){"success"!=a.status&&iAlert(i18n["zc.workflow.builder.functions.errorsaving"])},error:function(a,b,e){iAlert(i18n["zc.workflow.builder.functions.errorsaving"])}})};this.getParsedContent=function(a){try{var b=JSON.parse(a)}catch(d){b=a}return b};this.bindCustomMenu=function(){zce.customMenu=function(b){return b.original.isDirectory||
"#"==b.original.parent?b.original.isDirectory?{item1:{label:"Upload Files",action:function(){zce.showUploadModal("upload");$(a.builderContainer).find("#cloudModal").find(".zce-modal-footer h4").text(i18n["zc.workflow.builder.functions.overalllimit"])}}}:"":{item1:{label:"Remove File",action:function(){zce.removeFunctionFiles(b.original.fullPath)}}}}};this.pricingCheck=function(){ZCUser.getPlanDetails().isZCloudFunctionEnabled()||($("#appbuilder-header").find("#upgradeButton").removeClass("zc-hide"),
$("#appbuilder-main-head").addClass("zc-dem-cfb-upgrade"),$("#appbuilder-header").find("#upgradeButton").find("a").text(i18n["zc.workflow.builder.functions.upgradetoenable"]),$(a.builderContainer).find("#executeFuncBtn").attr("disabled",!0).addClass("zc-dem-disabledbtn"))}},CreateCustomFunction=new function(){var a=this;this.customFuncEle;this.argumentsHtml;this.argumentsList;this.component;this.init=function(b,c,d,e){a.isFuncSettings=d;a.component=b;a.customFuncEle=c;a.functionUrl=appbuilder.component.APP.getAppEditUrl()+
"/workflowbuilder/edit";a.argumentsList=$(a.customFuncEle).find("#argumentsListing");b=$(a.argumentsList).find("select[name\x3dargType]");void 0!=$(b).data("zcdd")&&$(b).data("zcdd").destroy();a.argumentsHtml=$(a.customFuncEle).find("#argumentsListing").html();a.languageSelector=$(a.customFuncEle).find("#languageSelect");a.namespaceSelector=$(a.customFuncEle).find("#namespaceSelect");a.returntypeSelector=$(a.customFuncEle).find("#returnTypeSelect");a.argumentsDiv=$(a.customFuncEle).find("div[elename\x3dargumentsEle]");
$(a.customFuncEle).find("#argumentsListing").empty();d?(a.functionBuilderEle=$(e),a.loadParameters()):($(a.languageSelector).data("zcdd").setValue("0"),$(a.returntypeSelector).data("zcdd").setValue("void"),d=$("#wfFunctionListing").find("tbody td[elename\x3dfunctionNameCol]").length,d="All"==FunctionBuilder.activeNameSpace&&d?"":void 0!=FunctionBuilder.activeNameSpace&&""!=FunctionBuilder.activeNameSpace&&"All"!=FunctionBuilder.activeNameSpace?FunctionBuilder.activeNameSpace:Constants.DEFAULT_NAMESPACE,
$(a.namespaceSelector).data("zcdd").setValue(d),$("a[id\x3dback-button]").addClass("zc-hide"));a.bindCreateFunctionEvents()};this.bindCreateFunctionEvents=function(){$(a.languageSelector).off("change").on("change",function(){if("0"==$(this).data("zcdd").getValue())$(a.customFuncEle).find("#cloudCreateOption").hide(),$(a.customFuncEle).find("#uploadCode").hide(),$(a.returntypeSelector).attr("disabled",!1).data("zcdd").setValue("void"),$(a.namespaceSelector).attr("disabled",!1),$(a.argumentsDiv).show(),
a.isFuncSettings||($(a.customFuncEle).find("#create-custom-function").attr("disabled",!1).removeClass("zc-dem-disabledbtn"),$(a.customFuncEle).find("#onelineUpgrade").hide(),$(this).closest("div.zc-dem-fs-form-group").removeClass("zc-dem-language-block"));else{$(a.customFuncEle).find("#cloudCreateOption").show();$(a.returntypeSelector).attr("disabled",!0).data("zcdd").setValue("collection");$(a.namespaceSelector).attr("disabled",!0).data("zcdd").setValue(Constants.DEFAULT_NAMESPACE);$(a.customFuncEle).find(".zc-dem-fs-add-new").hide();
$(a.customFuncEle).clearError();"1"==$(a.customFuncEle).find("#cloudCreateOption input:radio[name\x3dcreateOption]:checked").val()?($(a.customFuncEle).find("#uploadCode").show(),$(a.argumentsDiv).hide()):$(a.argumentsDiv).show();var b=0<$(a.customFuncEle).find("#isCloudFunctionEnabled").length?$(a.customFuncEle).find("#isCloudFunctionEnabled").val():!1;a.isFuncSettings||"false"!=b||($(a.customFuncEle).find("#create-custom-function").attr("disabled",!0).addClass("zc-dem-disabledbtn"),$(a.customFuncEle).find("#onelineUpgrade").show(),
$(this).closest("div.zc-dem-fs-form-group").addClass("zc-dem-language-block"))}$(a.argumentsList).empty();$(a.customFuncEle).find("#addNewArgument").show()});$(a.customFuncEle).find("#addNewArgument").off("click").on("click",function(){var b=$(a.argumentsHtml);$(this).hide();$(a.argumentsList).append(b);$(a.argumentsList).find("select[name\x3dargType]").zcDropDown();b.find("input[name\x3dargumentName]").focus();b=$(a.languageSelector).data("zcdd").getValue();a.setArgType(b)});$(a.namespaceSelector).off("change").on("change",
function(){"Add New"===$(this).val()?$(a.customFuncEle).find(".zc-dem-fs-add-new").show():$(a.customFuncEle).find(".zc-dem-fs-add-new").hide();$(a.customFuncEle).find(".zc-dem-fs-add-new").clearError()});$(a.argumentsList).off("click","span[elename\x3dcloneArg]").on("click","span[elename\x3dcloneArg]",function(){var b=$(a.argumentsList),c=$(a.argumentsHtml);1===b.children().length&&b.sortable({containment:a.argumentsList,items:".zc-dem-argument-list",axis:"y"});c.insertAfter($(this).parent());c.find("input[name\x3dargumentName]").focus();
b.find("select").zcDropDown({placeholder:"-Select-"});c=$(a.languageSelector).data("zcdd").getValue();20<=b.children().length&&"0"!=c&&b.find("span[elename\x3dcloneArg]").addClass("hide");a.setArgType(c)});$(a.argumentsList).off("click","span[elename\x3ddeleteArg]").on("click","span[elename\x3ddeleteArg]",function(){var b=$(this).parent(),c=$(a.argumentsList),d=$(a.languageSelector).data("zcdd").getValue(),e=document.activeElement===b.find("input[name\x3dargumentName]")[0],f=b.next().length?b.next():
b.prev();b.remove();b=c.children().length;0===b?$(a.customFuncEle).find("#addNewArgument").show():1===b?(c.sortable("destroy"),e&&c.find(".zc-dem-argument-list input[name\x3dargumentName]").focus()):e&&f.find("input[name\x3dargumentName]").focus();20>b&&"0"!=d&&c.find("span[elename\x3dcloneArg]").removeClass("hide")});$(a.customFuncEle).find("#cloudCreateOption input:radio[name\x3dcreateOption]").off("change").on("change",function(){"0"==$(this).val()?($(a.customFuncEle).find("#uploadCode").hide(),
$(a.argumentsDiv).show()):($(a.customFuncEle).find("#uploadCode").show(),$(a.argumentsDiv).hide())});$(a.customFuncEle).find("#create-custom-function").off("click").on("click",function(b){a.createUpdateFunction();b.preventDefault()});$(a.customFuncEle).find("#saveFuncSettings").off("click").on("click",function(b){a.createUpdateFunction();b.preventDefault()});$(a.customFuncEle).find("#onelineUpgrade a").off("click").on("click",function(a){Upgrade.redirectToUpgradePage(ZCGlobal.scopeName,"Cloud_Functions");
a.preventDefault()})};this.setArgType=function(b){var c=$(a.argumentsList).find("select[name\x3dargType]"),d="0"!=b;$.each(c,function(a,c){"0"!=b&&$(c).data("zcdd").setValue("string");$(c).attr("disabled",d)})};this.getValidNamespace=function(){var b=a.getNamespace(),c=$(a.customFuncEle).find("#addnewNameSpace").val();b="Add New"==b?c==Constants.DEFAULT_NAMESPACE?"":c:b;return b=a.getValidName(b)};this.createUpdateFunction=function(){$(a.customFuncEle).find("#cloudCreateOption input:radio[name\x3dcreateOption]").val();
var b=a.isFuncSettings?$(a.customFuncEle).find("#saveFuncSettings"):$(a.customFuncEle).find("#create-custom-function");if(a.validateCustomFunctionFields()){var c=a.generateFunctionScript(),d={};d=a.getUrlParams();d.scripttype=a.isFuncSettings?"workflowmodify":"workflowadd";d.script=c;d.language=$(a.languageSelector).val();var e=a.getValidName($(a.customFuncEle).find("#function-name-new").val()),f=a.getValidNamespace();d.functionName=""!=f?f+"."+e:e;d.sb_tracking=!0;d.sb_compCategory=WorkflowConstants.FUNCTION;
a.isFuncSettings&&(e=$(a.customFuncEle).find("input[elename\x3dfunctionId]").val(),d.functionid=e);isNull(c)||$.ajax({url:a.functionUrl+"/populateCustomFunction",type:"POST",beforeSend:function(){$(b).showTextLoading(i18n[a.isFuncSettings?"zc.workflow.builder.functions.savingaction":"zc.onboarding.creating"])},data:d,success:function(c,d,e){"success"!=c.status?($(b).hideTextLoading(i18n[a.isFuncSettings?"zc.workflow.builder.functions.savesettings":"zc.workflow.builder.functions.createfunction"]),
iAlert(c.errorMessage)):void 0!=c.functionDetails&&(a.isFuncSettings?($(b).hideTextLoading(i18n["zc.workflow.builder.functions.savesettings"]),$(a.customFuncEle).showStatus(i18n.saved),$(a.functionBuilderEle).find("#namespace").val(c.functionDetails.nameSpace==Constants.DEFAULT_NAMESPACE?"":newNamespace),$(a.functionBuilderEle).find("#argArray").val(c.functionDetails.paramDetail),$(a.functionBuilderEle).find("#customFunc").attr("functionname",c.functionDetails.functionName),$(a.functionBuilderEle).find("#customFunc").find("input[elename\x3dfunctionScript]").val(c.functionDetails.syntax),
setTimeout(function(){$(a.customFuncEle).find(".zc-dem-right-close").trigger("click");if(void 0!=c.accessInfo&&""!=c.accessInfo){var b=c.accessInfo,d=b.substring(0,b.indexOf("\n")),e=b.substring(b.indexOf("\n"),b.indexOf("\x3cul\x3e"));b=b.substring(b.indexOf("\x3cul\x3e"),b.indexOf("\x3c/ul\x3e"))+"\x3c/ul\x3e";iCustomizePopup({body:"\x3cspan\x3e"+d+"\x3c/span\x3e\x3cp\x3e"+e+"\x3c/p\x3e\x3cdiv class\x3d'zc-dem-function-refer-list'\x3e"+b+"\x3c/div\x3e",buttons:[{name:ZCButton.OKAY,type:ZCModalConstants.MODAL_SUBMIT}],
parentClass:"zc-dem-function-update-warning",success:function(){return!0}},function(a){$(a.parentContainer).find(".zc-dem-dialogue-close").hide();$(a.parentContainer).find(".zc-dem-function-refer-list").zcScrollPane({autoreinit:!0})})}},500)):(d=c.functionDetails.functionName,e=c.functionDetails.nameSpace,d=e!=Constants.DEFAULT_NAMESPACE?e+"."+d:d,e={type:7},e.compName=d,WebAppearance.showBuilder(a.component,e,!0),AccordionMenu.updateStaticName(d)))}})}};this.validateCustomFunctionFields=function(){var b=
$(a.languageSelector).val(),c=!0,d={languageSelect:i18n["zc.workflow.builder.fuctions.language"],namespaceSelect:i18n["zc.workflow.builder.functions.choosenamespace"],returnTypeSelect:i18n["zc.workflow.builder.fuctions.returntype"],"function-name-new":i18n["zc.workflow.builder.functions.entervalidfunctionname"]},e=$(a.customFuncEle).find("#function-name-new, #languageSelect, #namespaceSelect, #returnTypeSelect");$.each(e,function(a,b){a=$(b).val();if(null==a||""==a)$(b).showError(d[$(b).attr("id")]),
c=!1});e=$(a.customFuncEle).find("#function-name-new").val();switch(b){case Constants.DELUGE:b=new RegExp(/^[a-zA-Z_][a-zA-Z0-9_]{0,79}$/);b.test(e)||($(a.customFuncEle).find("#function-name-new").showError(i18n["zc.workflow.builder.functions.entervalidfunctionname"]),c=!1);b=a.getNamespace();nameSpace="Add New"==b?$(a.customFuncEle).find("#addnewNameSpace").val():b;if(!(new RegExp(/^$|^[a-zA-Z_][a-zA-Z0-9_]{0,79}$/)).test(nameSpace)||"Add New"==b&&""==nameSpace)"Add New"==b?$(a.customFuncEle).find("#addnewNameSpace").showError(i18n["zc.workflow.builder.functions.entervalidnamespace"]):
$(a.namespaceSelector).showError(i18n["zc.workflow.builder.functions.entervalidnamespace"]),c=!1;break;case Constants.JAVA:case Constants.NODEJS:b=new RegExp(/^[a-zA-Z_][a-zA-Z0-9_]{0,49}$/),50<e.length?($(a.customFuncEle).find("#function-name-new").showError(i18n["zc.workflow.builder.functions.functionnamecharacterlimit"]),c=!1):b.test(e)||($(a.customFuncEle).find("#function-name-new").showError(i18n["zc.workflow.builder.functions.entervalidfunctionname"]),c=!1)}return c};this.generateFunctionScript=
function(){var b=$(a.languageSelector).val(),c="",d="";switch(b){case Constants.DELUGE:c=$(a.returntypeSelector).val().trim();d=a.getValidNamespace();break;case Constants.JAVA:case Constants.NODEJS:c=a.isFuncSettings?$(a.returntypeSelector).val().trim():"collection",d=""}var e="",f=a.getValidName($(a.customFuncEle).find("#function-name-new").val());""==f&&$(a.customFuncEle).find("#function-name-new").showError(i18n["zc.workflow.builder.functions.entervalidfunctionname"]);""!=d&&(d+=".");e=e+c+" "+
d+f+"(";var g="",h="",k=!1;$(a.argumentsList).children().each(function(){g=a.getValidName($(this).find('input[name\x3d"argumentName"]').val());h=$(this).find("select[name\x3dargType]").val().trim();if(""==g)$(this).find("input[name\x3dargumentName]").showError(i18n["zc.workflow.builder.functions.argumentnameempty"]),k=!0;else if("undefined"!=typeof b&&"0"!=b&&50<g.length)$(this).find("input[name\x3dargumentName]").showError(i18n["zc.workflow.builder.functions.argnamecharacterlimit"]),k=!0;else if(""==
h)$(this).find("select[name\x3dargType]").showError(i18n["zc.workflow.builder.functions.argtypeisempty"]),k=!0;else if(""!==g||""!==h)e=e+h+" "+g+","});if(!k)return e=e.replace(/,(?=[^,]*$)/,"")+")\n{","string"==c?e+='\nreturn "";\n':"bool"==c?e+="\nreturn false;\n":"date"==c?e+="\nreturn zoho.currentdate;\n":"int"==c?e+="\nreturn 0;\n":"float"==c?e+="\nreturn 0.0;\n":"list"==c?e+="\nreturn List();\n":"map"==c?e+="\nreturn Map();\n":"collection"==c&&(e+="\nreturn Collection();\n"),e+="}"};this.getNamespace=
function(){var b=$(a.namespaceSelector).val();return b==Constants.DEFAULT_NAMESPACE?"":b};this.loadParameters=function(){var b=JSON.parse($(a.customFuncEle).find("input[elename\x3dcurrentArgs]").val());if(0!=b.length){$(a.customFuncEle).find("#addNewArgument").hide();for(var c=0;c<b.length;c++){var d=$(a.argumentsHtml);$(d).find("input[name\x3dargumentName]").val(b[c].paramName);$(a.argumentsList).append($(d))}$(a.argumentsList).find("select[name\x3dargType]").zcDropDown();$(a.argumentsList).find("select[name\x3dargType]").attr("disabled",
!0);a.setArgType("2")}};this.getValidName=function(a){a=a.trim();a=a.replace(/\s\s+/g," ");return a=a.replace(/ /g,"_")};this.getUrlParams=function(){var b={};b.appid=ZCGlobal.applicationId;b.freeflow="false";b.isNewPopulation=!0;b.zccpn=a.component.csrfToken;b.zohoruntime=(new Date).getTime();return b}};var UserDropDown=new function(){this.invokeMulitSelect=function(a,b){var c=new UserDD;c.setHostUrl(a);c.setInputFields(b);c.init();return c};this.invokeSingleSelect=function(a,b){var c=new UserSingleDD;c.setHostUrl(a);c.setInputFields(b);c.init();return c}},cachedUserData=[],lastEnteredstring="",currentModule="",appUser="",inputString,staticlist,dynnamiclist,flagAjax,listSize,call,skipNewInput=!1;
function UserDD(){appUser=this;appUser.hosturl;appUser.input;call=null;this.init=function(){function a(){appUser.currentElemId=void 0!=this.element?this.element.attr("id"):appUser.input.targetElemId;var a=$("#s2id_"+appUser.currentElemId).find(".select2-search-field").find("input").on("input").val();currentModule!=appUser.input.skipModule&&inputString!=a&&(listSize=1,inputString=a,flagAjax=!0,callajax(),listSize=201)}inputString="";staticlist=appUser.input.staticlist;dynnamiclist=appUser.input.dynnamiclist;
appUser.currentElemId=void 0!=this.element?this.element.attr("id"):appUser.input.targetElemId;skipNewInput=void 0!=appUser.input.skipNewInput?appUser.input.skipNewInput:skipNewInput;flagAjax=!0;listSize=1;this.data={};0<dynnamiclist.length&&dynnamiclist.map((a)=>a.text);appUser.userSelect;var b=null;$(".select2-search-field input").keydown(function(c){c.keyCode==Keys.ENTER.code&&(appUser.userSelect.close(),$("#"+appUser.currentElemId).select2("focus"));clearTimeout(b);b=setTimeout(a,200);c.stopImmediatePropagation()});
$(".select2-choices").click(function(){inputString="";listSize=1;"userSelect"==appUser.input.targetElemId&&(currentModule=$("#addUserGroup label").attr("name"))})};this.checkIsValidEmail=function(a){a=a.toLowerCase();var b=new RegExp(/^[a-zA-Z0-9_]([a-zA-Z0-9_\.\+\-'])*@[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,15})+$/);return"public@zohocreator.com"==a||"app@zohocreator.com"==a||"appcustomer@zohocreator.com"==a||"edit@zohocreator.com"==a||"system@zohocreator.com"==a?!1:a.match(b)?!0:!1};this.setChoice=function(a,
b){a.setData({id:b.name,text:b.name})};this.destroy=function(){};this.setHostUrl=function(a){appUser.hosturl=a};this.setInputFields=function(a){appUser.input=a}}
function UserSingleDD(){appUser=this;appUser.hosturl;appUser.input;call=null;this.init=function(){inputString="";staticlist=appUser.input.staticlist;dynnamiclist=appUser.input.dynnamiclist;appUser.currentElemId=void 0!=this.element?this.element.attr("id"):appUser.input.targetElemId;skipNewInput=void 0!=appUser.input.skipNewInput?appUser.input.skipNewInput:skipNewInput;flagAjax=!0;listSize=1;this.data={};0<dynnamiclist.length&&dynnamiclist.map((a)=>a.text);appUser.userSelect;var a=null;$(".select2-search input").keydown(function(b){b.keyCode==
Keys.ENTER.code&&(appUser.userSelect.close(),$("#"+appUser.currentElemId).select2("focus"));clearTimeout(a);a=setTimeout(callAfterSomedelay,200);b.stopImmediatePropagation()})};this.setChoice=function(a,b){a.setData({id:b.name,text:b.name})};this.destroy=function(){};this.setHostUrl=function(a){appUser.hosturl=a};this.setInputFields=function(a){appUser.input=a}}var timer=null;
$(".select2-focused input").keydown(function(a){a.keyCode==Keys.ENTER.code&&(appUser.userSelect.close(),$("#"+appUser.currentElemId).select2("focus"));clearTimeout(timer);timer=setTimeout(callAfterSomedelay,200);a.stopImmediatePropagation()});$(".select2-choices").click(function(){inputString="";listSize=1;"userSelect"==appUser.input.targetElemId&&(currentModule=$("#addUserGroup label").attr("name"))});
function callAfterSomedelay(){appUser.currentElemId=$(".select2-dropdown-open").attr("id");var a=$(".select2-active").val();currentModule!=appUser.input.skipModule&&inputString!=a&&(listSize=1,inputString=a,flagAjax=!0,callajax(),listSize=201)}
function callajax(){var a=appUser.currentElemId;-1!=a.indexOf("s2id")&&(a=a.slice(5));var b=$("#"+a).attr("filter");a="userSelect"==appUser.input.targetElemId?!0:!1;if(inputString.length>("Users"==b?2:0))if(lastEnteredstring.startsWith(inputString)&&lastEnteredstring.length>inputString.length&&(flagAjax=!0,cachedUserData=[]),flagAjax)1==listSize&&(cachedUserData=[]),$.ajax({url:appUser.hosturl+"/share/userDataJson",dataType:"JSON",type:"GET",data:{startingIndex:listSize,filterString:inputString,filterTable:b,
skipAppOwner:a},success:function(a){var c=new URL(this.url);if(1==c.searchParams.get("startingIndex")&&currentModule==appUser.input.allowedCurrentModule)for(var d=0;d<dynnamiclist.length;d++)dynnamiclist[d].text.toUpperCase().includes(inputString.toUpperCase())&&a.splice(1,0,dynnamiclist[d]);1<a.length?("undefined"!=staticlist&&staticlist.hasOwnProperty("id")&&1==c.searchParams.get("startingIndex")&&currentModule==appUser.input.allowedCurrentModule&&a.splice(1,0,staticlist),call.callback({results:a.slice(1,
a.length),more:a[0].hasMore})):!1===skipNewInput?call.callback({results:[{id:inputString,text:inputString}],more:!1}):"Users"==b?$(".select2-results").html('\x3cli class\x3d"select2-searching"\x3e'+i18n["zc.c6.usersroles.selectusers.searchnoresults"]+"\x3c/li\x3e"):$(".select2-results").html('\x3cli class\x3d"select2-searching"\x3e'+i18n["zc.c6.usersroles.selectroles.searchnoresults"]+"\x3c/li\x3e");lastEnteredstring=inputString;flagAjax=a[0].hasMore;cachedUserData.push.apply(cachedUserData,a.slice(1,
a.length));cachedUserData=[...new Set(cachedUserData.map(JSON.stringify))].map((a)=>JSON.parse(a));$(".select2-more-results").html('\x3cdiv class\x3d"zc-dot-load-container"\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3cdiv class\x3d"zc-dot-load"\x3e\x3c/div\x3e\x3c/div\x3e')}});else{a=[];for(var c=0;c<cachedUserData.length;c++)cachedUserData[c].text.toUpperCase().includes(inputString.toUpperCase())&&a.push(cachedUserData[c]);0==a.length&&(a=[{id:inputString,
text:inputString}]);call.callback({results:a,more:flagAjax})}else $(".select2-results").empty(),a=[],"undefined"!=staticlist&&staticlist.hasOwnProperty("id")&&currentModule==appUser.input.allowedCurrentModule&&a.push(staticlist),call.callback({results:a,more:!1}),!0===skipNewInput&&$(".select2-results").empty(),"Users"==b?$(".select2-results").append('\x3cli class\x3d"select2-searching"\x3e'+i18n["zc.share.builder.search.minimumcharacters"]+"\x3c/li\x3e"):$(".select2-results").append('\x3cli class\x3d"select2-searching"\x3e'+
i18n["zc.c6.usersroles.selectroles.entervalid"]+"\x3c/li\x3e"),flagAjax=!0,cachedUserData=[]}function markMatch(a,b){if(void 0!=a&&void 0!=b){var c=a.toUpperCase().indexOf(b.toUpperCase());if(-1!=c){var d=""+ZSEC.Encoder.encodeForHTML(a.substring(0,c));d=d+"\x3cspan class\x3d'select2-match'\x3e"+ZSEC.Encoder.encodeForHTML(a.substring(c,c+b.length));return d=d+"\x3c/span\x3e"+ZSEC.Encoder.encodeForHTML(a.substring(c+b.length))}}return ZSEC.Encoder.encodeForHTML(a)}
function hoverOver(a){$(a).find(".option_userdata").zcTooltip({innerHTML:$(a).find(".tooltipContent").html(),className:"zc-function-tooltip"}).show()};