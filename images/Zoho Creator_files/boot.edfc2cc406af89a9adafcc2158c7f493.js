var Modules=new function(){this.ONBOARD="onboard";this.APPEARANCE="appearance";this.WEBAPPEARANCE="webappearance";this.MOBILEAPPEARANCE="mobileappearance";this.WEBFORMAPPEARANCE="web-formappearance";this.WEBREPORTAPPEARANCE="web-reportappearance";this.WEBPAGEAPPEARANCE="web-pageappearance";this.MOBILEFORMAPPEARANCE="mobile-formappearance";this.MOBILEREPORTAPPEARANCE="mobile-reportappearance";this.MOBILEPAGEAPPEARANCE="mobile-pageappearance";this.WORKFLOWAPPEARANCE="workflow-appearance";this.FORMBUILDER=
"formbuilder";this.REPORTBUILDER="reportbuilder";this.PAGEBUILDER="pagebuilder";this.WORKFLOWBUILDER="workflowbuilder";this.APPWORKFLOW="appworkflow";this.APPSETTINGS="appsettings";this.APPROVALBUILDER="approvalbuilder";this.FUNCTIONBUILDER="functionbuilder";this.BLUEPRINTBUILDER="blueprintbuilder";this.TEMPLATEPRINTBUILDER="templateprintbuilder";this.SCHEMABUILDER="schemabuilder";this.THEMES="themes";this.SECTIONS="sections";this.SHARE="share";this.QUICKSHARE="quickshare";this.ZOHOEDITOR="zohoeditor";
this.DATETIMEPICKER="datetimepicker";this.CLIPBOARD="clipboard";this.SUPPORTFEEDBACK="supportFeedback";this.SECURITY="security";this.PORTALPAGETEMPLATE="portalPageCustomization";this.PAGECHART="pagechart";this.PAGESCRIPT="pageScript";this.PAGEBUILDERSPLITJS="pagebuildersplitjs";this.BACKUP="backup";this.PORTAL="portal";this.PUBLISH="publish";this.LOCALIZATION="localization";this.CONTEXTUAL_MESSAGES="contextualMessages";this.APPLICATIONIDE="applicationide";this.TEMPLATES="templates";this.USAGELOG=
"usagelog";this.RECORDAUDIT="recordAudit";this.CODESIGN="codesign";this.MOBILESDK="mobilesdk";this.PANELBUILDER="panelbuilder";this.WIDGETS="widgets";this.PLATFORMPERMISSION="platformpermission";this.USERSPERMISSION="userpermissions";this.PORTALPERMISSIONS="portalpermissions"};
function Requires(c){this.get=function(){switch(c){case Modules.MOBILEFORMAPPEARANCE:return["mobile",i18nPath.DEVICE_FORM];case Modules.MOBILEAPPEARANCE:return["mobile"];case Modules.MOBILEPAGEAPPEARANCE:return["mobile","pageresize"];case Modules.WEBFORMAPPEARANCE:return[i18nPath.FORM];case Modules.WEBREPORTAPPEARANCE:return["handleBar","reportappearance","tp-colorpicker"];case Modules.MOBILEREPORTAPPEARANCE:return["handleBar","mobile","reportappearance","tp-colorpicker"];case Modules.FORMBUILDER:return["handleBar",
"clipboard","formbuilder","dtpicker","zohoeditor",i18nPath.FORM];case Modules.REPORTBUILDER:return["reportbuilder","tp-colorpicker","nucleo",i18nPath.REPORT];case Modules.TEMPLATEPRINTBUILDER:return["../../lib/codemirror","beautify-html","tp-colorpicker",i18nPath.PRINT_TEMPLATE];case Modules.APPROVALBUILDER:case Modules.FUNCTIONBUILDER:case Modules.WORKFLOWBUILDER:return"../../lib/codemirror moment dtpicker handleBar datatables zohoeditor service-flags".split(" ");case Modules.BLUEPRINTBUILDER:return"../../lib/codemirror moment dtpicker handleBar datatables gojs zohoeditor service-flags".split(" ");
case Modules.APPWORKFLOW:case Modules.WORKFLOWAPPEARANCE:return["moment","dtpicker","datatables"];case Modules.APPSETTINGS:return["datatables","settings"];case Modules.THEMES:return["themes"];case Modules.SECTIONS:return["sections","nucleo","font-awesome"];case Modules.SHARE:return["share"];case Modules.PORTAL:return["portal"];case Modules.PUBLISH:return["clipboard","publish","tp-colorpicker"];case Modules.BACKUP:return["backup"];case Modules.LOCALIZATION:return["localization"];case Modules.CONTEXTUAL_MESSAGES:return["handleBar",
"contextualMessages"];case Modules.TEMPLATES:return["templates"];case Modules.USAGELOG:return["usagelog"];case Modules.RECORDAUDIT:return["recordAudit"];case Modules.QUICKSHARE:return["quickshare"];case Modules.ZOHOEDITOR:return["zohoeditor"];case Modules.APPLICATIONIDE:return["../../lib/codemirror","beautify-html","service-flags"];case Modules.DATETIMEPICKER:return["moment","dtpicker"];case Modules.CLIPBOARD:return["clipboard"];case Modules.SCHEMABUILDER:return["jsPlumb","custommousewheel"];case Modules.SUPPORTFEEDBACK:return["reachUs",
"support-Feedback"];case Modules.SECURITY:return["security"];case Modules.PAGECHART:return["@zohocharts/d3"];case Modules.PAGESCRIPT:return["../../lib/codemirror","beautify-html","service-flags"];case Modules.PAGEBUILDERSPLITJS:return["pagebuildersplitjs"];case Modules.CODESIGN:return["codesign"];case Modules.PAGEBUILDER:return["handleBar","panelbuilder"];case Modules.MOBILESDK:return["clipboard","mobilesdk"];case Modules.WIDGETS:return["widgets"];case Modules.PLATFORMPERMISSION:return["share"];case Modules.USERSPERMISSION:return["share"];
case Modules.PORTALPERMISSIONS:return["portal","share"];default:return[]}};this.getPromise=function(a){switch(c){case Modules.CONTEXTUAL_MESSAGES:return function(b){window.Handlebars=b;a()};case Modules.PAGEBUILDER:return function(b){window.Handlebars=b;require(["templateEngine","panelbuilder","pagebuilder","pageresize","tp-colorpicker","nucleo","pagesIntegration",i18nPath.PAGE],function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.pagebuilderCss,ZCPath.staticCss.tpColorPickerCss]).then(function(){a()})})};
case Modules.PANELBUILDER:return function(){require(["templateEngine","panelbuilder","pageresize","tp-colorpicker","nucleo","pagesIntegration",i18nPath.PAGE],function(){loadFiles([ZCPath.appbuilderCss.pagebuilderCss,ZCPath.staticCss.tpColorPickerCss]).then(function(){a()})})};case Modules.PAGECHART:return function(b){window.d3=b;require(["pagechart","zcchart"],function(b,c){window.$ZC=c;a()})};case Modules.PAGEBUILDERSPLITJS:return function(){require(["pagebuildersplitjs","nucleo"],function(){a()})};
case Modules.PAGESCRIPT:return function(b,d){window.CodeMirror=b;window.html_beautify=d.html_beautify;require("foldcode foldgutter bracefold comment commentfold searchcursor matchtags xml-fold matchbrackets lint fullscreen dialog activeline runmode matchbrackets closebrackets autorefresh sublime deluge-search-dialog deluge-custom-search xml css beautify-html delugeeditor".split(" "),function(){a()})};case Modules.MOBILEPAGEAPPEARANCE:return function(){loadFiles([ZCPath.appbuilderCss.pageappearanceCss]).then(function(){a()})};
case Modules.APPROVALBUILDER:case Modules.WORKFLOWBUILDER:return function(b,d,c,e){window.CodeMirror=b;window.moment=d;window.Handlebars=e;require("foldcode foldgutter bracefold comment commentfold searchcursor matchbrackets lint fullscreen dialog activeline runmode matchbrackets closebrackets autorefresh sublime deluge-search-dialog deluge-custom-search workflowbuilder delugeeditor".split(" "),function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.workflowbuilderCss]).then(function(){a()})})};
case Modules.BLUEPRINTBUILDER:return function(b,d,c,e){window.CodeMirror=b;window.moment=d;window.Handlebars=e;require("foldcode foldgutter bracefold comment commentfold searchcursor matchbrackets lint fullscreen dialog activeline runmode matchbrackets closebrackets autorefresh sublime deluge-search-dialog deluge-custom-search workflowbuilder blueprintbuilder delugeeditor".split(" "),function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.workflowbuilderCss]).then(function(){a()})})};
case Modules.FUNCTIONBUILDER:return function(b,d,c,e){window.CodeMirror=b;window.moment=d;require(["foldcode","foldgutter","bracefold","comment","commentfold","searchcursor","matchbrackets","lint","fullscreen","dialog","activeline","runmode","matchbrackets","closebrackets","autorefresh","sublime","deluge-search-dialog","deluge-custom-search","workflowbuilder","delugeeditor",ZCPath.cloudEditorJs,ZCPath.cloudTreeJs,ZCPath.cloudLoaderJs],function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.workflowbuilderCss,
ZCPath.cloudEditorCss,ZCPath.cloudTreeCss,ZCPath.appbuilderCss.functionbuilderCss]).then(function(){a()})})};case Modules.APPWORKFLOW:case Modules.WORKFLOWAPPEARANCE:return function(b,d){window.moment=b;require(["workflowbuilder"],function(){a()})};case Modules.DATETIMEPICKER:return function(b,d){window.moment=b;a()};case Modules.TEMPLATEPRINTBUILDER:return function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.templateprintbuilderCss]).then(function(){a()})};case Modules.APPLICATIONIDE:return function(b,
d){window.CodeMirror=b;window.html_beautify=d.html_beautify;require("zohoeditor applicationide foldcode foldgutter bracefold comment commentfold searchcursor matchbrackets lint fullscreen dialog activeline runmode matchbrackets closebrackets autorefresh sublime deluge-search-dialog deluge-custom-search delugeeditor".split(" "),function(){a()})};case Modules.CLIPBOARD:return function(b){window.Clipboard=b;a()};case Modules.SCHEMABUILDER:return function(){require([ZCPath.appbuilderJs.schemabuilderJs],
function(){a()})};case Modules.APPSETTINGS:return function(){loadFiles([ZCPath.appbuilderCss.delugebuilderCss,ZCPath.appbuilderCss.settingsCss,ZCPath.staticCss.tpColorPickerCss,ZCPath.appbuilderCss.schemabuilderCss]).then(function(){a()})};case Modules.SUPPORTFEEDBACK:return function(){loadFiles([ZCPath.appCss.reachusCss,ZCPath.staticCss.supportCss]).then(function(){a()})};case Modules.PORTALPAGETEMPLATE:return function(){loadFiles([ZCPath.appCss.customizedPortalTemplateCss]).then(function(){a()})};
case Modules.FORMBUILDER:return function(b,d){window.Handlebars=b;window.Clipboard=d;loadFiles([ZCPath.appbuilderCss.formbuilderCss]).then(function(){a()})};case Modules.WEBREPORTAPPEARANCE:case Modules.MOBILEREPORTAPPEARANCE:case Modules.REPORTBUILDER:return function(b){window.Handlebars=b;loadFiles([ZCPath.staticCss.tpColorPickerCss]).then(function(){a()})};case Modules.SECTIONS:return function(){loadFiles([ZCPath.appbuilderCss.sectionsCss]).then(function(){a()})};case Modules.THEMES:return function(){loadFiles([ZCPath.appbuilderCss.themesCss]).then(function(){a()})};
case Modules.QUICKSHARE:return function(){loadFiles([ZCPath.appbuilderCss.quickshareCss]).then(function(){a()})};case Modules.PUBLISH:return function(b){window.Clipboard=b;a()};case Modules.ONBOARD:return function(){loadFiles([ZCPath.appbuilderCss.onboardCss]).then(function(){a()})};case Modules.USERSPERMISSION:case Modules.PLATFORMPERMISSION:return function(){loadFiles(["share"]).then(function(){a()})};case Modules.PORTALPERMISSIONS:return function(){loadFiles(["portal","share"]).then(function(){a()})};
case Modules.MOBILESDK:return function(b){window.Clipboard=b;a()};default:return function(b){a()}}}}
function AppBuilder(c){var a=this;a.component=new AppComponent(c);this.header=new ZCHeader(a.component);this.footer=ZCFOOTER.getInstance(ZCFOOTER.BUILDER);this.navigator=new ZCNavigator(a.component);this.bootConfig=bootConfig;this.isTemplatePrintBuilderCssLoaded=this.isTemplateBuilderCssLoaded=this.isPageAppearanceCssLoaded=this.isPageBuilderJsLoaded=this.isPageBuilderCssLoaded=!1;this.boot=function(){a.bootConfig.useCompression&&require.config({baseUrl:ZCPath.appbuilderJs.basepath,paths:this.bootConfig.pathMap,
packages:[{name:"../lib/codemirror",location:ZCPath.appbuilderJs.codemirror.substr(0,ZCPath.appbuilderJs.codemirror.lastIndexOf("/"))+"//",main:ZCPath.appbuilderJs.codemirror.substr(ZCPath.appbuilderJs.codemirror.lastIndexOf("/")+1)},{name:"../fold/xml-fold",location:bootConfig.pathMap["xml-fold"].substr(0,bootConfig.pathMap["xml-fold"].lastIndexOf("/")+1),main:bootConfig.pathMap["xml-fold"].substr(bootConfig.pathMap["xml-fold"].lastIndexOf("/")+1)},{name:"../edit",location:bootConfig.pathMap.matchtags.substr(0,
bootConfig.pathMap.matchtags.lastIndexOf("/")),main:bootConfig.pathMap.matchtags.substr(bootConfig.pathMap.matchtags.lastIndexOf("/")+1)},{name:"../../lib/codemirror",location:ZCPath.appbuilderJs.codemirror.substr(0,ZCPath.appbuilderJs.codemirror.lastIndexOf("/")),main:ZCPath.appbuilderJs.codemirror.substr(ZCPath.appbuilderJs.codemirror.lastIndexOf("/")+1)},{name:"../dialog/dialog",location:bootConfig.pathMap.dialog.substr(0,bootConfig.pathMap.dialog.lastIndexOf("/")),main:bootConfig.pathMap.dialog.substr(bootConfig.pathMap.dialog.lastIndexOf("/")+
1)},{name:"../addon/search/searchcursor",location:bootConfig.pathMap.searchcursor.substr(0,bootConfig.pathMap.searchcursor.lastIndexOf("/")+1),main:bootConfig.pathMap.searchcursor.substr(bootConfig.pathMap.searchcursor.lastIndexOf("/")+1)},{name:"../addon/edit/matchbrackets",location:bootConfig.pathMap.matchbrackets.substr(0,bootConfig.pathMap.matchbrackets.lastIndexOf("/")+1),main:bootConfig.pathMap.matchbrackets.substr(bootConfig.pathMap.matchbrackets.lastIndexOf("/")+1)},{name:"../addon/lib/codemirror",
location:ZCPath.appbuilderJs.codemirror.substr(0,ZCPath.appbuilderJs.codemirror.lastIndexOf("/")+1),main:ZCPath.appbuilderJs.codemirror.substr(ZCPath.appbuilderJs.codemirror.lastIndexOf("/")+1)}],waitSeconds:15});a.init()};this.init=function(){ziaEnableShortcut();a.deferLoadImage();a.component.init();this.initLayout();this.initModule();this.bindEvents();this.bindZCReportlistener();this.initMICSNotification();this.showApiDeprecationBanner();this.showBanner();this.showOPNotificationBanner();workflowV2FlashScreen();
CreatorCampaign.loadCreatorCampaign()};this.deferLoadImage=function(){$("body").append($('\x3cimg src\x3d"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d" width\x3d"0" height\x3d"0" /\x3e').attr("src",createNewIconUrl));$("body").append($('\x3cimg src\x3d"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d" width\x3d"0" height\x3d"0" /\x3e').attr("src",createNewActiveIconUrl));$('\x3cimg src\x3d"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d" width\x3d"0" height\x3d"0" /\x3e').on("load",
function(){$(this).remove()})};this.updateModule=function(b,d){void 0!=b&&(c.prevModuleName=c.moduleName,c.moduleName=b,ziaEnableShortcut(),a.initModule(!0,d))};this.initLayout=function(){this.header.init();this.navigator.init();this.footer.init(!1)};this.initModule=function(b,d){var f=c.moduleName;f==Modules.REPORTBUILDER&&$("#appbuilder-main-head").addClass("zc-dem-report-header");if(appbuilder.bootConfig.useCompression){var e=new Requires(f);require(e.get(),e.getPromise(function(){var c=getModule(f,
a.component);b?c.ajaxInit(!d):c.init()}))}else e=getModule(f,a.component),b?e.ajaxInit(!d):e.init()};this.bindEvents=function(){ZCHistory.appBuilder=this;$(document).on("click","a[ajax\x3dtrue]:not([href*\x3d'javascript:']):not([href*\x3d'#']):not([href*\x3d''])",function(a){ZCHistory.pushState(a,this)});$(document).zcTooltip({selector:":not([data-title-ignore])"});$(window).on("popstate",function(a){""==location.hash&&ZCHistory.popState(a)});this.listenLiveMode()};this.listenLiveMode=function(){var a=
this;$(window).off("message").on("message",function(b){b=b.originalEvent;"showAppearance"==b.data.callFunc?WebAppearance.showAppearance(a.component,b.data):"showBuilder"==b.data.callFunc?WebAppearance.showBuilder(a.component,b.data):"showFieldMapping"==b.data.callFunc?WebAppearance.showFieldMapping(a.component,b.data):"renameReport"==b.data.callFunc?(ReportBuilder.component=a.component,ReportBuilder.isThirdPartyReport=!0,$(this).renameReport(b)):"deleteReport"==b.data.callFunc?(ReportBuilder.component=
a.component,$(this).deleteReport(b)):"documentClick"==b.data.callFunc&&(b=$(".zc-dem-top-header-actions").find(".zc-liveaccess-dropdown .zc-dem-drop-dwn-box"),b.is(":visible")&&b.hide())})};this.bindZCReportlistener=function(){postListener=function(a){a.origin&&(a=a.data,void 0!=a&&"init"==a.type?hideLoading():void 0!=a&&"xml"==a.type?ZCReportEditor.saveView(a.data):void 0!=a&&"addColumn"==a.type&&ZCReportEditor.openReportBuilder())};window.addEventListener?window.addEventListener("message",postListener,
!1):window.attachEvent("onmessage",postListener)};this.initMICSNotification=function(){bootConfig.zcReachConfig.isTipEnabled&&(new ZCTip(bootConfig.zcReachConfig)).load();bootConfig.zcReachConfig.isMessageBoardEnabled&&(new ZCMessageBoard(bootConfig.zcReachConfig)).load()};this.showApiDeprecationBanner=function(){ZCGlobal.isApiDeprecation&&$("body").apiDeprecationBanner(!0)};this.showOPNotificationBanner=function(){ZCGlobal.showOPNotificationBanner&&$("body").showOPNotificationBanner(ZCGlobal.opBannerContent,
ZCGlobal.closeOpBanner)};this.showBanner=function(){ZCGlobal.isAccountMarkedForDeletion&&$("body").accountDeletionBanner(!0);ZCGlobal.isPlanDeprecated&&$("body").deprecatedPlanBanner(ZCGlobal.planVersion)}}
var ZCHistory=new function(){this.historyStack=[];this.urlStack=[];this.getUrlStack=function(){return this.urlStack.reverse()};this.pushState=function(c,a){if(!history.pushState)return!0;var b=$(a).get(0).href;c.preventDefault();window.location.href!=b&&history.pushState({},$(a).get(0).textContent,b);c=$(a).attr("targetContainer");var d=$(a).attr("module");ZCHistory.processState(b,c,d);this.historyStack.push(a);return!1};this.popState=function(c){if(1>=this.historyStack.length)return window.location.reload(),
!1;this.historyStack.pop();var a=this.historyStack.pop();this.pushState(c,a)};this.historyPush=function(c,a){window.location.pathname!=c&&(a&&(this.urlStack.push(window.location.pathname),this.urlStack.push(c)),history.pushState(null,null,c))};this.historyReplace=function(c){window.location.pathname!=c&&history.replaceState(null,null,c)};this.processState=function(c,a,b){var d=this;this.historyPush(c);setTimeout(function(){$.ajax({url:c+"?xajazc\x3dtrue",type:"GET",cache:!0,beforeSend:function(){showLoading()},
success:function(c,e,g){$(a).html(c);d.appBuilder.updateModule(b);hideLoading()}})},1)}};
function getModule(c,a){switch(c){case Modules.ONBOARD:module=new OnBoard(a);break;case Modules.WEBFORMAPPEARANCE:module=new WebFormAppearance(a);break;case Modules.WEBREPORTAPPEARANCE:module=new WebReportAppearance(a);break;case Modules.WEBPAGEAPPEARANCE:module=new WebPageAppearance(a);break;case Modules.MOBILEFORMAPPEARANCE:module=new MobileFormAppearance(a);break;case Modules.MOBILEREPORTAPPEARANCE:module=new MobileReportAppearance(a);break;case Modules.MOBILEPAGEAPPEARANCE:module=new MobilePageAppearance(a);
break;case Modules.MOBILEAPPEARANCE:module=new MobileAppearance(a);break;case Modules.FORMBUILDER:module=new FormCompBuilder(a);break;case Modules.REPORTBUILDER:module=new ReportCompBuilder(a);break;case Modules.PAGEBUILDER:module=new PageCompBuilder(a);break;case Modules.WORKFLOWAPPEARANCE:case Modules.APPWORKFLOW:module=new ApplicationWorkflow(a);break;case Modules.WORKFLOWBUILDER:module=new WorkflowCompBuilder(a);break;case Modules.APPROVALBUILDER:module=new APCompBuilder(a);break;case Modules.FUNCTIONBUILDER:module=
new FunctionCompBuilder(a);break;case Modules.BLUEPRINTBUILDER:module=new BlueprintCompBuilder(a);break;case Modules.APPSETTINGS:module=new ApplicationSettings(a);break;case Modules.TEMPLATEPRINTBUILDER:module=new TemplatePrintBuilder(a);break;case Modules.SCHEMABUILDER:module=new SchemaBuilder(a);break;default:module=new WebAppearance(a)}return module};function CustomIcon(c,a){this.setCustomThemeIcons=function(){if(c&&""!=c)try{var b=JSON.parse(c);if("2"==a){var d=Object.keys(b[2]);var f=b[2]}else"3"==a?(d=Object.keys(b[3]),f=b[3]):(d=Object.keys(b[1]),f=b[1]);$.each(d,function(a,b){a=f[b];$("#t"+b).removeClass("fa-desktop tech-desktop fa-list-alt ui-3-playlist");$("#t"+b).addClass(a)})}catch(e){}}};